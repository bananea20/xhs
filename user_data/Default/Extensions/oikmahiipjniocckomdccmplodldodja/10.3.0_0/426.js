(self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[]).push([[426],{92658:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,Ky:()=>c,nX:()=>o});n(73439),n(6710);var r=n(36023),s=n(91004);var i=n(1327);const a={source:"auto",region:"cn-hangzhou"};function o(e){return"200"===e.Code}function c(e,t){return e.Data.Translated===t}async function u(e,t,n,o){const c={Action:null!=o&&o.domain?"Translate":"TranslateGeneral",FormatType:"text",SourceText:e,SourceLanguage:(null==o?void 0:o.source)||a.source,Scene:(null==o?void 0:o.domain)||"general",TargetLanguage:t},u="/api/translate/web/"+(null!=o&&o.domain?"ecommerce":"general"),l=function(e,t,n,i){const a=(0,r.MD5)(e).toString(r.enc.Base64),o="application/json",c="application/json;charset=UTF-8",u=(new Date).toUTCString(),l=a,h=(0,s.Z)(),d=n+"\n"+o+"\n"+l+"\n"+c+"\n"+u+"\nx-acs-signature-method:HMAC-SHA1\nx-acs-signature-nonce:"+h+"\nx-acs-version:2019-01-02\n"+i,p=(0,r.HmacSHA1)(d,t.key).toString(r.enc.Base64);return{Accept:o,"Content-Type":c,"Content-MD5":l,Date:u,Authorization:"acs "+t.id+":"+p,"x-acs-signature-nonce":h,"x-acs-signature-method":"HMAC-SHA1","x-acs-version":"2019-01-02"}}(JSON.stringify(c),n,"POST",u);l["hcfy-Date"]=l.Date,delete l.Date;return(await i.Z.post(`https://mt.${(null==o?void 0:o.region)||a.region}.aliyuncs.com${u}`,c,{headers:l})).data}},41215:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});n(73439),n(71372),n(634);var r=n(1327),s=n(82868);n(77950),n(85940);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e){i(this,"accessTokenObj",null),i(this,"accessTime",0),this.key=e}async requestAccessToken(){const e=await r.Z.post("https://aip.baidubce.com/oauth/2.0/token",(0,s.qs)({grant_type:"client_credentials",client_id:this.key.id,client_secret:this.key.key}));if(null!=(t=e.data)&&t.error)throw new Error("获取百度智能云授权码时失败，请稍后重试。错误消息："+e.data.error+": "+e.data.error_description);var t;return e.data}async getAccessToken(){let e=this.accessTokenObj;return(!e||(Date.now()-this.accessTime)/1e3>=e.expires_in)&&(e=await this.requestAccessToken(),this.accessTokenObj=e,this.accessTime=Date.now()),e.access_token}async ocr(e){return async function(e,t){const n={image:e.replace(/^data:[^;]+;base64,/,""),paragraph:"true",language_type:"auto_detect"};return(await r.Z.post("https://aip.baidubce.com/rest/2.0/ocr/v1/accurate_basic?access_token="+t,(0,s.qs)(n))).data}(e,await this.getAccessToken())}}},59773:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h,Ky:()=>u,nX:()=>c});n(73439),n(71372);var r=n(82868),s=n(23196),i=n.n(s);function a(e,t,n){const r=Date.now();return{q:e,appid:t.id,salt:r,sign:i()(t.id+e+r+(n||"")+t.key),domain:n}}var o=n(1327);function c(e){return!("error_code"in e)}function u(e){return e.from===e.to}const l={source:"auto"};async function h(e,t,n,s){const i=(await o.Z.post(null!=s&&s.domain?"https://fanyi-api.baidu.com/api/trans/vip/fieldtranslate":"https://fanyi-api.baidu.com/api/trans/vip/translate",(0,r.qs)({from:(null==s?void 0:s.source)||l.source,to:t,...a(e,n,null==s?void 0:s.domain)}))).data;if(!i)throw new Error("百度翻译对这段文本没有返回翻译结果，请尝试增加或减少翻译文本后重试。");return i}},87778:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,Z:()=>a});n(73439);var r=n(1327);const s={source:"auto"};function i(e,t){return e.target.join("\n")===t}async function a(e,t,n,i){const a={source:e.split("\n"),trans_type:`${(null==i?void 0:i.source)||s.source}2${t}`,detect:!0};return(await r.Z.post("https://api.interpreter.caiyunai.com/v1/translator",a,{headers:{"X-Authorization":`token ${n}`}})).data}},79248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(73439);var r=n(1327);async function s(e,t,n="https://api.openai.com/"){"/"!==n[n.length-1]&&(n+="/");return(await r.Z.post(`${n}v1/chat/completions`,t,{headers:{Authorization:`Bearer ${e}`}})).data}},29532:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(1327),s=n(82868);function i(e,t,n,i,a=!1){return r.Z.post(`https://api${a?"":"-free"}.deepl.com/v2/translate`,(0,s.qs)({auth_key:n,text:e.split("\n"),source_lang:i,target_lang:t})).then((e=>e.data))}},65259:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,Ky:()=>u,nX:()=>c});n(73439),n(6710),n(15735),n(6886),n(14121),n(60523),n(43673),n(40753),n(28399),n(77950);var r=n(36023),s=n(96440);function i(e,t){const n=new URL(t.url),i=n.hostname,a=i.slice(0,i.indexOf(".")),o="content-type;host",c=t.method+"\n/\n"+n.search.slice(1)+"\n"+("content-type:application/json\nhost:"+i+"\n")+"\n"+o+"\n"+(0,r.SHA256)(t.bodyString).toString(r.enc.Hex).toLowerCase(),u="HMAC-SHA256",l=new Date,h=l.getUTCFullYear()+(0,s.Z)(String(l.getUTCMonth()+1),2,"0")+(0,s.Z)(String(l.getUTCDate()),2,"0"),d=h+"T"+(0,s.Z)(String(l.getUTCHours()),2,"0")+(0,s.Z)(String(l.getUTCMinutes()),2,"0")+(0,s.Z)(String(l.getUTCSeconds()),2,"0")+"Z",p=`${h}/${t.region}/${a}/request`,m=u+"\n"+d+"\n"+p+"\n"+(0,r.SHA256)(c).toString(r.enc.Hex).toLowerCase(),f=e.key,y=(0,r.HmacSHA256)(h,f),g=(0,r.HmacSHA256)(t.region,y),w=(0,r.HmacSHA256)(a,g),v=(0,r.HmacSHA256)("request",w),k=(0,r.HmacSHA256)(m,v).toString(r.enc.Hex);return{Authorization:u+" Credential="+e.id+"/"+p+", SignedHeaders="+o+", Signature="+k,"Content-Type":"application/json","X-Date":d}}var a=n(1327);const o={region:"cn-north-1"};function c(e){return!("Error"in e.ResponseMetaData)}function u(e,t){return e.TranslationList[0].DetectedSourceLanguage===t}async function l(e,t,n,r){let s="https://translate";s+=".volcengineapi.com/?Action=TranslateText&Version=2020-06-01";const c=JSON.stringify({TextList:[e],SourceLanguage:null==r?void 0:r.source,TargetLanguage:t});return(await a.Z.post(s,c,{headers:i(n,{method:"POST",url:s,bodyString:c,region:(null==r?void 0:r.region)||o.region})})).data}},2483:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,Ky:()=>u,nX:()=>c});n(73439),n(6710),n(15735),n(6886),n(14121),n(60523),n(43673),n(40753),n(28399),n(77950);var r=n(36023),s=n(96440);function i(e,t){const n=new URL(t.url),i=n.hostname,a=i.slice(0,i.indexOf(".")),o=t.method,c="content-type;host",u=o+"\n/\n"+("POST"===o?"":n.search.slice(1))+"\n"+("content-type:application/json\nhost:"+i+"\n")+"\n"+c+"\n"+(0,r.SHA256)(t.bodyString).toString(r.enc.Hex).toLowerCase(),l="TC3-HMAC-SHA256",h=new Date,d=Math.floor(h.getTime()/1e3),p=h.getUTCFullYear()+"-"+(0,s.Z)(String(h.getUTCMonth()+1),2,"0")+"-"+(0,s.Z)(String(h.getUTCDate()),2,"0"),m=`${p}/${a}/tc3_request`,f=l+"\n"+d+"\n"+m+"\n"+(0,r.SHA256)(u).toString(r.enc.Hex).toLowerCase(),y=e.id,g=e.key,w=(0,r.HmacSHA256)(p,"TC3"+g),v=(0,r.HmacSHA256)(a,w),k=(0,r.HmacSHA256)("tc3_request",v);return{Authorization:l+" Credential="+y+"/"+m+", SignedHeaders="+c+", Signature="+(0,r.HmacSHA256)(f,k).toString(r.enc.Hex),"Content-Type":"application/json","X-TC-Action":"TextTranslate","X-TC-Version":"2018-03-21","X-TC-Timestamp":String(d),"X-TC-Region":t.region}}var a=n(1327);const o={source:"auto",region:"ap-shanghai"};function c(e){return!("Error"in e.Response)}function u(e){return e.Response.Source===e.Response.Target}async function l(e,t,n,r){let s="https://tmt";null!=r&&r.addRegionInHost&&(s+=`.${(null==r?void 0:r.region)||o.region}`),s+=".tencentcloudapi.com";const c=JSON.stringify({SourceText:e,Source:(null==r?void 0:r.source)||o.source,Target:t,ProjectId:0});return(await a.Z.post(s,c,{headers:i(n,{method:"POST",url:s,bodyString:c,region:(null==r?void 0:r.region)||o.region})})).data}},3209:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h,Ky:()=>l,nX:()=>u});n(15735),n(6886),n(73439);var r=n(36023);function s(e){const t=e.length;return t<=20?e:e.substring(0,10)+t+e.substring(t-10,t)}function i(e,t){const n=Date.now(),i=Math.round(n/1e3);return{q:e,appKey:t.id,salt:n,sign:(0,r.SHA256)(t.id+s(e)+n+i+t.key).toString(r.enc.Hex),signType:"v3",curtime:i}}var a=n(1327),o=n(82868);const c={source:"auto"};function u(e){return"0"===e.errorCode}function l(e){const[t,n]=e.l.split("2");return t===n}async function h(e,t,n,r){return(await a.Z.post("https://openapi.youdao.com/api",(0,o.qs)({from:(null==r?void 0:r.source)||c.source,to:t,...await i(e,n)}))).data}},66108:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});n(36728),n(73439),n(71372),n(15735),n(6886);var r=n(17419),s=n(74875),i=n(50251),a=n.n(i),o=n(64443);function c(e,t){const n=e.indexOf(t);n<0||(e.splice(n,1),e.push(t))}const u={name:"为什么此服务需要自行申请之后才能使用？",url:"https://hcfy.app/docs/faqs/why-apply"};class l{constructor(e,t=!1){this.service=e,this.service=e,this.retry="boolean"==typeof t?{secretKey:t,free:t}:t,this.isFreeOnly=(0,s.Ip)(e),this.isPointsOnly=(0,s.q2)(e),this.isSecretKeyOnly=(0,s.o7)(e)}retryInner(e,t){return(0,o.X)(e,{count:t?2:0,beforeRetry:e=>!!(e instanceof r.mD&&e.noRetry)})}async isAllowPoints(){return!this.service.pointsEnable||this.service.pointsEnable.get()}setSecretKeys(e){return this.service.secretKeys?this.service.secretKeys.set(e):Promise.reject(new Error(`划词翻译内部错误：${this.service.name}不支持通过密钥使用，但却错误的调用了写入密钥的方法。`))}async getSecretKeys(){if(!this.service.secretKeys)throw new Error(`划词翻译内部错误：${this.service.name}不支持通过密钥使用，但却错误的调用了读取密钥的方法。`);const e=await this.service.secretKeys.get(),t=e.filter(this.service.secretKeys.isComplete);return{allKeys:e,keys:t}}async callBySecretKeysInner(e,t){const{allKeys:n,keys:s}=await this.getSecretKeys();if(!s.length)throw e.noSecretKeys=!0,new r.mD(`没有为${this.service.name}配置密钥。`,{link:u});let i=!1;const a=[];for(const e of s)try{const r=await this.retryInner((()=>this.callBySecretKey(e,t)),this.retry.secretKey);return i&&this.setSecretKeys(n).catch((e=>{console.error(e)})),r}catch(t){a.push(t),i=!0,c(n,e)}if(1===a.length){const e=(0,r.RE)(a[0]);throw e.message=`${e.message}请前往${this.service.name}的官方平台确认密钥是否填写正确以及免费额度是否已用完。`,e}throw new r.mD(`${this.service.name}的所有密钥都报错了，请前往${this.service.name}的官方平台确认密钥是否填写正确以及免费额度是否已用完。`,{errors:a})}callByFree(e){throw new Error(`划词翻译内部错误：没有为${this.service.name}提供免费试用的具体实现。`)}callByFreeInner(e){return this.retryInner((()=>this.callByFree(e)),this.retry.free)}callBySecretKey(e,t){throw new Error(`划词翻译内部错误：没有为${this.service.name}提供通过密钥使用的具体实现。`)}callByPoints(e){throw new Error(`划词翻译内部错误：没有为${this.service.name}提供通过翻译积分使用的具体实现。`)}async callByPointsInner(e,t){const[n,s]=await Promise.all([a().storage.local.get("user").then((({user:e})=>e)),this.isAllowPoints()]);if(s&&n&&n.points&&n.points>0)return this.callByPoints(t);if(n){if(n.points){if(!s)throw new Error(`请先前往【服务申请】启用${this.service.name}的翻译积分。`);throw new r.mD("翻译积分余额不足，请前往【服务申请】购买翻译积分。",{type:r.cF.NO_POINTS,link:u})}throw e.neverBoughtPoints=!0,new r.mD("通过翻译积分使用服务时需要先购买翻译积分。",{type:r.cF.NO_POINTS,link:u})}throw e.neverBoughtPoints=!0,new r.mD("请先登录划词翻译账号。",{type:r.cF.NO_POINTS,link:u})}async call(e){const t=[],n=[],s={};if(this.service.secretKeys&&(t.push((()=>this.callBySecretKeysInner(s,e))),n.push("密钥")),this.service.points&&(t.push((()=>this.callByPointsInner(s,e))),n.push("翻译积分")),this.service.free&&(t.push((()=>this.callByFreeInner(e))),n.push("免费试用")),!t.length)throw new Error(`划词翻译内部错误：没有为${this.service.name}定义使用方式。`);const i=[],a={};for(let e=0;e<n.length;e+=1){const s=t[e];try{return await s()}catch(t){a[n[e]]=t;const s=(0,r.RE)(t).clone();s.message=`${n[e]}报错信息：“${s.message}”`,i.push(s)}}if(this.isPointsOnly){if(s.neverBoughtPoints)throw new r.mD(`${this.service.name}只能付费使用，请前往【服务申请】购买翻译积分。`,{type:r.cF.NO_POINTS,link:u});throw a["翻译积分"]}if(this.isFreeOnly)throw a["免费试用"];if(this.isSecretKeyOnly){if(s.noSecretKeys)throw new r.mD(`${this.service.name}只能自行申请密钥使用，请前往【服务申请】进行配置。`,{type:r.cF.NEED_KEY,link:u});throw a["密钥"]}if((!this.service.secretKeys||s.noSecretKeys)&&(!this.service.points||s.neverBoughtPoints))throw this.service.free?a["免费试用"]:new r.mD(`${this.service.name}需要自行申请后使用（免费），请前往【服务申请】查看申请步骤。`,{type:r.cF.NEED_KEY,link:u});throw new r.mD(`尝试通过${n.join("、")}使用${this.service.name}时均失败了。`,{type:r.cF.NEED_KEY,errors:i})}}},88120:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});n(73439);var r=n(66108),s=n(81834),i=n(17419);class a extends r.a{isSuccessResponse(e){return!0}throwErrorResponse(e){throw new i.mD(`${this.service.name}抛出了一个错误，但未被处理。`,{context:e})}async callByPoints(e){const t=(await s.L.post("/ocr",{api:this.service.id,image:e.image})).data.serverResponse;return this.isSuccessResponse(t)||this.throwErrorResponse(t),t}async ocr(e){const t=await this.call(e);return this.transform(t)}}},18625:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});n(73439);var r=n(50251),s=n.n(r);const i={zh:"中文(简体)","zh-TW":"中文(繁体)",en:"英语",da:"丹麦语",nl:"荷兰语",fi:"芬兰语",fr:"法语",de:"德语",he:"希伯来语",it:"意大利语",ja:"日语",ko:"韩语",no:"挪威语",pl:"波兰语",pt:"葡萄牙语","pt-PT":"葡萄牙语","pt-BR":"巴西葡萄牙语",ru:"俄语",es:"西班牙语",sv:"瑞典语",cs:"捷克语",el:"希腊语",is:"冰岛语",lv:"拉脱维亚语",lt:"立陶宛语",ro:"罗马尼亚语",hu:"匈牙利语",et:"爱沙尼亚语",bg:"保加利亚语",hr:"克罗地亚语",sr:"塞尔维亚语",ga:"爱尔兰语",gl:"加利西亚语",fil:"他加禄语",tr:"土耳其语",uk:"乌克兰语",hi:"印地语",mk:"马其顿语",bn:"孟加拉语",id:"印尼语",la:"拉丁语",ms:"马来语",ml:"马拉雅拉姆语",cy:"威尔士语",ne:"尼泊尔语",te:"泰卢固语",sq:"阿尔巴尼亚语",ta:"泰米尔语",be:"白俄罗斯语",jw:"爪哇语",oc:"奥克语",ur:"乌尔都语",bh:void 0,gu:"古吉拉特语",th:"泰语",ar:"阿拉伯语",ca:"加泰罗尼亚语",eo:"世界语",eu:"巴斯克语",ia:"因特语",kn:"卡纳达语",pa:"旁遮普语",gd:"苏格兰盖尔语",sw:"斯瓦希里语",sl:"斯洛文尼亚语",mr:"马拉地语",mt:"马耳他语",vi:"越南语",fy:"弗里西语",sk:"斯洛伐克语",fo:"法罗语",su:"印尼巽他语",uz:"乌兹别克语",am:"阿姆哈拉语",az:"阿塞拜疆语",ka:"格鲁吉亚语",ti:"提格利尼亚语",fa:"波斯语",bs:"波斯尼亚语",si:"僧伽罗语",nn:"新挪威语",xh:"科萨语",zu:"祖鲁语",gn:"瓜拉尼语",st:"塞索托语",tk:"土库曼语",ky:"吉尔吉斯语",br:"布列塔尼语",tw:"契维语",yi:"意第绪语",sh:"塞尔维亚-克罗地亚语",so:"索马里语",ug:"维吾尔语",ku:"库尔德语",mn:"蒙古语",hy:"亚美尼亚语",lo:"老挝语",sd:"信德语",rm:"罗曼什语",af:"南非荷兰语",lb:"卢森堡语",my:"缅甸语",km:"高棉语",bo:void 0,dv:"迪维西语",chr:"切罗基语",syr:"叙利亚语","sit-NP":void 0,or:"奥里亚语",as:"阿萨姆语",co:"科西嘉语",ie:"西方国际语",kk:"哈萨克语",ln:"林加拉语",mo:void 0,ps:"普什图语",qu:"克丘亚语",sn:"修纳语",tg:"塔吉克语",tt:"鞑靼语",to:"汤加语",yo:"约鲁巴语",cpe:void 0,cpf:void 0,cpp:void 0,crp:void 0,mi:"毛利语",wo:"沃洛夫语",ab:"阿布哈兹语",aa:void 0,ay:"艾马拉语",ba:"巴什基尔语",bi:"比斯拉马语",dz:void 0,fj:"斐济语",kl:"格陵兰语",ha:"豪萨语",ht:"海地克里奥尔语",ik:void 0,iu:"伊努克提图特语",ks:"克什米尔语",rw:"卢旺达语",mg:"马尔加什语",na:void 0,om:"奥罗莫语",rn:"基隆迪语",sm:"萨摩亚语",sg:"桑戈语",sa:"梵语",ss:void 0,ts:"聪加语",tn:void 0,vo:"沃拉普克语",za:void 0,kha:"卡西语",sco:"苏格兰语",lg:"卢干达语",gv:"马恩语","sr-ME":void 0};async function a(e){var t;const n=null===(t=(await s().i18n.detectLanguage(e)).languages[0])||void 0===t?void 0:t.language;if(n)return i[n]}},85756:(e,t,n)=>{"use strict";n.d(t,{b:()=>u,s:()=>l});n(73439),n(36728),n(15735),n(6886),n(85371);var r=n(66108),s=n(89930),i=n(15833),a=n(81834),o=n(18625),c=n(17419);function u(e){return e.split("\n").map((e=>e.trim())).filter(s.Z).join("\n")}class l extends r.a{constructor(e,t){super(e,null==t?void 0:t.retry),this.service=e,this.standardMap=null==t?void 0:t.standardMap,this.customMap=this.standardMap&&(0,i.Z)(this.standardMap)}convertToStandard(e){return this.customMap?this.customMap[e]:e}convertToCustom(e){return this.standardMap?this.standardMap[e]:e}isSameLang(e,t){return!1}isSuccessResponse(e){return!0}throwErrorResponse(e){throw new c.mD(`${this.service.name}抛出了一个错误，但未被处理。`,{context:e})}async callByPoints(e){const{text:t,destination:n,source:r,domain:s}=e,i=(await a.L.post("/translate",{api:this.service.id,text:t,destination:n,source:r,domain:s})).data.serverResponse;return this.isSuccessResponse(i)||this.throwErrorResponse(i),i}async convertLanguages(e,t){const{text:n,destinations:r,source:s}=e;let i;if(s&&(i=this.convertToCustom(s),!i))throw new c.mD(`${this.service.name}不支持翻译语种为${s}的文本。`,{type:c.cF.UNSUPPORTED_LANGUAGE,context:t});t.source=i;const a=[];if(r.some((e=>{const t=this.convertToCustom(e);if(t)return 2===a.push(t)})),!a.length)throw new c.mD(this.service.name+"不支持将文本翻译为这些语种："+r.join("，")+"。",{type:c.cF.UNSUPPORTED_LANGUAGE,context:t});t.destinations=a;let u=0,l=i;l||(l=await(0,o.e)(n),l&&(l=this.convertToCustom(l))),l===a[0]&&a.length>1&&(u=1),t.destIndex=u}async getDomainInner(e){if(!this.service.getDomain)return;const t=await this.service.getDomain();if(!t)throw new c.mD("请先前往【划词翻译设置】-【第三方服务】选择专业领域。",{type:c.cF.NEED_DOMAIN,context:e});e.domain=t}async translateInner(e,t){const n=e.destIndex,r=await this.call({text:e.normalizedText,destination:e.destinations[n],source:e.source,domain:e.domain});if(!t&&e.destinations.length>1&&this.isSameLang(r,e)){let t;return t=0===n?1:0,e.destIndex=t,this.translateInner(e,!0)}return r}async translate(e){const t=u(e.text),n={text:e.text,normalizedText:t,hcfySource:e.source,hcfyDestinations:e.destinations,destinations:[],destIndex:0};let r;try{await Promise.all([this.convertLanguages(e,n),this.getDomainInner(n)]),r=await this.translateInner(n,!1)}catch(e){const t=this.transform(n);return t.error=(0,c.RE)(e).toJSON(),t}return this.transform(n,r)}getTTS(e,t){throw new c.mD(this.service.name+"不支持语音朗读。")}}},29883:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});n(73439);var r=n(1327),s=n(17419);async function i(e){var t;const n=(await r.Z.get("https://www.bing.com/dict/search?q="+encodeURIComponent(e)+"&cc=cn",{responseType:"document"})).data;if(null===(t=n.getElementsByClassName("p1-11")[0])||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())throw new s.mD("没有提供词典翻译结果。");return n}},39165:(e,t,n)=>{"use strict";n.d(t,{s:()=>le});n(73439),n(36728),n(71372),n(15735),n(6886),n(1951),n(21515);var r=n(30686),s=n(30647),i=n(25130),a=n(52665);function o(e,t){u(e,t),t.add(e)}function c(e,t,n){u(e,t),t.set(e,n)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,p(e,t,"get"))}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,p(e,t,"set"),n),n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const m=i("@hcfyapp/browser-automation:Worker");var f=new WeakMap,y=new WeakMap,g=new WeakMap,w=new WeakMap,v=new WeakMap,k=new WeakSet,b=new WeakSet;class T extends r.Z{constructor(e,t,n){super(),o(this,b),o(this,k),c(this,f,{writable:!0,value:!1}),c(this,y,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:void 0}),c(this,w,{writable:!0,value:void 0}),c(this,v,{writable:!0,value:void 0}),d(this,v,n),d(this,g,e),d(this,w,t),h(this,b,S).call(this)}get idle(){return l(this,f)}tell(e){return new Promise(((t,n)=>{var r;if(null==l(this,y))return void n((0,s.KP)("worker 未完成初始化，但却被下达了任务。"));const i=null===(r=l(this,v))||void 0===r?void 0:r.taskTimeout,o=null!=i&&i>0?setTimeout((()=>{this.off("destroy",c),n((0,s.KP)("任务处理超时。",s.D1.TASK_TIMEOUT)),this.destroy((0,s.KP)("由于出现了任务处理超时的错误，所以销毁了此 worker。"))}),i):null,c=()=>{null!=o&&clearTimeout(o),n((0,s.KP)("任务处理过程中网页被关闭了，无法完成处理。",s.D1.CLOSED))};this.once("destroy",c),d(this,f,!1),l(this,w).tell(l(this,y),e).finally((()=>{d(this,f,!0),this.off("destroy",c),null!=o&&clearTimeout(o)})).then((e=>{if("object"==typeof(r=e)&&r&&"__error__"in r){const t=e.__error__,r=(0,a.Tr)(t.message,{name:t.name,cause:t.cause});return n(r),void this.destroy((0,a.Tr)("处理任务时返回了一个错误，所以销毁了 worker。",{cause:r}))}var r;t(e)}),n)}))}destroy(e){m("%s 销毁了，原因：%O",l(this,y),e),this.emit("destroy",e)}}function _(){return new Promise(((e,t)=>{var n;let r;const i=null===(n=l(this,v))||void 0===n?void 0:n.loadTimeout,a=null==i?null:setTimeout((()=>{m("%s 网页加载超时",r),l(this,w).off("ready",o),null!=r&&l(this,w).remove(r),t((0,s.KP)(`新创建的网页未在 ${i} 毫秒内发送 ready 消息。`,s.D1.LOAD_TIMEOUT))}),i),o=t=>{null!=r?r===t?(m("%s 收到 adapter 发送的此 worker 所属网页的 ready 事件",r),null!=a&&clearTimeout(a),d(this,y,r),d(this,f,!0),l(this,w).off("ready",o),e()):m("%s 收到 adapter 发送的 ready 事件，但不是此 worker 所属网页的。",r):m("收到 adapter 发送的 ready 事件，但此时 worker 还没有创建网页，所以忽略。")};l(this,w).on("ready",o),l(this,w).create(l(this,g)).then((e=>{r=e}),(e=>{t(e)}))}))}function S(){h(this,k,_).call(this).then((()=>{const e=t=>{l(this,y)===t&&(l(this,w).off("destroy",e),this.destroy((0,s.KP)("Adapter 通知此网页已被销毁。")))};l(this,w).on("destroy",e),this.once("destroy",(()=>{null!=l(this,y)&&l(this,w).remove(l(this,y))})),m("%s worker 触发 ready 事件",l(this,y)),this.emit("load",!0)}),(e=>{this.emit("load",!1,e),m("%s 初始化过程中出现问题，所以销毁 worker",l(this,y)),this.destroy((0,s.KP)("初始化失败。"))}))}function E(e,t){D(e,t),t.add(e)}function O(e,t,n){D(e,t),t.set(e,n)}function D(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function A(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,R(e,t,"get"))}function x(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,R(e,t,"set"),n),n}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const C=i("@hcfyapp/browser-automation:Pool"),j={max:1};var I=new WeakMap,N=new WeakMap,M=new WeakMap,K=new WeakMap,$=new WeakMap,Z=new WeakSet,H=new WeakSet,q=new WeakSet;function z(){return A(this,I).find((e=>e.idle))}function U(e){var t;if(A(this,I).length<((null===(t=A(this,M))||void 0===t?void 0:t.max)||j.max)){C("开始创建 worker");const t=new T(A(this,K),A(this,$),A(this,M));t.once("load",((t,n)=>{t?(C("worker 初始化成功"),P(this,q,L).call(this,e)):(C("worker 初始化失败"),e.reject(n))})),t.once("destroy",(()=>{C("worker destroy");const e=A(this,I).indexOf(t);e>=0&&A(this,I).splice(e,1)})),A(this,I).push(t)}else C("由于现有 worker 已达最大数量，所以不会创建新 worker"),A(this,N).unshift(e)}function L(e){const t=e||A(this,N).shift();if(!t)return void C("准备处理任务，但没有需要处理的任务");const n=P(this,Z,z).call(this);if(!n)return C("准备处理任务，但没有空闲的 worker"),void P(this,H,U).call(this,t);C("准备处理任务且有空闲 worker，将开始处理"),n.tell(t.msg).then((e=>{C("任务处理成功，将继续处理下一个任务"),t.resolve(e)}),(e=>{C("任务处理失败，将继续处理下一个任务"),t.reject(e)})).finally((()=>{P(this,q,L).call(this)}))}const W=class{constructor(e,t,n){E(this,q),E(this,H),E(this,Z),O(this,I,{writable:!0,value:[]}),O(this,N,{writable:!0,value:[]}),O(this,M,{writable:!0,value:void 0}),O(this,K,{writable:!0,value:void 0}),O(this,$,{writable:!0,value:void 0}),x(this,K,e),x(this,$,t),x(this,M,n)}tell(e){return new Promise(((t,n)=>{C("调用了 tell 方法，将任务推入任务队列"),A(this,N).push({msg:e,resolve:t,reject:n}),P(this,q,L).call(this)}))}};n(6710);var F=n(3613),B=n(74930),G=n(15253),J=n(81321),X=n(31620);function V(e,t,n){Y(e,t),t.set(e,n)}function Y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Q(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}const ee=i("@hcfyapp/browser-automation/adapters/iframe");var te=new WeakMap,ne=new WeakSet;class re extends r.Z{constructor(){var e,t;super(),Y(e=this,t=ne),t.add(e),V(this,te,{writable:!0,value:{}}),window.addEventListener("message",(e=>{ee("收到了 message 事件，数据为：%O",e.data);const t=e.ports[0];if(!t)return;const n=(0,X.k)(e.data);if(!n)return;const r=(0,J.kW)(n);if("request"!==(null==r?void 0:r.type))return;const i=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,ne,se).call(this,e.source);if(r.payload===F._)i&&(ee("收到了 id 为 %s 的 iframe 发送的 is create by 消息。",i.id),i.port=t,t.onmessage=function(e,t){return n=>{const r=(0,X.k)(n.data);if(!r)return;const i=(0,J.kW)(r);if(i)if("request"===i.type)if(i.payload===F.m){if(ee("收到了 id 为 %s 的 iframe 发送的 ready 消息。",e.id),e.ready=!0,t.emit("ready",e.id),!e.port)throw(0,s.KP)("没有 port。");e.port.postMessage(JSON.stringify((0,J.rO)(i.id,void 0)))}else ee("收到了 id 为 %s 的 frame 发送过来的未知类型的消息，已忽略。消息内容：%O",null==e?void 0:e.id,i);else if("response"===i.type){const t=e.msgMap[i.id];t&&(delete e.msgMap[i.id],t.resolve(i.payload))}}}(i,this)),ee("发送了对 is create by 消息的响应，结果为 %o",!!i),t.postMessage(JSON.stringify((0,J.rO)(r.id,!!i)));else ee("收到了 id 为 %s 的 frame 发送过来的未知类型的消息，已忽略。消息内容：%O",null==i?void 0:i.id,r)}))}add(e){Q(this,te)[e.id]=e}get(e){return Q(this,te)[e]||null}remove(e){const t=this.get(e);return t&&delete Q(this,te)[e],t}}function se(e){let t=null;return G(Q(this,te),(n=>{if(n.frame.contentWindow===e)return t=n,!1})),t}let ie;var ae=new WeakMap;class oe extends r.Z{constructor(){super(),V(this,ae,{writable:!0,value:ie||(ie=new re,ie)}),Q(this,ae).on("ready",(e=>{this.emit("ready",e)}))}create(e){const t=B("iframe"),n=document.createElement("iframe");return Q(this,ae).add({id:t,frame:n,msgMap:{},ready:!1}),n.referrerPolicy="no-referrer",n.src=e,document.body.appendChild(n),ee("创建了 id 为 %s 的 iframe。",t),Promise.resolve(t)}remove(e){const t=Q(this,ae).remove(e);if(t)try{document.body.removeChild(t.frame)}catch(e){}return ee("销毁了 id 为 %s 的 iframe。",e),Promise.resolve()}tell(e,t){const n=Q(this,ae).get(e);if(!n)return Promise.reject((0,s.KP)("没有创建过 id 为 "+e+" 的 frame。"));if(!n.ready)return Promise.reject((0,s.KP)("id 为 "+e+" 的 frame 还没有准备好。"));const r=n.port;return r?new Promise(((s,i)=>{const a=B();n.msgMap[a]={resolve:s,reject:i},ee("向 id 为 %s 的 iframe 下发了任务 %O",e,t),r.postMessage(JSON.stringify((0,J.hG)(a,t)))})):Promise.reject((0,s.KP)("id 为 "+e+" 的 frame 没有 MessagePort。"))}}var ce=n(17419);let ue;async function le(e){const t=(ue||(ue=new W("https://www.deepl.com/translator",new oe,{loadTimeout:3e4,taskTimeout:2e4})),ue);try{return await t.tell(e)}catch(e){let t;if((0,s.vy)(e))switch(e.name){case s.D1.LOAD_TIMEOUT:t="加载超时。";break;case s.D1.TASK_TIMEOUT:t="响应超时。";break;case s.D1.CLOSED:t="请不要在翻译过程中关闭划词翻译创建的窗口。";break;default:t=e.message}else t="string"==typeof e?e:(0,ce.DR)(e).message;return Promise.reject(new ce.mD(t,{type:ce.cF.API_SERVER_ERROR,link:{name:"查看解决方案",url:"https://hcfy.app/docs/faqs/why-services-always-loading#deepl-only"}}))}}},74875:(e,t,n)=>{"use strict";n.d(t,{Ip:()=>s,dz:()=>a,o7:()=>i,q2:()=>r});n(39529);function r(e){return e.points&&!e.free&&!e.secretKeys}function s(e){return e.free&&!e.points&&!e.secretKeys}function i(e){return e.secretKeys&&!e.free&&!e.points}function a(e,t){return!!e.key&&!(null!=t&&t.includes("id")&&!e.id)}},21591:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});let r=function(e){return e.GET_TOKEN_FAILED="GET_TOKEN_FAILED",e.UNSUPPORTED_LANGUAGE="UNSUPPORTED_LANGUAGE",e.API_SERVER_ERROR="API_SERVER_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.NEED_LOGIN="NEED_LOGIN",e.NO_POINTS="NO_POINTS",e.NEED_KEY="NEED_KEY",e.NEED_DOMAIN="NEED_DOMAIN",e.VIP_OUTDATED="VIP_OUTDATED",e.OTHER="OTHER",e}({})},17419:(e,t,n)=>{"use strict";n.d(t,{DR:()=>s.D,RE:()=>a.R,cF:()=>i.c,mD:()=>r.m});var r=n(40448),s=n(69548),i=n(21591),a=n(48194)},47192:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});n(15735),n(6886),n(14121),n(60523),n(43673),n(40753),n(28399),n(39529);var r=n(67643),s=n(40448),i=n(21591),a=n(69548);const o={401:"登录状态已失效，请重新登录。"};function c(e){if((0,r.k)(e)){const t=function(e){var t;let n;try{n=new URL(e)}catch(e){return"远程服务器"}const{host:r}=n;return null!==(t="https://hs-api.limingkai.cn/")&&t.includes(r)?"划词翻译服务器":"远程服务器"}(e.request.url),n="划词翻译服务器"===t;if(e.response){const r=e.response.status;return new s.m(n?o[r]||`划词翻译服务器内部产生了一个错误，请稍后重试。HTTP 响应码：${r}。`:`${t}返回了错误的 HTTP 响应码：${r}。`,{type:i.c.API_SERVER_ERROR})}return e.request?new s.m(`${t}没有响应。`,{type:i.c.NETWORK_ERROR,link:{name:"查看解决方案",url:"划词翻译服务器"===t?"https://hcfy.app/docs/faqs/server-no-response":"https://hcfy.app/docs/faqs/why-services-always-loading"}}):new s.m(`向${t}发起请求时发生了一个错误：“${e.message}”`,{type:null})}return(0,a.D)(e)}},81834:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});n(73439);var r=n(50251),s=n.n(r),i=n(1327),a=n(17419);const o=i.Z.create({baseURL:"https://hs-api.limingkai.cn/",validateStatus:function(e){return e>=200&&e<300||304===e}});o.interceptors.response.use((async e=>{const t=e.data;return(null==(n=t)?void 0:n.isError)?("VIP_OUTDATED"===t.errorCode&&s().storage.local.set({user:t.data}),Promise.reject(new a.mD(t.message,{type:t.errorCode}))):e;var n}),(e=>{var t;i.Z.isAxiosError(e)&&(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&s().storage.local.remove(["user","optionsSyncAt","favoritesSyncAt","historiesSyncAt"]));return Promise.reject(e)}))},82868:(e,t,n)=>{"use strict";n.d(t,{qs:()=>s});n(36728),n(15735),n(6886);var r=n(83736);function s(e){const t=[];return(0,r.Z)(e,((e,n)=>{const r=Array.isArray(e)?e:[e];t.push(...r.map((e=>`${n}=${null==e?"":encodeURIComponent(e)}`)))})),t.join("&")}},64443:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});n(73439);const r={delay:0,count:2,beforeRetry:()=>!1};function s(e,t){const n=t?Object.assign({},r,t):r;if(n.count<=0)return e();let s=0;const i=()=>e().catch((e=>s<n.count&&(s+=1,!n.beforeRetry(e))?new Promise(((e,t)=>{setTimeout((()=>{i().then(e,t)}),n.delay)})):Promise.reject(e)));return i()}},28909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(39529),n(15735),n(6886),n(36728);var r=n(50251),s=n.n(r),i=n(7279);const a=[];function o(e,t,n,r="local"){return s().storage[r].get(e).then((e=>{(n||t)(e,!0)})).then((()=>{const n=Object.keys(e);a.push({defaultOptions:e,onChange:t,area:r,keys:n})})),()=>{const n=a.findIndex((n=>n.onChange===t&&n.area===r&&n.defaultOptions===e));return n>=0&&(a.splice(n,1),!0)}}s().storage.onChanged.addListener(((e,t)=>{a.forEach((n=>{if(n.area!==t)return;const r=function(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&t.includes(r)&&(n[r]=e[r].newValue);return n}(e,n.keys);(0,i.Z)(r)||n.onChange(r)}))}))},50633:()=>{},30647:(e,t,n)=>{"use strict";n.d(t,{D1:()=>i,KP:()=>a,vy:()=>o});n(71372);var r=n(52665);class s extends Error{}const i={LOAD_TIMEOUT:"LoadTimeout",TASK_TIMEOUT:"TaskTimeout",CLOSED:"CLOSED"};function a(e,t){return(0,r.Tr)(e,{name:t,ctor:s})}function o(e){return e instanceof s}},81321:(e,t,n)=>{"use strict";function r(e,t){return{__automationWrapperMessageRequest__:!0,__id__:e,__payload__:t}}function s(e,t){return{__automationWrapperMessageResponse__:!0,__id__:e,__payload__:t}}function i(e){return"__automationWrapperMessageResponse__"in(t=e)&&!0===t.__automationWrapperMessageResponse__?{type:"response",id:e.__id__,payload:e.__payload__}:function(e){return"__automationWrapperMessageRequest__"in e&&!0===e.__automationWrapperMessageRequest__}(e)?{type:"request",id:e.__id__,payload:e.__payload__}:null;var t}n.d(t,{hG:()=>r,kW:()=>i,rO:()=>s})},3613:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,m:()=>r});const r="ready",s="is created by"},31620:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(52665);function s(e){if("string"==typeof e)try{const t=JSON.parse(e);if((0,r.yD)(t))return t}catch(e){}return null}},42791:(e,t,n)=>{"use strict";n.d(t,{C6:()=>u,o3:()=>p});n(73439);var r=function(e,t){for(var n=0;n<t.length-2;n+=3){var r=t[n+2];r="a"<=r?r.charCodeAt(0)-87:Number(r),r="+"==t[n+1]?e>>>r:e<<r,e="+"==t[n]?e+r&4294967295:e^r}return e},s=function(e){for(var t=[],n=0,s=0;n<e.length;++n){var i=e.charCodeAt(n);128>i?t[s++]=i:(2048>i?t[s++]=i>>6|192:(t[s++]=i>>12|224,t[s++]=i>>6&63|128),t[s++]=63&i|128)}var a=0;for(s=0;s<t.length;s++)a+=t[s],a=r(a,"+-a^+6");return 0>(a=r(a,"+-3^+b+-f"))&&(a=2147483648+(2147483647&a)),(a%=1e6).toString()+"."+(0^a).toString()};function i(e){const t={raw:e,from:e.src,result:e.sentences.map((e=>"trans"in e?e.trans:"")).join("")};let n;return e.dict&&(t.dict=e.dict.map((e=>({pos:e.pos,terms:e.terms||e.entry.map((e=>e.word))})))),e.sentences.some((e=>{if("src_translit"in e)return n=e.src_translit,!0})),n&&(t.phonetic=[{value:n}]),t}var a=n(52665);function o(e){return e?(t=e).endsWith("/")?t.slice(0,-1):t:"https://translate.googleapis.com";var t}var c=n(67643);function u(e,t,n="auto",r,u){return async function(e,t,n="auto",r,i){const u=`${o(i)}/translate_a/single?`+(0,a.qs)({client:"gtx",sl:n,tl:t,dj:"1",dt:["t","bd","qc","rm","ex","at","ss","rw","ld"],q:e,tk:s(e)});return fetch(u,r).then((e=>{if(!e.ok)throw new c.Z(e,{...r,url:u});return e.json()}),(e=>{throw new c.Z(e,{...r,url:u})}))}(e,t,n,r,u).then(i)}function l(e,t){let n,r="",s=function(e,t){for(let n,r=0;r<t.length-2;r+=3)n="a"<=(n=t.charAt(r+2))?n.charCodeAt(0)-87:Number(n),n="+"===t.charAt(r+1)?e>>>n:e<<n,e="+"===t.charAt(r)?e+n&4294967295:e^n;return e},i=(n=""!==r?r:(r=t||"")||"").split(".");n=Number(i[0])||0;let a=[],o=0,c=0;for(;c<e.length;c++){let t=e.charCodeAt(c);128>t?a[o++]=t:(2048>t?a[o++]=t>>6|192:(55296==(64512&t)&&c+1<e.length&&56320==(64512&e.charCodeAt(c+1))?(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++c)),a[o++]=t>>18|240,a[o++]=t>>12&63|128):a[o++]=t>>12|224,a[o++]=t>>6&63|128),a[o++]=63&t|128)}for(e=n,o=0;o<a.length;o++)e=s(e+=a[o],"+-a^+6");return e=s(e,"+-3^+b+-f"),0>(e^=Number(i[1])||0)&&(e=2147483648+(2147483647&e)),(e%=1e6).toString()+"."+(e^n)}n(77950),n(71372);let h=null;async function d(e,t,n="auto",r,s){const i=h||(h=await async function(e,t){const n=`${o(t)}/translate_a/element.js`,r=(await fetch(n,e).then((t=>{if(!t.ok)throw new c.Z(t,{...e,url:n});return t.text()}),(t=>{throw new c.Z(t,{...e,url:n})}))).match(/_ctkk='(\d+\.\d+)'/);if(r)return r[1];throw new Error("Can not found token.")}(r,s)),u=`${o(s)}/translate_a/single?${(0,a.qs)({client:"webapp",sl:n,tl:t,dj:"1",ie:"UTF-8",oe:"UTF-8",source:"icon",dt:["t","bd","qc","rm","ex","at","ss","rw","ld"],q:e,tk:l(e,i)})}`;return fetch(u,r).then((e=>{if(!e.ok)throw new c.Z(e,{...r,url:u});return e.json()}),(e=>{throw new c.Z(e,{...r,url:u})})).catch((e=>(h=null,Promise.reject(e))))}function p(e,t,n="auto",r,s){return d(e,t,n,r,s).then(i)}n(17368),n(24471),n(85940),n(6710)},43890:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(73439),n(6710);var r=n(91004),s=(n(71372),n(67643));const i="https://chat.openai.com/api/auth/session";n(15735),n(6886);var a=n(40872);const o=async function(e,t,n){const o=await async function(){const e=await fetch(i);if(!e.ok)throw new s.Z(e,{url:i});const t=await e.json();if(!t.accessToken)throw new Error("UNAUTHORIZED");return t.accessToken}();let c;const u={action:"next",messages:[{id:(0,r.Z)(),author:{role:"user"},content:{content_type:"text",parts:[e]}}],model:(null==n?void 0:n.model)||"text-davinci-002-render-sha",parent_message_id:(null==n?void 0:n.messageId)||(c=(0,r.Z)())},l=null==n?void 0:n.conversationId;let h,d,p,m;return l&&(u.conversation_id=l),await async function(e,t,n){const r=await fetch(e,n),i=(0,a.j)((e=>{"event"===e.type&&t(e.data)}));if(!r.ok)throw new s.Z(r,{...n,url:e});if(!r.body)throw new Error("No response body.");for await(const e of async function*(e){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}}(r.body)){const t=(new TextDecoder).decode(e);i.feed(t)}}("https://chat.openai.com/backend-api/conversation",(e=>{let n;try{n=JSON.parse(e)}catch(e){return}if(h=n.conversation_id,n.message)switch(n.message.author.role){case"system":d=n.message.id;break;case"user":p=n.message.id;break;case"assistant":m=n.message.id,t(n.message.content.parts[0])}}),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(u)}),{cId:h,generatedMessageId:c,systemMessageId:d,userMessageId:p,assistantMessageId:m}}},89360:(e,t,n)=>{"use strict";n.d(t,{Iu:()=>u,s8:()=>c});n(73439),n(71372),n(77950);var r=n(52665),s=n(67643);const i=/sid:\s*'[^']+/;let a=null;const o=(0,r.IZ)((async function(){var e,t;if(a&&(t=a.date,!(Date.now()-t.getTime()>432e5)))return a.sid;a=null;const n="https://translate.yandex.net/website-widget/v1/widget.js?widgetId=ytWidget&pageLang=en&widgetTheme=light&autoMode=false";let r;try{r=await fetch(n)}catch(e){throw new s.Z(e,{url:n})}if(!r.ok)throw new s.Z(r,{url:n});const o=null===(e=(await r.text()).match(i))||void 0===e||null===(e=e[0])||void 0===e?void 0:e.substring(6);if(o)return a={date:new Date,sid:o},o;throw new Error("Unable get token.")}));function c(e){return 200===e.code}async function u(e,t,n){let r=null==n?void 0:n.source;if(!r){const t=await async function(e,t){const n=`https://translate.yandex.net/api/v1/tr.json/detect?srv=tr-url-widget&id=${await o()}-0-0${(Array.isArray(e)?e:[e]).map((e=>`&text=${encodeURIComponent(e)}`)).join("")}`;let r;try{r=await fetch(n,t)}catch(e){throw new s.Z(e,{...t,url:n})}if(!r.ok)throw new s.Z(r,{...t,url:n});return r.json()}(e);if(200!==t.code)throw new Error("Error when detect language: "+t.message);r=t.lang}const i=`https://translate.yandex.net/api/v1/tr.json/translate?srv=tr-url-widget&id=${await o()}-0-0&format=${(null==n?void 0:n.format)||"text"}&lang=${r}-${t}${(Array.isArray(e)?e:[e]).map((e=>`&text=${encodeURIComponent(e)}`)).join("")}`;let a;try{a=await fetch(i,null==n?void 0:n.fetchConfig)}catch(e){throw new s.Z(e,{...null==n?void 0:n.fetchConfig,url:i})}if(!a.ok)throw new s.Z(a,{...null==n?void 0:n.fetchConfig,url:i});return await a.json()}},27126:e=>{"use strict";e.exports=JSON.parse('{"中文(简体)":"zh","英语":"en","日语":"ja","泰语":"th","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","荷兰语":"nl","波兰语":"pl","芬兰语":"fi","捷克语":"cs","保加利亚语":"bg","丹麦语":"da","爱沙尼亚语":"et","匈牙利语":"hu","罗马尼亚语":"ro","斯洛文尼亚语":"sl","瑞典语":"sv","越南语":"vi","中文(粤语)":"yue","中文(繁体)":"zh-tw","南非荷兰语":"af","阿尔巴尼亚语":"sq","阿姆哈拉语":"am","亚美尼亚语":"hy","阿萨姆语":"as","阿斯图里亚斯语":"ast","阿塞拜疆语":"az","巴斯克语":"eu","白俄罗斯语":"be","孟加拉语":"bn","波斯尼亚语":"bs","缅甸语":"my","加泰罗尼亚语":"ca","宿务语":"ceb","克罗地亚语":"hbs","世界语":"eo","法罗语":"fo","菲律宾语":"fil","加利西亚语":"gl","格鲁吉亚语":"ka","古吉拉特语":"gu","豪萨语":"ha","希伯来语":"he","印地语":"hi","冰岛语":"is","伊博语":"ig","印尼语":"id","爱尔兰语":"ga","卡纳达语":"kn","哈萨克语":"kk","克林贡语":"tlh","库尔德语":"ku","老挝语":"lo","拉丁语":"la","拉脱维亚语":"lv","立陶宛语":"lt","卢森堡语":"lb","马其顿语":"mk","马尔加什语":"mg","马来语":"ms","马拉雅拉姆语":"ml","马耳他语":"mt","马拉地语":"mr","尼泊尔语":"ne","波斯语":"fa","僧伽罗语":"si","索马里语":"so","斯瓦希里语":"sw","他加禄语":"tl","塔吉克语":"tg","泰米尔语":"ta","鞑靼语":"tt","泰卢固语":"te","土耳其语":"tr","土库曼语":"tk","乌尔都语":"ur","乌兹别克语":"uz","奥克语":"oc","吉尔吉斯语":"ky","普什图语":"ps","高棉语":"km","海地克里奥尔语":"ht","旁遮普语":"pa","比斯拉马语":"bi","胡帕语":"hup","印古什语":"inh","拉特加莱语":"ltg","毛里求斯克里奥尔语":"mfe","黑山语":"cnr","卢森尼亚语":"rue","西里西亚语":"szl","亚齐语":"ace","阿肯语":"ak","阿拉贡语":"an","艾马拉语":"ay","俾路支语":"bal","巴什基尔语":"ba","本巴语":"bem","柏柏尔语":"ber","博杰普尔语":"bho","比林语":"byn","布列塔尼语":"br","切罗基语":"chr","齐切瓦语":"ny","楚瓦什语":"cv","科西嘉语":"co","克里克语":"mus","克里米亚鞑靼语":"crh","弗留利语":"fur","卢干达语":"lg","瓜拉尼语":"gn","夏威夷语":"haw","希利盖农语":"hil","伊多语":"io","因特语":"ia","伊努克提图特语":"iu","爪哇语":"jv","卡拜尔语":"kab","格陵兰语":"kl","卡努里语":"kr","克什米尔语":"ks","卡舒比语":"csb","卢旺达语":"rw","刚果语":"kg","林堡语":"li","林加拉语":"ln","逻辑语":"jbo","低地德语":"nds","迈蒂利语":"mai","毛利语":"mi","马绍尔语":"mh","挪威语":"no","奥杰布瓦语":"oj","奥里亚语":"or","奥罗莫语":"om","奥塞梯语":"os","帕皮阿门托语":"pap","克丘亚语":"qu","罗曼什语":"rm","罗姆语":"rom","萨摩亚语":"sm","梵语":"sa","苏格兰语":"sco","掸语":"shn","修纳语":"sn","信德语":"sd","叙利亚语":"syr","德顿语":"tet","提格利尼亚语":"ti","聪加语":"ts","契维语":"tw","文达语":"ve","瓦隆语":"wa","威尔士语":"cy","沃洛夫语":"wo","科萨语":"xh","意第绪语":"yi","约鲁巴语":"yo","扎扎其语":"zza","祖鲁语":"zu","弗里西语":"fy","蒙古语":"mn","苗语":"hmn","印尼巽他语":"su","斐济语":"fj","汤加语":"to","塔希提语":"ty","阿布哈兹语":"ab","阿兹特克语":"nch","埃维语":"ee","巴布亚皮钦语":"tpi","班巴拉语":"bm","邦阿西楠语":"pag","北萨米语":"se","查莫罗语":"ch","查瓦卡诺语":"cbk","迪维西语":"dv","侗语":"kdx","杜順語":"dtp","富尔语":"fvr","格雷罗纳瓦特尔语":"ngu","格罗宁根方言":"gos","基里巴斯语":"gil","基隆迪语":"rn","基切语":"quc","卡西语":"kha","康沃尔语":"kw","马恩语":"gv","马里语（俄罗斯）":"chm","玛雅语":"kek","姆班杜语":"umb","纳瓦霍语":"nv","纽埃语":"niu","帕姆语":"pmn","桑戈语":"sg","上索布语":"hsb","汤加语(赞比亚)":"toi","图瓦卢语":"tvl","图瓦语":"tyv","瓦瑞语(菲律宾)":"war","沃拉普克语":"vo","乌德穆尔特语":"udm","西方国际语":"ie","现代希腊语":"el","新共同语言":"lfn","伊班语":"iba","伊洛卡诺语":"ilo"}')},65314:e=>{"use strict";e.exports=JSON.parse('{"中文(简体)":"zh","英语":"en","日语":"jp","泰语":"th","西班牙语":"spa","阿拉伯语":"ara","法语":"fra","韩语":"kor","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","希腊语":"el","荷兰语":"nl","波兰语":"pl","芬兰语":"fin","捷克语":"cs","保加利亚语":"bul","丹麦语":"dan","爱沙尼亚语":"est","匈牙利语":"hu","罗马尼亚语":"rom","斯洛文尼亚语":"slo","瑞典语":"swe","越南语":"vie","中文(粤语)":"yue","中文(繁体)":"cht","中文(文言文)":"wyw","南非荷兰语":"afr","阿尔巴尼亚语":"alb","阿姆哈拉语":"amh","亚美尼亚语":"arm","阿萨姆语":"asm","阿斯图里亚斯语":"ast","阿塞拜疆语":"aze","巴斯克语":"baq","白俄罗斯语":"bel","孟加拉语":"ben","波斯尼亚语":"bos","缅甸语":"bur","加泰罗尼亚语":"cat","宿务语":"ceb","克罗地亚语":"hrv","世界语":"epo","法罗语":"fao","菲律宾语":"fil","加利西亚语":"glg","格鲁吉亚语":"geo","古吉拉特语":"guj","豪萨语":"hau","希伯来语":"heb","印地语":"hi","冰岛语":"ice","伊博语":"ibo","印尼语":"id","爱尔兰语":"gle","卡纳达语":"kan","哈萨克语":"kaz","克林贡语":"kli","库尔德语":"kur","老挝语":"lao","拉丁语":"lat","拉脱维亚语":"lav","立陶宛语":"lit","卢森堡语":"ltz","马其顿语":"mac","马尔加什语":"mg","马来语":"may","马拉雅拉姆语":"mal","马耳他语":"mlt","马拉地语":"mar","尼泊尔语":"nep","新挪威语":"nno","波斯语":"per","萨丁尼亚语":"srd","塞尔维亚语":"srp","僧伽罗语":"sin","斯洛伐克语":"sk","索马里语":"som","斯瓦希里语":"swa","他加禄语":"tgl","塔吉克语":"tgk","泰米尔语":"tam","鞑靼语":"tat","泰卢固语":"tel","土耳其语":"tr","土库曼语":"tuk","乌克兰语":"ukr","乌尔都语":"urd","乌兹别克语":"uzb","奥克语":"oci","吉尔吉斯语":"kir","普什图语":"pus","高棉语":"hkm","海地克里奥尔语":"ht","书面挪威语":"nob","旁遮普语":"pan","阿尔及利亚阿拉伯语":"arq","比斯拉马语":"bis","加拿大法语":"frn","哈卡钦语":"hak","胡帕语":"hup","印古什语":"ing","拉特加莱语":"lag","毛里求斯克里奥尔语":"mau","黑山语":"mot","巴西葡萄牙语":"pot","卢森尼亚语":"ruy","塞尔维亚-克罗地亚语":"sec","西里西亚语":"sil","突尼斯阿拉伯语":"tua","亚齐语":"ach","阿肯语":"aka","阿拉贡语":"arg","艾马拉语":"aym","俾路支语":"bal","巴什基尔语":"bak","本巴语":"bem","柏柏尔语":"ber","博杰普尔语":"bho","比林语":"bli","布列塔尼语":"bre","切罗基语":"chr","齐切瓦语":"nya","楚瓦什语":"chv","康瓦尔语":"cor","科西嘉语":"cos","克里克语":"cre","克里米亚鞑靼语":"cri","迪维希语":"div","古英语":"eno","中古法语":"frm","弗留利语":"fri","富拉尼语":"ful","盖尔语":"gla","卢干达语":"lug","古希腊语":"gra","瓜拉尼语":"grn","夏威夷语":"haw","希利盖农语":"hil","伊多语":"ido","因特语":"ina","伊努克提图特语":"iku","爪哇语":"jav","卡拜尔语":"kab","格陵兰语":"kal","卡努里语":"kau","克什米尔语":"kas","卡舒比语":"kah","卢旺达语":"kin","刚果语":"kon","孔卡尼语":"kok","林堡语":"lim","林加拉语":"lin","逻辑语":"loj","低地德语":"log","下索布语":"los","迈蒂利语":"mai","曼克斯语":"glv","毛利语":"mao","马绍尔语":"mah","南恩德贝莱语":"nbl","那不勒斯语":"nea","西非书面语":"nqo","北方萨米语":"sme","挪威语":"nor","奥杰布瓦语":"oji","奥里亚语":"ori","奥罗莫语":"orm","奥塞梯语":"oss","邦板牙语":"pam","帕皮阿门托语":"pap","北索托语":"ped","克丘亚语":"que","罗曼什语":"roh","罗姆语":"ro","萨摩亚语":"sm","梵语":"san","苏格兰语":"sco","掸语":"sha","修纳语":"sna","信德语":"snd","桑海语":"sol","南索托语":"sot","叙利亚语":"syr","德顿语":"tet","提格利尼亚语":"tir","聪加语":"tso","契维语":"twi","高地索布语":"ups","文达语":"ven","瓦隆语":"wln","威尔士语":"wel","西弗里斯语":"fry","沃洛夫语":"wol","科萨语":"xho","意第绪语":"yid","约鲁巴语":"yor","扎扎其语":"zaz","祖鲁语":"zul"}')},35175:e=>{"use strict";e.exports=JSON.parse('{"中文(简体)":"zh-CN","英语":"en","日语":"ja","泰语":"th","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","希腊语":"el","荷兰语":"nl","波兰语":"pl","芬兰语":"fi","捷克语":"cs","保加利亚语":"bg","丹麦语":"da","爱沙尼亚语":"et","匈牙利语":"hu","罗马尼亚语":"ro","斯洛文尼亚语":"sl","瑞典语":"sv","越南语":"vi","中文(繁体)":"zh-TW","南非荷兰语":"af","阿尔巴尼亚语":"sq","阿姆哈拉语":"am","亚美尼亚语":"hy","阿塞拜疆语":"az","巴斯克语":"eu","白俄罗斯语":"be","孟加拉语":"bn","波斯尼亚语":"bs","缅甸语":"my","加泰罗尼亚语":"ca","宿务语":"ceb","克罗地亚语":"hr","世界语":"eo","菲律宾语":"tl","加利西亚语":"gl","格鲁吉亚语":"ka","古吉拉特语":"gu","豪萨语":"ha","希伯来语":"iw","印地语":"hi","冰岛语":"is","伊博语":"ig","印尼语":"id","爱尔兰语":"ga","卡纳达语":"kn","哈萨克语":"kk","库尔德语":"ku","老挝语":"lo","拉丁语":"la","拉脱维亚语":"lv","立陶宛语":"lt","卢森堡语":"lb","马其顿语":"mk","马尔加什语":"mg","马来语":"ms","马拉雅拉姆语":"ml","马耳他语":"mt","马拉地语":"mr","尼泊尔语":"ne","波斯语":"fa","塞尔维亚语":"sr","僧伽罗语":"si","斯洛伐克语":"sk","索马里语":"so","斯瓦希里语":"sw","塔吉克语":"tg","泰米尔语":"ta","鞑靼语":"tt","泰卢固语":"te","土耳其语":"tr","土库曼语":"tk","乌克兰语":"uk","乌尔都语":"ur","乌兹别克语":"uz","吉尔吉斯语":"ky","普什图语":"ps","高棉语":"km","海地克里奥尔语":"ht","旁遮普语":"pa","齐切瓦语":"ny","科西嘉语":"co","夏威夷语":"haw","爪哇语":"jw","卢旺达语":"rw","毛利语":"mi","挪威语":"no","奥里亚语":"or","萨摩亚语":"sm","修纳语":"sn","信德语":"sd","威尔士语":"cy","意第绪语":"yi","约鲁巴语":"yo","祖鲁语":"zu","弗里西语":"fy","蒙古语":"mn","苗语":"hmn","南非科萨语":"xh","塞索托语":"st","苏格兰盖尔语":"gd","维吾尔语":"ug","印尼巽他语":"su"}')},94715:e=>{"use strict";e.exports=JSON.parse('{"中文(简体)":"zh","英语":"en","日语":"ja","泰语":"th","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","越南语":"vi","中文(繁体)":"zh-TW","印地语":"hi","印尼语":"id","马来语":"ms","土耳其语":"tr"}')},29514:e=>{"use strict";e.exports=JSON.parse('{"中文(简体)":"zh-CHS","英语":"en","日语":"ja","泰语":"th","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","希腊语":"el","荷兰语":"nl","波兰语":"pl","芬兰语":"fi","捷克语":"cs","保加利亚语":"bg","丹麦语":"da","爱沙尼亚语":"et","匈牙利语":"hu","罗马尼亚语":"ro","斯洛文尼亚语":"sl","瑞典语":"sv","越南语":"vi","中文(粤语)":"yue","南非荷兰语":"af","阿尔巴尼亚语":"sq","阿姆哈拉语":"am","亚美尼亚语":"hy","阿塞拜疆语":"az","巴斯克语":"eu","白俄罗斯语":"be","孟加拉语":"bn","波斯尼亚语":"bs","缅甸语":"my","加泰罗尼亚语":"ca","宿务语":"ceb","克罗地亚语":"hr","世界语":"eo","菲律宾语":"tl","加利西亚语":"gl","格鲁吉亚语":"ka","古吉拉特语":"gu","豪萨语":"ha","希伯来语":"he","印地语":"hi","冰岛语":"is","伊博语":"ig","印尼语":"id","爱尔兰语":"ga","卡纳达语":"kn","哈萨克语":"kk","克林贡语":"tlh","库尔德语":"ku","老挝语":"lo","拉丁语":"la","拉脱维亚语":"lv","立陶宛语":"lt","卢森堡语":"lb","马其顿语":"mk","马尔加什语":"mg","马来语":"ms","马拉雅拉姆语":"ml","马耳他语":"mt","马拉地语":"mr","尼泊尔语":"ne","波斯语":"fa","僧伽罗语":"si","斯洛伐克语":"sk","索马里语":"so","斯瓦希里语":"sw","塔吉克语":"tg","泰米尔语":"ta","泰卢固语":"te","土耳其语":"tr","乌克兰语":"uk","乌尔都语":"ur","乌兹别克语":"uz","吉尔吉斯语":"ky","普什图语":"ps","高棉语":"km","海地克里奥尔语":"ht","旁遮普语":"pa","齐切瓦语":"ny","科西嘉语":"co","夏威夷语":"haw","爪哇语":"jw","毛利语":"mi","挪威语":"no","萨摩亚语":"sm","修纳语":"sn","信德语":"sd","威尔士语":"cy","意第绪语":"yi","约鲁巴语":"yo","祖鲁语":"zu","弗里西语":"fy","蒙古语":"mn","南非科萨语":"xh","塞索托语":"st","苏格兰盖尔语":"gd","印尼巽他语":"su","白苗语":"mww","斐济语":"fj","克雷塔罗奥托米语":"otq","塞尔维亚语(拉丁文)":"sr-Latn","塞尔维亚语(西里尔文)":"sr-Cyrl","汤加语":"to","塔希提语":"ty","尤卡坦玛雅语":"yua"}')}}]);