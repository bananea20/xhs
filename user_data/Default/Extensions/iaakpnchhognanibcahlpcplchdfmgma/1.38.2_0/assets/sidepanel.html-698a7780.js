import{$ as l,Y as x,b7 as p,r,a2 as e,b1 as f,b2 as g,b3 as b,b4 as j,b5 as h,a4 as n,bg as v,be as C,ar as w,a0 as y,az as N}from"./ChatbotName-48cb7abb.js";import{B as k}from"./browser-polyfill-5e752e65.js";import{c as P}from"./proxy-fetch-95bcdef2.js";import{C as B}from"./user-config-09eb902a.js";function S(){const{t:a}=l(),[t,c]=x(v),i=B[t],s=p(t),m=r.useCallback(async u=>{s.sendMessage(u)},[s]),o=r.useCallback(()=>{s.generating||s.resetConversation()},[s]),d=r.useMemo(()=>({reset:o}),[o]);return e.jsx(f.Provider,{value:d,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:i.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx(g,{botId:t,name:i.name,onSwitchBot:c})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:b,className:P("w-4 h-4",s.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(j,{botId:t,messages:s.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(h,{mode:"compact",disabled:s.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:s.generating?e.jsx(n,{text:a("Stop"),color:"flat",size:"small",onClick:s.stopGenerating}):e.jsx(n,{text:a("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}function I(){const{t:a}=l(),t=r.useCallback(()=>{y("open_premium_from_sidepanel"),window.open(k.runtime.getURL("app.html#/premium?source=sidepanel"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:N,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:a("Premium Feature")}),e.jsx(n,{text:a("Upgrade to unlock"),color:"primary",onClick:t})]})}function A(){const a=w();return a.isLoading?null:a.activated?e.jsx(S,{}):e.jsx(I,{})}const E=document.getElementById("app"),M=C(E);M.render(e.jsx(A,{}));
