import{b as w}from"./GBCF3LJF.js";import{b as B}from"./FVT6UZZV.js";import{b as z,s as y}from"./OQJCXNX6.js";import{b as A,e as L}from"./KSUL2YLK.js";import{$ as R,Q as O,ba as q,j as G}from"./MM2G4TVT.js";import{n as v,na as F,ya as N}from"./I77YJK47.js";import{a as M}from"./SZ3C6HJE.js";import{h as U}from"./EWET23YO.js";import{a as X}from"./MM6H3LLZ.js";import{a as J}from"./42TZCCKB.js";import{f}from"./UTGLRY7A.js";var W=f(M());var E={am:{label:"\u12A0\u121B\u122D\u129B",en_label:"Amharic"},ar:{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",en_label:"Arabic"},bg:{label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438",en_label:"Bulgarian"},bn:{label:"\u09AC\u09BE\u0982\u09B2\u09BE",en_label:"Bengali"},ca:{label:"Catal\xE0",en_label:"Catalan"},cs:{label:"\u010Ce\u0161tina",en_label:"Czech"},da:{label:"Dansk",en_label:"Danish"},de:{label:"Deutsch",en_label:"German"},el:{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",en_label:"Greek"},en:{label:"English",en_label:"English"},en_GB:{label:"English (UK)",en_label:"English (UK)"},en_US:{label:"English (US)",en_label:"English (US)"},es:{label:"Espa\xF1ol",en_label:"Spanish"},es_419:{label:"Espa\xF1ol (Latinoam\xE9rica)",en_label:"Spanish (Latin America)"},et:{label:"Eesti",en_label:"Estonian"},fa:{label:"\u0641\u0627\u0631\u0633\u06CC",en_label:"Persian"},fi:{label:"Suomi",en_label:"Finnish"},fil:{label:"Filipino",en_label:"Filipino"},fr:{label:"Fran\xE7ais",en_label:"French"},gu:{label:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",en_label:"Gujarati"},he:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA",en_label:"Hebrew"},he_IL:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA (\u05D9\u05E9\u05E8\u05D0\u05DC)",en_label:"Hebrew (Israel)"},hi:{label:"\u0939\u093F\u0928\u094D\u0926\u0940",en_label:"Hindi"},hr:{label:"Hrvatski",en_label:"Croatian"},hu:{label:"Magyar",en_label:"Hungarian"},in:{label:"Bahasa Indonesia",en_label:"Indonesian"},id:{label:"Indonesia",en_label:"Indonesian"},it:{label:"Italiano",en_label:"Italian"},ja:{label:"\u65E5\u672C\u8A9E",en_label:"Japanese"},kn:{label:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1",en_label:"Kannada"},ko:{label:"\uD55C\uAD6D\uC5B4",en_label:"Korean"},lt:{label:"Lietuvi\u0173",en_label:"Lithuanian"},lv:{label:"Latvie\u0161u",en_label:"Latvian"},ml:{label:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02",en_label:"Malayalam"},mr:{label:"\u092E\u0930\u093E\u0920\u0940",en_label:"Marathi"},ms:{label:"Melayu",en_label:"Malay"},nl:{label:"Nederlands",en_label:"Dutch"},no:{label:"Norsk",en_label:"Norwegian"},pl:{label:"Polski",en_label:"Polish"},pt_BR:{label:"Portugu\xEAs (Brasil)",en_label:"Portuguese (Brazil)"},pt_PT:{label:"Portugu\xEAs (Portugal)",en_label:"Portuguese (Portugal)"},ro:{label:"Rom\xE2n\u0103",en_label:"Romanian"},ru:{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",en_label:"Russian"},sk:{label:"Sloven\u010Dina",en_label:"Slovak"},sl:{label:"Sloven\u0161\u010Dina",en_label:"Slovenian"},sr:{label:"\u0421\u0440\u043F\u0441\u043A\u0438",en_label:"Serbian"},sv:{label:"Svenska",en_label:"Swedish"},sw:{label:"Kiswahili",en_label:"Swahili"},ta:{label:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",en_label:"Tamil"},te:{label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",en_label:"Telugu"},th:{label:"\u0E44\u0E17\u0E22",en_label:"Thai"},tr:{label:"T\xFCrk\xE7e",en_label:"Turkish"},ua:{label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",en_label:"Ukrainian"},uk:{label:"\u0627\u0631\u062F\u0648",en_label:"Urdu"},vi:{label:"Ti\u1EBFng Vi\u1EC7t",en_label:"Vietnamese"},zh_CN:{label:"\u7B80\u4F53\u4E2D\u6587",en_label:"SimplifiedChinese"},zh_TW:{label:"\u7E41\u4F53\u4E2D\u6587",en_label:"TraditionalChinese"}};function Q(){}var H=A({key:"SignInModalShowState",default:!1}),K=A({key:"SignInModalInfoState",default:{ref:"",signInCallback:Q}});var p=f(M());var V=f(X()),Y=f(J());var j=()=>{let{isLogin:n,userInfo:o}=z(),i=L(H),r=L(K),[t,g]=(0,p.useState)(-1);(0,p.useEffect)(()=>{Y.default.storage.local.get(w).then(l=>{let a=l[w];a&&a>=0&&g(a)})},[]);let s=(0,p.useCallback)(()=>{i(!0)},[]),d=(0,p.useCallback)(()=>{i(!1)},[]),_=(0,p.useCallback)(()=>{i(l=>!l)},[]),C=(0,p.useCallback)(async l=>{if(n){l();return}let a=await U(),u=(0,V.default)().format("YYYY-MM-DD");t>-1&&a[u]&&a[u]>t&&s(),l()},[t,n]),S=(0,p.useCallback)(l=>{n&&o?l.signInCallback&&l.signInCallback(o):(r(a=>({...a,...l})),s())},[n,o]),c=(0,p.useCallback)(async l=>n&&o?o:new Promise(a=>{r(u=>({...u,...l,signInCallback:async m=>{l.signInCallback&&l.signInCallback(m),m&&a(m)}})),s()}),[n,o]);return{isLogin:n,openAuthModal:s,closeAuthModal:d,toggleAuthModal:_,waitSignInCheck:S,waitSignInCheckPromise:c,checkWebAccessCountStuck:C}};var I=f(M());var h=f(v());function Z(n,{inputValue:o}){return n.filter(i=>{let r=i.label.toLowerCase(),t=i.value.toLowerCase(),g=i.origin?.en_label?.toLowerCase()||"",s=o.toLowerCase();return r.includes(s)||t.includes(s)||g.includes(s)})}var $=n=>{let{options:o,label:i="",value:r="",onChange:t=b=>{},sx:g,placement:s="auto",disablePortal:d=!0,onPermission:_}=n,[C,S]=I.default.useState(!1),c=()=>{n.onClose&&n.onClose(),S(!1)},l=()=>{n.onOpen&&n.onOpen(),S(!0)},{t:a}=B("common"),u=b=>(0,h.jsx)(N,{primary:(0,h.jsx)(F,{fontSize:14,children:b.label})}),m=(0,I.useCallback)((b,e)=>e.origin?.permission?(0,h.jsx)(y,{mountContainerName:e.origin.permission.mountContainerName,sceneType:e.origin.permission.sceneType,allowedRoles:e.origin.permission.allowedRoles,preAuth:e.origin.permission.preAuth,onPermission:_,TooltipProps:{placement:"left"},children:(0,h.jsx)(O,{selected:e.value===r,disabled:e.origin?.disabled,value:e.value,onClick:P=>{e.origin?.disabled&&(P.stopPropagation(),P.preventDefault());let k=e.value;t&&t(k),c()},children:u(e)})},e.value):(0,h.jsx)(O,{value:e.value,selected:e.value===r,onClick:P=>{e.origin?.disabled&&(P.stopPropagation(),P.preventDefault());let k=e.value;t&&t(k),c()},children:u(e)},e.value),[r,t]),D=(0,I.useMemo)(()=>o.find(b=>b.value===r)||o[0],[o,r]);return(0,h.jsx)(G,{open:C,onClose:c,onOpen:l,disablePortal:d,disableClearable:!0,autoHighlight:!0,value:D,size:"small",sx:{width:220,"& .MuiInputBase-root":{height:g?.height??"auto"},"& .MuiInputBase-input":{fontSize:14,fontWeight:500,pl:"2px !important"},"& .MuiAutocomplete-popupIndicator":{color:"inherit",p:0},...g},getOptionLabel:b=>b.label,options:o,onChange:(b,e)=>{t(e.value)},noOptionsText:a("no_options"),filterOptions:Z,renderOption:m,componentsProps:{popper:{placement:s}},renderInput:b=>(0,h.jsx)(R,{...b,label:i,inputProps:{...b.inputProps,autoComplete:"new-password"}})})},x=$;var T=f(v()),ee=n=>{let{label:o="",value:i="",onChange:r=a=>{},placement:t="left",sx:g,disablePortal:s,hasAuto:d=!1,inWhere:_,hasPermission:C=!1}=n,{waitSignInCheckPromise:S}=j(),c=(0,W.useMemo)(()=>{let a=Object.keys(E).map(u=>{let m=E[u];return{label:m.label,value:u,origin:{value:u,...m}}});return d&&a.unshift({label:"Auto",value:"auto"}),a},[d,_]),l=(0,W.useMemo)(()=>i&&i!==""?i:d?"auto":"en",[i,d]);return C?(0,T.jsx)(y,{mountContainerName:_,sceneType:"WEBACCESS_LANGUAGE",allowedRoles:["pro","pro_gift"],onPermission:async(a,u,[m])=>(m!==c[0].value&&r(c[0].value),{success:!1}),TooltipProps:{placement:"left"},preAuth:async()=>await S({ref:"webchatgpt-web-access"}),children:(0,T.jsx)(x,{label:o,options:c,value:l,onChange:r,placement:t,sx:g})}):(0,T.jsx)(x,{label:o,options:c,value:l,onChange:r,placement:t,disablePortal:s,sx:g})},Me=ee;export{E as a,H as b,K as c,j as d,x as e,Me as f};
