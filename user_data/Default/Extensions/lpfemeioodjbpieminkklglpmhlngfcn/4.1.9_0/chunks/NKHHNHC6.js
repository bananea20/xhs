import{D as tn,I as rn,L as sn}from"./MHFF22NY.js";import{c as an}from"./A3QRDAMY.js";import{a as aa}from"./DLHF3GTD.js";import{c as en}from"./FNOI4VUF.js";import{b as Zi}from"./DJKLXMKD.js";import{g as Qi}from"./EWET23YO.js";import{a as ot,b as zi}from"./AZMC6STA.js";import{h as hr,j as Yi,u as zs}from"./WUMYY75E.js";import{a as nn,c as on}from"./U3PG3M5Y.js";import{a as at}from"./USLLVG5P.js";import{a as Ji,c as R,f as Rt}from"./UTGLRY7A.js";var cn=R((Xa,Qs)=>{function ln(r,e){if(e&&e.documentElement)r=e,e=arguments[2];else if(!r||!r.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(e=e||{},this._doc=r,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!e.debug,this._maxElemsToParse=e.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=e.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=e.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(e.classesToPreserve||[]),this._keepClasses=!!e.keepClasses,this._serializer=e.serializer||function(t){return t.innerHTML},this._disableJSONLD=!!e.disableJSONLD,this._allowedVideoRegex=e.allowedVideoRegex||this.REGEXPS.videos,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let t=function(s){if(s.nodeType==s.TEXT_NODE)return`${s.nodeName} ("${s.textContent}")`;let n=Array.from(s.attributes||[],function(i){return`${i.name}="${i.value}"`}).join(" ");return`<${s.localName} ${n}>`};this.log=function(){if(typeof console<"u")Array.from(arguments,i=>i&&i.nodeType==this.ELEMENT_NODE?t(i):i).unshift("Reader: (Readability)");else if(typeof dump<"u"){var s=Array.prototype.map.call(arguments,function(n){return n&&n.nodeName?t(n):n}).join(" ");dump("Reader: (Readability) "+s+`
`)}}}else this.log=function(){}}ln.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(r){this._fixRelativeUris(r),this._simplifyNestedElements(r),this._keepClasses||this._cleanClasses(r)},_removeNodes:function(r,e){if(this._docJSDOMParser&&r._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var t=r.length-1;t>=0;t--){var s=r[t],n=s.parentNode;n&&(!e||e.call(this,s,t,r))&&n.removeChild(s)}},_replaceNodeTags:function(r,e){if(this._docJSDOMParser&&r._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(let t of r)this._setNodeTag(t,e)},_forEachNode:function(r,e){Array.prototype.forEach.call(r,e,this)},_findNode:function(r,e){return Array.prototype.find.call(r,e,this)},_someNode:function(r,e){return Array.prototype.some.call(r,e,this)},_everyNode:function(r,e){return Array.prototype.every.call(r,e,this)},_concatNodeLists:function(){var r=Array.prototype.slice,e=r.call(arguments),t=e.map(function(s){return r.call(s)});return Array.prototype.concat.apply([],t)},_getAllNodesWithTag:function(r,e){return r.querySelectorAll?r.querySelectorAll(e.join(",")):[].concat.apply([],e.map(function(t){var s=r.getElementsByTagName(t);return Array.isArray(s)?s:Array.from(s)}))},_cleanClasses:function(r){var e=this._classesToPreserve,t=(r.getAttribute("class")||"").split(/\s+/).filter(function(s){return e.indexOf(s)!=-1}).join(" ");for(t?r.setAttribute("class",t):r.removeAttribute("class"),r=r.firstElementChild;r;r=r.nextElementSibling)this._cleanClasses(r)},_fixRelativeUris:function(r){var e=this._doc.baseURI,t=this._doc.documentURI;function s(o){if(e==t&&o.charAt(0)=="#")return o;try{return new URL(o,e).href}catch{}return o}var n=this._getAllNodesWithTag(r,["a"]);this._forEachNode(n,function(o){var l=o.getAttribute("href");if(l)if(l.indexOf("javascript:")===0)if(o.childNodes.length===1&&o.childNodes[0].nodeType===this.TEXT_NODE){var u=this._doc.createTextNode(o.textContent);o.parentNode.replaceChild(u,o)}else{for(var h=this._doc.createElement("span");o.firstChild;)h.appendChild(o.firstChild);o.parentNode.replaceChild(h,o)}else o.setAttribute("href",s(l))});var i=this._getAllNodesWithTag(r,["img","picture","figure","video","audio","source"]);this._forEachNode(i,function(o){var l=o.getAttribute("src"),u=o.getAttribute("poster"),h=o.getAttribute("srcset");if(l&&o.setAttribute("src",s(l)),u&&o.setAttribute("poster",s(u)),h){var p=h.replace(this.REGEXPS.srcsetUrl,function(S,y,v,I){return s(y)+(v||"")+I});o.setAttribute("srcset",p)}})},_simplifyNestedElements:function(r){for(var e=r;e;){if(e.parentNode&&["DIV","SECTION"].includes(e.tagName)&&!(e.id&&e.id.startsWith("readability"))){if(this._isElementWithoutContent(e)){e=this._removeAndGetNext(e);continue}else if(this._hasSingleTagInsideElement(e,"DIV")||this._hasSingleTagInsideElement(e,"SECTION")){for(var t=e.children[0],s=0;s<e.attributes.length;s++)t.setAttribute(e.attributes[s].name,e.attributes[s].value);e.parentNode.replaceChild(t,e),e=t;continue}}e=this._getNextNode(e)}},_getArticleTitle:function(){var r=this._doc,e="",t="";try{e=t=r.title.trim(),typeof e!="string"&&(e=t=this._getInnerText(r.getElementsByTagName("title")[0]))}catch{}var s=!1;function n(p){return p.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(e))s=/ [\\\/>»] /.test(e),e=t.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"),n(e)<3&&(e=t.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(e.indexOf(": ")!==-1){var i=this._concatNodeLists(r.getElementsByTagName("h1"),r.getElementsByTagName("h2")),o=e.trim(),l=this._someNode(i,function(p){return p.textContent.trim()===o});l||(e=t.substring(t.lastIndexOf(":")+1),n(e)<3?e=t.substring(t.indexOf(":")+1):n(t.substr(0,t.indexOf(":")))>5&&(e=t))}else if(e.length>150||e.length<15){var u=r.getElementsByTagName("h1");u.length===1&&(e=this._getInnerText(u[0]))}e=e.trim().replace(this.REGEXPS.normalize," ");var h=n(e);return h<=4&&(!s||h!=n(t.replace(/[\|\-\\\/>»]+/g,""))-1)&&(e=t),e},_prepDocument:function(){var r=this._doc;this._removeNodes(this._getAllNodesWithTag(r,["style"])),r.body&&this._replaceBrs(r.body),this._replaceNodeTags(this._getAllNodesWithTag(r,["font"]),"SPAN")},_nextNode:function(r){for(var e=r;e&&e.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(e.textContent);)e=e.nextSibling;return e},_replaceBrs:function(r){this._forEachNode(this._getAllNodesWithTag(r,["br"]),function(e){for(var t=e.nextSibling,s=!1;(t=this._nextNode(t))&&t.tagName=="BR";){s=!0;var n=t.nextSibling;t.parentNode.removeChild(t),t=n}if(s){var i=this._doc.createElement("p");for(e.parentNode.replaceChild(i,e),t=i.nextSibling;t;){if(t.tagName=="BR"){var o=this._nextNode(t.nextSibling);if(o&&o.tagName=="BR")break}if(!this._isPhrasingContent(t))break;var l=t.nextSibling;i.appendChild(t),t=l}for(;i.lastChild&&this._isWhitespace(i.lastChild);)i.removeChild(i.lastChild);i.parentNode.tagName==="P"&&this._setNodeTag(i.parentNode,"DIV")}})},_setNodeTag:function(r,e){if(this.log("_setNodeTag",r,e),this._docJSDOMParser)return r.localName=e.toLowerCase(),r.tagName=e.toUpperCase(),r;for(var t=r.ownerDocument.createElement(e);r.firstChild;)t.appendChild(r.firstChild);r.parentNode.replaceChild(t,r),r.readability&&(t.readability=r.readability);for(var s=0;s<r.attributes.length;s++)try{t.setAttribute(r.attributes[s].name,r.attributes[s].value)}catch{}return t},_prepArticle:function(r){this._cleanStyles(r),this._markDataTables(r),this._fixLazyImages(r),this._cleanConditionally(r,"form"),this._cleanConditionally(r,"fieldset"),this._clean(r,"object"),this._clean(r,"embed"),this._clean(r,"footer"),this._clean(r,"link"),this._clean(r,"aside");var e=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(r.children,function(t){this._cleanMatchedNodes(t,function(s,n){return this.REGEXPS.shareElements.test(n)&&s.textContent.length<e})}),this._clean(r,"iframe"),this._clean(r,"input"),this._clean(r,"textarea"),this._clean(r,"select"),this._clean(r,"button"),this._cleanHeaders(r),this._cleanConditionally(r,"table"),this._cleanConditionally(r,"ul"),this._cleanConditionally(r,"div"),this._replaceNodeTags(this._getAllNodesWithTag(r,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(r,["p"]),function(t){var s=t.getElementsByTagName("img").length,n=t.getElementsByTagName("embed").length,i=t.getElementsByTagName("object").length,o=t.getElementsByTagName("iframe").length,l=s+n+i+o;return l===0&&!this._getInnerText(t,!1)}),this._forEachNode(this._getAllNodesWithTag(r,["br"]),function(t){var s=this._nextNode(t.nextSibling);s&&s.tagName=="P"&&t.parentNode.removeChild(t)}),this._forEachNode(this._getAllNodesWithTag(r,["table"]),function(t){var s=this._hasSingleTagInsideElement(t,"TBODY")?t.firstElementChild:t;if(this._hasSingleTagInsideElement(s,"TR")){var n=s.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var i=n.firstElementChild;i=this._setNodeTag(i,this._everyNode(i.childNodes,this._isPhrasingContent)?"P":"DIV"),t.parentNode.replaceChild(i,t)}}})},_initializeNode:function(r){switch(r.readability={contentScore:0},r.tagName){case"DIV":r.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":r.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":r.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":r.readability.contentScore-=5;break}r.readability.contentScore+=this._getClassWeight(r)},_removeAndGetNext:function(r){var e=this._getNextNode(r,!0);return r.parentNode.removeChild(r),e},_getNextNode:function(r,e){if(!e&&r.firstElementChild)return r.firstElementChild;if(r.nextElementSibling)return r.nextElementSibling;do r=r.parentNode;while(r&&!r.nextElementSibling);return r&&r.nextElementSibling},_textSimilarity:function(r,e){var t=r.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),s=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!t.length||!s.length)return 0;var n=s.filter(o=>!t.includes(o)),i=n.join(" ").length/s.join(" ").length;return 1-i},_checkByline:function(r,e){if(this._articleByline)return!1;if(r.getAttribute!==void 0)var t=r.getAttribute("rel"),s=r.getAttribute("itemprop");return(t==="author"||s&&s.indexOf("author")!==-1||this.REGEXPS.byline.test(e))&&this._isValidByline(r.textContent)?(this._articleByline=r.textContent.trim(),!0):!1},_getNodeAncestors:function(r,e){e=e||0;for(var t=0,s=[];r.parentNode&&(s.push(r.parentNode),!(e&&++t===e));)r=r.parentNode;return s},_grabArticle:function(r){this.log("**** grabArticle ****");var e=this._doc,t=r!==null;if(r=r||this._doc.body,!r)return this.log("No body found in document. Abort."),null;for(var s=r.innerHTML;;){this.log("Starting grabArticle loop");var n=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),i=[],o=this._doc.documentElement;let Xi=!0;for(;o;){o.tagName==="HTML"&&(this._articleLang=o.getAttribute("lang"));var l=o.className+" "+o.id;if(!this._isProbablyVisible(o)){this.log("Removing hidden node - "+l),o=this._removeAndGetNext(o);continue}if(o.getAttribute("aria-modal")=="true"&&o.getAttribute("role")=="dialog"){o=this._removeAndGetNext(o);continue}if(this._checkByline(o,l)){o=this._removeAndGetNext(o);continue}if(Xi&&this._headerDuplicatesTitle(o)){this.log("Removing header: ",o.textContent.trim(),this._articleTitle.trim()),Xi=!1,o=this._removeAndGetNext(o);continue}if(n){if(this.REGEXPS.unlikelyCandidates.test(l)&&!this.REGEXPS.okMaybeItsACandidate.test(l)&&!this._hasAncestorTag(o,"table")&&!this._hasAncestorTag(o,"code")&&o.tagName!=="BODY"&&o.tagName!=="A"){this.log("Removing unlikely candidate - "+l),o=this._removeAndGetNext(o);continue}if(this.UNLIKELY_ROLES.includes(o.getAttribute("role"))){this.log("Removing content with role "+o.getAttribute("role")+" - "+l),o=this._removeAndGetNext(o);continue}}if((o.tagName==="DIV"||o.tagName==="SECTION"||o.tagName==="HEADER"||o.tagName==="H1"||o.tagName==="H2"||o.tagName==="H3"||o.tagName==="H4"||o.tagName==="H5"||o.tagName==="H6")&&this._isElementWithoutContent(o)){o=this._removeAndGetNext(o);continue}if(this.DEFAULT_TAGS_TO_SCORE.indexOf(o.tagName)!==-1&&i.push(o),o.tagName==="DIV"){for(var u=null,h=o.firstChild;h;){var p=h.nextSibling;if(this._isPhrasingContent(h))u!==null?u.appendChild(h):this._isWhitespace(h)||(u=e.createElement("p"),o.replaceChild(u,h),u.appendChild(h));else if(u!==null){for(;u.lastChild&&this._isWhitespace(u.lastChild);)u.removeChild(u.lastChild);u=null}h=p}if(this._hasSingleTagInsideElement(o,"P")&&this._getLinkDensity(o)<.25){var S=o.children[0];o.parentNode.replaceChild(S,o),o=S,i.push(o)}else this._hasChildBlockElement(o)||(o=this._setNodeTag(o,"P"),i.push(o))}o=this._getNextNode(o)}var y=[];this._forEachNode(i,function(Ae){if(!(!Ae.parentNode||typeof Ae.parentNode.tagName>"u")){var Be=this._getInnerText(Ae);if(!(Be.length<25)){var Ki=this._getNodeAncestors(Ae,5);if(Ki.length!==0){var ur=0;ur+=1,ur+=Be.split(",").length,ur+=Math.min(Math.floor(Be.length/100),3),this._forEachNode(Ki,function(Ye,Js){if(!(!Ye.tagName||!Ye.parentNode||typeof Ye.parentNode.tagName>"u")){if(typeof Ye.readability>"u"&&(this._initializeNode(Ye),y.push(Ye)),Js===0)var Ys=1;else Js===1?Ys=2:Ys=Js*3;Ye.readability.contentScore+=ur/Ys}})}}}});for(var v=[],I=0,O=y.length;I<O;I+=1){var b=y[I],w=b.readability.contentScore*(1-this._getLinkDensity(b));b.readability.contentScore=w,this.log("Candidate:",b,"with score "+w);for(var L=0;L<this._nbTopCandidates;L++){var re=v[L];if(!re||w>re.readability.contentScore){v.splice(L,0,b),v.length>this._nbTopCandidates&&v.pop();break}}}var d=v[0]||null,W=!1,T;if(d===null||d.tagName==="BODY"){for(d=e.createElement("DIV"),W=!0;r.firstChild;)this.log("Moving child out:",r.firstChild),d.appendChild(r.firstChild);r.appendChild(d),this._initializeNode(d)}else if(d){for(var de=[],Je=1;Je<v.length;Je++)v[Je].readability.contentScore/d.readability.contentScore>=.75&&de.push(this._getNodeAncestors(v[Je]));var Re=3;if(de.length>=Re)for(T=d.parentNode;T.tagName!=="BODY";){for(var V=0,He=0;He<de.length&&V<Re;He++)V+=Number(de[He].includes(T));if(V>=Re){d=T;break}T=T.parentNode}d.readability||this._initializeNode(d),T=d.parentNode;for(var Ge=d.readability.contentScore,js=Ge/3;T.tagName!=="BODY";){if(!T.readability){T=T.parentNode;continue}var Nt=T.readability.contentScore;if(Nt<js)break;if(Nt>Ge){d=T;break}Ge=T.readability.contentScore,T=T.parentNode}for(T=d.parentNode;T.tagName!="BODY"&&T.children.length==1;)d=T,T=d.parentNode;d.readability||this._initializeNode(d)}var G=e.createElement("DIV");t&&(G.id="readability-content");var ar=Math.max(10,d.readability.contentScore*.2);T=d.parentNode;for(var Ue=T.children,lr=0,qi=Ue.length;lr<qi;lr++){var F=Ue[lr],xt=!1;if(this.log("Looking at sibling node:",F,F.readability?"with score "+F.readability.contentScore:""),this.log("Sibling has score",F.readability?F.readability.contentScore:"Unknown"),F===d)xt=!0;else{var $i=0;if(F.className===d.className&&d.className!==""&&($i+=d.readability.contentScore*.2),F.readability&&F.readability.contentScore+$i>=ar)xt=!0;else if(F.nodeName==="P"){var Wi=this._getLinkDensity(F),ji=this._getInnerText(F),Xs=ji.length;(Xs>80&&Wi<.25||Xs<80&&Xs>0&&Wi===0&&ji.search(/\.( |$)/)!==-1)&&(xt=!0)}}xt&&(this.log("Appending node:",F),this.ALTER_TO_DIV_EXCEPTIONS.indexOf(F.nodeName)===-1&&(this.log("Altering sibling:",F,"to div."),F=this._setNodeTag(F,"DIV")),G.appendChild(F),Ue=T.children,lr-=1,qi-=1)}if(this._debug&&this.log("Article content pre-prep: "+G.innerHTML),this._prepArticle(G),this._debug&&this.log("Article content post-prep: "+G.innerHTML),W)d.id="readability-page-1",d.className="page";else{var cr=e.createElement("DIV");for(cr.id="readability-page-1",cr.className="page";G.firstChild;)cr.appendChild(G.firstChild);G.appendChild(cr)}this._debug&&this.log("Article content after paging: "+G.innerHTML);var Ks=!0,_t=this._getInnerText(G,!0).length;if(_t<this._charThreshold)if(Ks=!1,r.innerHTML=s,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:G,textLength:_t});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:G,textLength:_t});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:G,textLength:_t});else{if(this._attempts.push({articleContent:G,textLength:_t}),this._attempts.sort(function(Ae,Be){return Be.textLength-Ae.textLength}),!this._attempts[0].textLength)return null;G=this._attempts[0].articleContent,Ks=!0}if(Ks){var oa=[T,d].concat(this._getNodeAncestors(T));return this._someNode(oa,function(Ae){if(!Ae.tagName)return!1;var Be=Ae.getAttribute("dir");return Be?(this._articleDir=Be,!0):!1}),G}}},_isValidByline:function(r){return typeof r=="string"||r instanceof String?(r=r.trim(),r.length>0&&r.length<100):!1},_unescapeHtmlEntities:function(r){if(!r)return r;var e=this.HTML_ESCAPE_MAP;return r.replace(/&(quot|amp|apos|lt|gt);/g,function(t,s){return e[s]}).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,function(t,s,n){var i=parseInt(s||n,s?16:10);return String.fromCharCode(i)})},_getJSONLD:function(r){var e=this._getAllNodesWithTag(r,["script"]),t;return this._forEachNode(e,function(s){if(!t&&s.getAttribute("type")==="application/ld+json")try{var n=s.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),i=JSON.parse(n);if(!i["@context"]||!i["@context"].match(/^https?\:\/\/schema\.org$/)||(!i["@type"]&&Array.isArray(i["@graph"])&&(i=i["@graph"].find(function(h){return(h["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)})),!i||!i["@type"]||!i["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(t={},typeof i.name=="string"&&typeof i.headline=="string"&&i.name!==i.headline){var o=this._getArticleTitle(),l=this._textSimilarity(i.name,o)>.75,u=this._textSimilarity(i.headline,o)>.75;u&&!l?t.title=i.headline:t.title=i.name}else typeof i.name=="string"?t.title=i.name.trim():typeof i.headline=="string"&&(t.title=i.headline.trim());i.author&&(typeof i.author.name=="string"?t.byline=i.author.name.trim():Array.isArray(i.author)&&i.author[0]&&typeof i.author[0].name=="string"&&(t.byline=i.author.filter(function(h){return h&&typeof h.name=="string"}).map(function(h){return h.name.trim()}).join(", "))),typeof i.description=="string"&&(t.excerpt=i.description.trim()),i.publisher&&typeof i.publisher.name=="string"&&(t.siteName=i.publisher.name.trim());return}catch(h){this.log(h.message)}}),t||{}},_getArticleMetadata:function(r){var e={},t={},s=this._doc.getElementsByTagName("meta"),n=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,i=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(s,function(o){var l=o.getAttribute("name"),u=o.getAttribute("property"),h=o.getAttribute("content");if(h){var p=null,S=null;u&&(p=u.match(n),p&&(S=p[0].toLowerCase().replace(/\s/g,""),t[S]=h.trim())),!p&&l&&i.test(l)&&(S=l,h&&(S=S.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),t[S]=h.trim()))}}),e.title=r.title||t["dc:title"]||t["dcterm:title"]||t["og:title"]||t["weibo:article:title"]||t["weibo:webpage:title"]||t.title||t["twitter:title"],e.title||(e.title=this._getArticleTitle()),e.byline=r.byline||t["dc:creator"]||t["dcterm:creator"]||t.author,e.excerpt=r.excerpt||t["dc:description"]||t["dcterm:description"]||t["og:description"]||t["weibo:article:description"]||t["weibo:webpage:description"]||t.description||t["twitter:description"],e.siteName=r.siteName||t["og:site_name"],e.title=this._unescapeHtmlEntities(e.title),e.byline=this._unescapeHtmlEntities(e.byline),e.excerpt=this._unescapeHtmlEntities(e.excerpt),e.siteName=this._unescapeHtmlEntities(e.siteName),e},_isSingleImage:function(r){return r.tagName==="IMG"?!0:r.children.length!==1||r.textContent.trim()!==""?!1:this._isSingleImage(r.children[0])},_unwrapNoscriptImages:function(r){var e=Array.from(r.getElementsByTagName("img"));this._forEachNode(e,function(s){for(var n=0;n<s.attributes.length;n++){var i=s.attributes[n];switch(i.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(i.value))return}s.parentNode.removeChild(s)});var t=Array.from(r.getElementsByTagName("noscript"));this._forEachNode(t,function(s){var n=r.createElement("div");if(n.innerHTML=s.innerHTML,!!this._isSingleImage(n)){var i=s.previousElementSibling;if(i&&this._isSingleImage(i)){var o=i;o.tagName!=="IMG"&&(o=i.getElementsByTagName("img")[0]);for(var l=n.getElementsByTagName("img")[0],u=0;u<o.attributes.length;u++){var h=o.attributes[u];if(h.value!==""&&(h.name==="src"||h.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(h.value))){if(l.getAttribute(h.name)===h.value)continue;var p=h.name;l.hasAttribute(p)&&(p="data-old-"+p),l.setAttribute(p,h.value)}}s.parentNode.replaceChild(n.firstElementChild,i)}}})},_removeScripts:function(r){this._removeNodes(this._getAllNodesWithTag(r,["script","noscript"]))},_hasSingleTagInsideElement:function(r,e){return r.children.length!=1||r.children[0].tagName!==e?!1:!this._someNode(r.childNodes,function(t){return t.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(t.textContent)})},_isElementWithoutContent:function(r){return r.nodeType===this.ELEMENT_NODE&&r.textContent.trim().length==0&&(r.children.length==0||r.children.length==r.getElementsByTagName("br").length+r.getElementsByTagName("hr").length)},_hasChildBlockElement:function(r){return this._someNode(r.childNodes,function(e){return this.DIV_TO_P_ELEMS.has(e.tagName)||this._hasChildBlockElement(e)})},_isPhrasingContent:function(r){return r.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.indexOf(r.tagName)!==-1||(r.tagName==="A"||r.tagName==="DEL"||r.tagName==="INS")&&this._everyNode(r.childNodes,this._isPhrasingContent)},_isWhitespace:function(r){return r.nodeType===this.TEXT_NODE&&r.textContent.trim().length===0||r.nodeType===this.ELEMENT_NODE&&r.tagName==="BR"},_getInnerText:function(r,e){e=typeof e>"u"?!0:e;var t=r.textContent.trim();return e?t.replace(this.REGEXPS.normalize," "):t},_getCharCount:function(r,e){return e=e||",",this._getInnerText(r).split(e).length-1},_cleanStyles:function(r){if(!(!r||r.tagName.toLowerCase()==="svg")){for(var e=0;e<this.PRESENTATIONAL_ATTRIBUTES.length;e++)r.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[e]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(r.tagName)!==-1&&(r.removeAttribute("width"),r.removeAttribute("height"));for(var t=r.firstElementChild;t!==null;)this._cleanStyles(t),t=t.nextElementSibling}},_getLinkDensity:function(r){var e=this._getInnerText(r).length;if(e===0)return 0;var t=0;return this._forEachNode(r.getElementsByTagName("a"),function(s){var n=s.getAttribute("href"),i=n&&this.REGEXPS.hashUrl.test(n)?.3:1;t+=this._getInnerText(s).length*i}),t/e},_getClassWeight:function(r){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var e=0;return typeof r.className=="string"&&r.className!==""&&(this.REGEXPS.negative.test(r.className)&&(e-=25),this.REGEXPS.positive.test(r.className)&&(e+=25)),typeof r.id=="string"&&r.id!==""&&(this.REGEXPS.negative.test(r.id)&&(e-=25),this.REGEXPS.positive.test(r.id)&&(e+=25)),e},_clean:function(r,e){var t=["object","embed","iframe"].indexOf(e)!==-1;this._removeNodes(this._getAllNodesWithTag(r,[e]),function(s){if(t){for(var n=0;n<s.attributes.length;n++)if(this._allowedVideoRegex.test(s.attributes[n].value))return!1;if(s.tagName==="object"&&this._allowedVideoRegex.test(s.innerHTML))return!1}return!0})},_hasAncestorTag:function(r,e,t,s){t=t||3,e=e.toUpperCase();for(var n=0;r.parentNode;){if(t>0&&n>t)return!1;if(r.parentNode.tagName===e&&(!s||s(r.parentNode)))return!0;r=r.parentNode,n++}return!1},_getRowAndColumnCount:function(r){for(var e=0,t=0,s=r.getElementsByTagName("tr"),n=0;n<s.length;n++){var i=s[n].getAttribute("rowspan")||0;i&&(i=parseInt(i,10)),e+=i||1;for(var o=0,l=s[n].getElementsByTagName("td"),u=0;u<l.length;u++){var h=l[u].getAttribute("colspan")||0;h&&(h=parseInt(h,10)),o+=h||1}t=Math.max(t,o)}return{rows:e,columns:t}},_markDataTables:function(r){for(var e=r.getElementsByTagName("table"),t=0;t<e.length;t++){var s=e[t],n=s.getAttribute("role");if(n=="presentation"){s._readabilityDataTable=!1;continue}var i=s.getAttribute("datatable");if(i=="0"){s._readabilityDataTable=!1;continue}var o=s.getAttribute("summary");if(o){s._readabilityDataTable=!0;continue}var l=s.getElementsByTagName("caption")[0];if(l&&l.childNodes.length>0){s._readabilityDataTable=!0;continue}var u=["col","colgroup","tfoot","thead","th"],h=function(S){return!!s.getElementsByTagName(S)[0]};if(u.some(h)){this.log("Data table because found data-y descendant"),s._readabilityDataTable=!0;continue}if(s.getElementsByTagName("table")[0]){s._readabilityDataTable=!1;continue}var p=this._getRowAndColumnCount(s);if(p.rows>=10||p.columns>4){s._readabilityDataTable=!0;continue}s._readabilityDataTable=p.rows*p.columns>10}},_fixLazyImages:function(r){this._forEachNode(this._getAllNodesWithTag(r,["img","picture","figure"]),function(e){if(e.src&&this.REGEXPS.b64DataUrl.test(e.src)){var t=this.REGEXPS.b64DataUrl.exec(e.src);if(t[1]==="image/svg+xml")return;for(var s=!1,n=0;n<e.attributes.length;n++){var i=e.attributes[n];if(i.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(i.value)){s=!0;break}}if(s){var o=e.src.search(/base64\s*/i)+7,l=e.src.length-o;l<133&&e.removeAttribute("src")}}if(!((e.src||e.srcset&&e.srcset!="null")&&e.className.toLowerCase().indexOf("lazy")===-1)){for(var u=0;u<e.attributes.length;u++)if(i=e.attributes[u],!(i.name==="src"||i.name==="srcset"||i.name==="alt")){var h=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(i.value)?h="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(i.value)&&(h="src"),h){if(e.tagName==="IMG"||e.tagName==="PICTURE")e.setAttribute(h,i.value);else if(e.tagName==="FIGURE"&&!this._getAllNodesWithTag(e,["img","picture"]).length){var p=this._doc.createElement("img");p.setAttribute(h,i.value),e.appendChild(p)}}}}})},_getTextDensity:function(r,e){var t=this._getInnerText(r,!0).length;if(t===0)return 0;var s=0,n=this._getAllNodesWithTag(r,e);return this._forEachNode(n,i=>s+=this._getInnerText(i,!0).length),s/t},_cleanConditionally:function(r,e){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(r,[e]),function(t){var s=function(T){return T._readabilityDataTable},n=e==="ul"||e==="ol";if(!n){var i=0,o=this._getAllNodesWithTag(t,["ul","ol"]);this._forEachNode(o,T=>i+=this._getInnerText(T).length),n=i/this._getInnerText(t).length>.9}if(e==="table"&&s(t)||this._hasAncestorTag(t,"table",-1,s)||this._hasAncestorTag(t,"code"))return!1;var l=this._getClassWeight(t);this.log("Cleaning Conditionally",t);var u=0;if(l+u<0)return!0;if(this._getCharCount(t,",")<10){for(var h=t.getElementsByTagName("p").length,p=t.getElementsByTagName("img").length,S=t.getElementsByTagName("li").length-100,y=t.getElementsByTagName("input").length,v=this._getTextDensity(t,["h1","h2","h3","h4","h5","h6"]),I=0,O=this._getAllNodesWithTag(t,["object","embed","iframe"]),b=0;b<O.length;b++){for(var w=0;w<O[b].attributes.length;w++)if(this._allowedVideoRegex.test(O[b].attributes[w].value))return!1;if(O[b].tagName==="object"&&this._allowedVideoRegex.test(O[b].innerHTML))return!1;I++}var L=this._getLinkDensity(t),re=this._getInnerText(t).length,d=p>1&&h/p<.5&&!this._hasAncestorTag(t,"figure")||!n&&S>h||y>Math.floor(h/3)||!n&&v<.9&&re<25&&(p===0||p>2)&&!this._hasAncestorTag(t,"figure")||!n&&l<25&&L>.2||l>=25&&L>.5||I===1&&re<75||I>1;if(n&&d){for(var W=0;W<t.children.length;W++)if(t.children[W].children.length>1)return d;let T=t.getElementsByTagName("li").length;if(p==T)return!1}return d}return!1})},_cleanMatchedNodes:function(r,e){for(var t=this._getNextNode(r,!0),s=this._getNextNode(r);s&&s!=t;)e.call(this,s,s.className+" "+s.id)?s=this._removeAndGetNext(s):s=this._getNextNode(s)},_cleanHeaders:function(r){let e=this._getAllNodesWithTag(r,["h1","h2"]);this._removeNodes(e,function(t){let s=this._getClassWeight(t)<0;return s&&this.log("Removing header with low class weight:",t),s})},_headerDuplicatesTitle:function(r){if(r.tagName!="H1"&&r.tagName!="H2")return!1;var e=this._getInnerText(r,!1);return this.log("Evaluating similarity of header:",e,this._articleTitle),this._textSimilarity(this._articleTitle,e)>.75},_flagIsActive:function(r){return(this._flags&r)>0},_removeFlag:function(r){this._flags=this._flags&~r},_isProbablyVisible:function(r){return(!r.style||r.style.display!="none")&&!r.hasAttribute("hidden")&&(!r.hasAttribute("aria-hidden")||r.getAttribute("aria-hidden")!="true"||r.className&&r.className.indexOf&&r.className.indexOf("fallback-image")!==-1)},parse:function(){if(this._maxElemsToParse>0){var r=this._doc.getElementsByTagName("*").length;if(r>this._maxElemsToParse)throw new Error("Aborting parsing document; "+r+" elements found")}this._unwrapNoscriptImages(this._doc);var e=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var t=this._getArticleMetadata(e);this._articleTitle=t.title;var s=this._grabArticle();if(!s)return null;if(this.log("Grabbed: "+s.innerHTML),this._postProcessContent(s),!t.excerpt){var n=s.getElementsByTagName("p");n.length>0&&(t.excerpt=n[0].textContent.trim())}var i=s.textContent;return{title:this._articleTitle,byline:t.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(s),textContent:i,length:i.length,excerpt:t.excerpt,siteName:t.siteName||this._articleSiteName}}};typeof Qs=="object"&&(Qs.exports=ln)});var hn=R((Ka,Zs)=>{var un={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function la(r){return(!r.style||r.style.display!="none")&&!r.hasAttribute("hidden")&&(!r.hasAttribute("aria-hidden")||r.getAttribute("aria-hidden")!="true"||r.className&&r.className.indexOf&&r.className.indexOf("fallback-image")!==-1)}function ca(r,e={}){typeof e=="function"&&(e={visibilityChecker:e});var t={minScore:20,minContentLength:140,visibilityChecker:la};e=Object.assign(t,e);var s=r.querySelectorAll("p, pre, article"),n=r.querySelectorAll("div > br");if(n.length){var i=new Set(s);[].forEach.call(n,function(l){i.add(l.parentNode)}),s=Array.from(i)}var o=0;return[].some.call(s,function(l){if(!e.visibilityChecker(l))return!1;var u=l.className+" "+l.id;if(un.unlikelyCandidates.test(u)&&!un.okMaybeItsACandidate.test(u)||l.matches("li p"))return!1;var h=l.textContent.trim().length;return h<e.minContentLength?!1:(o+=Math.sqrt(h-e.minContentLength),o>e.minScore)})}typeof Zs=="object"&&(Zs.exports=ca)});var mn=R((Ja,pn)=>{var ua=cn(),ha=hn();pn.exports={Readability:ua,isProbablyReaderable:ha}});var Mn=R(ai=>{try{let{performance:r}=Ji("perf_hooks");ai.performance=r}catch{ai.performance={now(){return+new Date}}}});var Mi=R(zn=>{var Yn={};Yn.StyleSheet=function(){this.parentStyleSheet=null};zn.StyleSheet=Yn.StyleSheet});var te=R(Qn=>{var k={};k.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null};k.CSSRule.UNKNOWN_RULE=0;k.CSSRule.STYLE_RULE=1;k.CSSRule.CHARSET_RULE=2;k.CSSRule.IMPORT_RULE=3;k.CSSRule.MEDIA_RULE=4;k.CSSRule.FONT_FACE_RULE=5;k.CSSRule.PAGE_RULE=6;k.CSSRule.KEYFRAMES_RULE=7;k.CSSRule.KEYFRAME_RULE=8;k.CSSRule.MARGIN_RULE=9;k.CSSRule.NAMESPACE_RULE=10;k.CSSRule.COUNTER_STYLE_RULE=11;k.CSSRule.SUPPORTS_RULE=12;k.CSSRule.DOCUMENT_RULE=13;k.CSSRule.FONT_FEATURE_VALUES_RULE=14;k.CSSRule.VIEWPORT_RULE=15;k.CSSRule.REGION_STYLE_RULE=16;k.CSSRule.prototype={constructor:k.CSSRule};Qn.CSSRule=k.CSSRule});var $t=R(Zn=>{var ie={CSSStyleDeclaration:st().CSSStyleDeclaration,CSSRule:te().CSSRule};ie.CSSStyleRule=function(){ie.CSSRule.call(this),this.selectorText="",this.style=new ie.CSSStyleDeclaration,this.style.parentRule=this};ie.CSSStyleRule.prototype=new ie.CSSRule;ie.CSSStyleRule.prototype.constructor=ie.CSSStyleRule;ie.CSSStyleRule.prototype.type=1;Object.defineProperty(ie.CSSStyleRule.prototype,"cssText",{get:function(){var r;return this.selectorText?r=this.selectorText+" {"+this.style.cssText+"}":r="",r},set:function(r){var e=ie.CSSStyleRule.parse(r);this.style=e.style,this.selectorText=e.selectorText}});ie.CSSStyleRule.parse=function(r){for(var e=0,t="selector",s,n=e,i="",o={selector:!0,value:!0},l=new ie.CSSStyleRule,u,h="",p;p=r.charAt(e);e++)switch(p){case" ":case"	":case"\r":case`
`:case"\f":if(o[t])switch(r.charAt(e-1)){case" ":case"	":case"\r":case`
`:case"\f":break;default:i+=" ";break}break;case'"':if(n=e+1,s=r.indexOf('"',n)+1,!s)throw'" is missing';i+=r.slice(e,s),e=s-1;break;case"'":if(n=e+1,s=r.indexOf("'",n)+1,!s)throw"' is missing";i+=r.slice(e,s),e=s-1;break;case"/":if(r.charAt(e+1)==="*"){if(e+=2,s=r.indexOf("*/",e),s===-1)throw new SyntaxError("Missing */");e=s+1}else i+=p;break;case"{":t==="selector"&&(l.selectorText=i.trim(),i="",t="name");break;case":":t==="name"?(u=i.trim(),i="",t="value"):i+=p;break;case"!":t==="value"&&r.indexOf("!important",e)===e?(h="important",e+=9):i+=p;break;case";":t==="value"?(l.style.setProperty(u,i.trim(),h),h="",i="",t="name"):i+=p;break;case"}":if(t==="value")l.style.setProperty(u,i.trim(),h),h="",i="";else{if(t==="name")break;i+=p}t="selector";break;default:i+=p;break}return l};Zn.CSSStyleRule=ie.CSSStyleRule});var Wt=R(eo=>{var le={StyleSheet:Mi().StyleSheet,CSSStyleRule:$t().CSSStyleRule};le.CSSStyleSheet=function(){le.StyleSheet.call(this),this.cssRules=[]};le.CSSStyleSheet.prototype=new le.StyleSheet;le.CSSStyleSheet.prototype.constructor=le.CSSStyleSheet;le.CSSStyleSheet.prototype.insertRule=function(r,e){if(e<0||e>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var t=le.parse(r).cssRules[0];return t.parentStyleSheet=this,this.cssRules.splice(e,0,t),e};le.CSSStyleSheet.prototype.deleteRule=function(r){if(r<0||r>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(r,1)};le.CSSStyleSheet.prototype.toString=function(){for(var r="",e=this.cssRules,t=0;t<e.length;t++)r+=e[t].cssText+`
`;return r};eo.CSSStyleSheet=le.CSSStyleSheet;le.parse=Ur().parse});var Vr=R(to=>{var Br={};Br.MediaList=function(){this.length=0};Br.MediaList.prototype={constructor:Br.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(r){for(var e=r.split(","),t=this.length=e.length,s=0;s<t;s++)this[s]=e[s].trim()},appendMedium:function(r){Array.prototype.indexOf.call(this,r)===-1&&(this[this.length]=r,this.length++)},deleteMedium:function(r){var e=Array.prototype.indexOf.call(this,r);e!==-1&&Array.prototype.splice.call(this,e,1)}};to.MediaList=Br.MediaList});var Oi=R(ro=>{var ge={CSSRule:te().CSSRule,CSSStyleSheet:Wt().CSSStyleSheet,MediaList:Vr().MediaList};ge.CSSImportRule=function(){ge.CSSRule.call(this),this.href="",this.media=new ge.MediaList,this.styleSheet=new ge.CSSStyleSheet};ge.CSSImportRule.prototype=new ge.CSSRule;ge.CSSImportRule.prototype.constructor=ge.CSSImportRule;ge.CSSImportRule.prototype.type=3;Object.defineProperty(ge.CSSImportRule.prototype,"cssText",{get:function(){var r=this.media.mediaText;return"@import url("+this.href+")"+(r?" "+r:"")+";"},set:function(r){for(var e=0,t="",s="",n,i;i=r.charAt(e);e++)switch(i){case" ":case"	":case"\r":case`
`:case"\f":t==="after-import"?t="url":s+=i;break;case"@":!t&&r.indexOf("@import",e)===e&&(t="after-import",e+=6,s="");break;case"u":if(t==="url"&&r.indexOf("url(",e)===e){if(n=r.indexOf(")",e+1),n===-1)throw e+': ")" not found';e+=4;var o=r.slice(e,n);o[0]===o[o.length-1]&&(o[0]==='"'||o[0]==="'")&&(o=o.slice(1,-1)),this.href=o,e=n,t="media"}break;case'"':if(t==="url"){if(n=r.indexOf('"',e+1),!n)throw e+`: '"' not found`;this.href=r.slice(e+1,n),e=n,t="media"}break;case"'":if(t==="url"){if(n=r.indexOf("'",e+1),!n)throw e+`: "'" not found`;this.href=r.slice(e+1,n),e=n,t="media"}break;case";":t==="media"&&s&&(this.media.mediaText=s.trim());break;default:t==="media"&&(s+=i);break}}});ro.CSSImportRule=ge.CSSImportRule});var it=R(so=>{var be={CSSRule:te().CSSRule};be.CSSGroupingRule=function(){be.CSSRule.call(this),this.cssRules=[]};be.CSSGroupingRule.prototype=new be.CSSRule;be.CSSGroupingRule.prototype.constructor=be.CSSGroupingRule;be.CSSGroupingRule.prototype.insertRule=function(e,t){if(t<0||t>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var s=be.parse(e).cssRules[0];return s.parentRule=this,this.cssRules.splice(t,0,s),t};be.CSSGroupingRule.prototype.deleteRule=function(e){if(e<0||e>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(e,1)[0].parentRule=null};so.CSSGroupingRule=be.CSSGroupingRule});var Et=R(io=>{var Ie={CSSRule:te().CSSRule,CSSGroupingRule:it().CSSGroupingRule};Ie.CSSConditionRule=function(){Ie.CSSGroupingRule.call(this),this.cssRules=[]};Ie.CSSConditionRule.prototype=new Ie.CSSGroupingRule;Ie.CSSConditionRule.prototype.constructor=Ie.CSSConditionRule;Ie.CSSConditionRule.prototype.conditionText="";Ie.CSSConditionRule.prototype.cssText="";io.CSSConditionRule=Ie.CSSConditionRule});var Fr=R(no=>{var ve={CSSRule:te().CSSRule,CSSGroupingRule:it().CSSGroupingRule,CSSConditionRule:Et().CSSConditionRule,MediaList:Vr().MediaList};ve.CSSMediaRule=function(){ve.CSSConditionRule.call(this),this.media=new ve.MediaList};ve.CSSMediaRule.prototype=new ve.CSSConditionRule;ve.CSSMediaRule.prototype.constructor=ve.CSSMediaRule;ve.CSSMediaRule.prototype.type=4;Object.defineProperties(ve.CSSMediaRule.prototype,{conditionText:{get:function(){return this.media.mediaText},set:function(r){this.media.mediaText=r},configurable:!0,enumerable:!0},cssText:{get:function(){for(var r=[],e=0,t=this.cssRules.length;e<t;e++)r.push(this.cssRules[e].cssText);return"@media "+this.media.mediaText+" {"+r.join("")+"}"},configurable:!0,enumerable:!0}});no.CSSMediaRule=ve.CSSMediaRule});var qr=R(oo=>{var De={CSSRule:te().CSSRule,CSSGroupingRule:it().CSSGroupingRule,CSSConditionRule:Et().CSSConditionRule};De.CSSSupportsRule=function(){De.CSSConditionRule.call(this)};De.CSSSupportsRule.prototype=new De.CSSConditionRule;De.CSSSupportsRule.prototype.constructor=De.CSSSupportsRule;De.CSSSupportsRule.prototype.type=12;Object.defineProperty(De.CSSSupportsRule.prototype,"cssText",{get:function(){for(var r=[],e=0,t=this.cssRules.length;e<t;e++)r.push(this.cssRules[e].cssText);return"@supports "+this.conditionText+" {"+r.join("")+"}"}});oo.CSSSupportsRule=De.CSSSupportsRule});var Li=R(ao=>{var Ne={CSSStyleDeclaration:st().CSSStyleDeclaration,CSSRule:te().CSSRule};Ne.CSSFontFaceRule=function(){Ne.CSSRule.call(this),this.style=new Ne.CSSStyleDeclaration,this.style.parentRule=this};Ne.CSSFontFaceRule.prototype=new Ne.CSSRule;Ne.CSSFontFaceRule.prototype.constructor=Ne.CSSFontFaceRule;Ne.CSSFontFaceRule.prototype.type=5;Object.defineProperty(Ne.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}});ao.CSSFontFaceRule=Ne.CSSFontFaceRule});var Ii=R(lo=>{var Pe={CSSRule:te().CSSRule};Pe.CSSHostRule=function(){Pe.CSSRule.call(this),this.cssRules=[]};Pe.CSSHostRule.prototype=new Pe.CSSRule;Pe.CSSHostRule.prototype.constructor=Pe.CSSHostRule;Pe.CSSHostRule.prototype.type=1001;Object.defineProperty(Pe.CSSHostRule.prototype,"cssText",{get:function(){for(var r=[],e=0,t=this.cssRules.length;e<t;e++)r.push(this.cssRules[e].cssText);return"@host {"+r.join("")+"}"}});lo.CSSHostRule=Pe.CSSHostRule});var $r=R(co=>{var xe={CSSRule:te().CSSRule,CSSStyleDeclaration:st().CSSStyleDeclaration};xe.CSSKeyframeRule=function(){xe.CSSRule.call(this),this.keyText="",this.style=new xe.CSSStyleDeclaration,this.style.parentRule=this};xe.CSSKeyframeRule.prototype=new xe.CSSRule;xe.CSSKeyframeRule.prototype.constructor=xe.CSSKeyframeRule;xe.CSSKeyframeRule.prototype.type=8;Object.defineProperty(xe.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}});co.CSSKeyframeRule=xe.CSSKeyframeRule});var Wr=R(uo=>{var ke={CSSRule:te().CSSRule};ke.CSSKeyframesRule=function(){ke.CSSRule.call(this),this.name="",this.cssRules=[]};ke.CSSKeyframesRule.prototype=new ke.CSSRule;ke.CSSKeyframesRule.prototype.constructor=ke.CSSKeyframesRule;ke.CSSKeyframesRule.prototype.type=7;Object.defineProperty(ke.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var r=[],e=0,t=this.cssRules.length;e<t;e++)r.push("  "+this.cssRules[e].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+` { 
`+r.join(`
`)+`
}`}});uo.CSSKeyframesRule=ke.CSSKeyframesRule});var Di=R(ho=>{var jr={};jr.CSSValue=function(){};jr.CSSValue.prototype={constructor:jr.CSSValue,set cssText(r){var e=this._getConstructorName();throw new Error('DOMException: property "cssText" of "'+e+'" is readonly and can not be replaced with "'+r+'"!')},get cssText(){var r=this._getConstructorName();throw new Error('getter "cssText" of "'+r+'" is not implemented!')},_getConstructorName:function(){var r=this.constructor.toString(),e=r.match(/function\s([^\(]+)/),t=e[1];return t}};ho.CSSValue=jr.CSSValue});var Pi=R(po=>{var fe={CSSValue:Di().CSSValue};fe.CSSValueExpression=function(e,t){this._token=e,this._idx=t};fe.CSSValueExpression.prototype=new fe.CSSValue;fe.CSSValueExpression.prototype.constructor=fe.CSSValueExpression;fe.CSSValueExpression.prototype.parse=function(){for(var r=this._token,e=this._idx,t="",s="",n="",i,o=[];;++e){if(t=r.charAt(e),t===""){n="css expression error: unfinished expression!";break}switch(t){case"(":o.push(t),s+=t;break;case")":o.pop(t),s+=t;break;case"/":(i=this._parseJSComment(r,e))?i.error?n="css expression error: unfinished comment in expression!":e=i.idx:(i=this._parseJSRexExp(r,e))?(e=i.idx,s+=i.text):s+=t;break;case"'":case'"':i=this._parseJSString(r,e,t),i?(e=i.idx,s+=i.text):s+=t;break;default:s+=t;break}if(n||o.length===0)break}var l;return n?l={error:n}:l={idx:e,expression:s},l};fe.CSSValueExpression.prototype._parseJSComment=function(r,e){var t=r.charAt(e+1),s;if(t==="/"||t==="*"){var n=e,i,o;if(t==="/"?o=`
`:t==="*"&&(o="*/"),i=r.indexOf(o,n+1+1),i!==-1)return i=i+o.length-1,s=r.substring(e,i+1),{idx:i,text:s};var l="css expression error: unfinished comment in expression!";return{error:l}}else return!1};fe.CSSValueExpression.prototype._parseJSString=function(r,e,t){var s=this._findMatchedIdx(r,e,t),n;return s===-1?!1:(n=r.substring(e,s+t.length),{idx:s,text:n})};fe.CSSValueExpression.prototype._parseJSRexExp=function(r,e){var t=r.substring(0,e).replace(/\s+$/,""),s=[/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/],n=s.some(function(o){return o.test(t)});if(n){var i="/";return this._parseJSString(r,e,i)}else return!1};fe.CSSValueExpression.prototype._findMatchedIdx=function(r,e,t){for(var s=e,n,i=-1;;)if(n=r.indexOf(t,s+1),n===-1){n=i;break}else{var o=r.substring(e+1,n),l=o.match(/\\+$/);if(!l||l[0]%2===0)break;s=n}var u=r.indexOf(`
`,e+1);return u<n&&(n=i),n};po.CSSValueExpression=fe.CSSValueExpression});var ki=R(mo=>{var Xr={};Xr.MatcherList=function(){this.length=0};Xr.MatcherList.prototype={constructor:Xr.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(r){for(var e=r.split(","),t=this.length=e.length,s=0;s<t;s++)this[s]=e[s].trim()},appendMatcher:function(r){Array.prototype.indexOf.call(this,r)===-1&&(this[this.length]=r,this.length++)},deleteMatcher:function(r){var e=Array.prototype.indexOf.call(this,r);e!==-1&&Array.prototype.splice.call(this,e,1)}};mo.MatcherList=Xr.MatcherList});var Hi=R(go=>{var _e={CSSRule:te().CSSRule,MatcherList:ki().MatcherList};_e.CSSDocumentRule=function(){_e.CSSRule.call(this),this.matcher=new _e.MatcherList,this.cssRules=[]};_e.CSSDocumentRule.prototype=new _e.CSSRule;_e.CSSDocumentRule.prototype.constructor=_e.CSSDocumentRule;_e.CSSDocumentRule.prototype.type=10;Object.defineProperty(_e.CSSDocumentRule.prototype,"cssText",{get:function(){for(var r=[],e=0,t=this.cssRules.length;e<t;e++)r.push(this.cssRules[e].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+r.join("")+"}"}});go.CSSDocumentRule=_e.CSSDocumentRule});var Ur=R(fo=>{var A={};A.parse=function(e){for(var t=0,s="before-selector",n,i="",o=0,l={selector:!0,value:!0,"value-parenthesis":!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,conditionBlock:!0,"documentRule-begin":!0},u=new A.CSSStyleSheet,h=u,p,S=[],y=!1,v,I,O="",b,w,L,re,d,W,T,de,Je=/@(-(?:\w+-)+)?keyframes/g,Re=function(js){var Nt=e.substring(0,t).split(`
`),G=Nt.length,ar=Nt.pop().length+1,Ue=new Error(js+" (line "+G+", char "+ar+")");throw Ue.line=G,Ue.char=ar,Ue.styleSheet=u,Ue},V;V=e.charAt(t);t++)switch(V){case" ":case"	":case"\r":case`
`:case"\f":l[s]&&(i+=V);break;case'"':n=t+1;do n=e.indexOf('"',n)+1,n||Re('Unmatched "');while(e[n-2]==="\\");switch(i+=e.slice(t,n),t=n-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"'":n=t+1;do n=e.indexOf("'",n)+1,n||Re("Unmatched '");while(e[n-2]==="\\");switch(i+=e.slice(t,n),t=n-1,s){case"before-value":s="value";break;case"importRule-begin":s="importRule";break}break;case"/":e.charAt(t+1)==="*"?(t+=2,n=e.indexOf("*/",t),n===-1?Re("Missing */"):t=n+1):i+=V,s==="importRule-begin"&&(i+=" ",s="importRule");break;case"@":if(e.indexOf("@-moz-document",t)===t){s="documentRule-begin",T=new A.CSSDocumentRule,T.__starts=t,t+=13,i="";break}else if(e.indexOf("@media",t)===t){s="atBlock",w=new A.CSSMediaRule,w.__starts=t,t+=5,i="";break}else if(e.indexOf("@supports",t)===t){s="conditionBlock",L=new A.CSSSupportsRule,L.__starts=t,t+=8,i="";break}else if(e.indexOf("@host",t)===t){s="hostRule-begin",t+=4,de=new A.CSSHostRule,de.__starts=t,i="";break}else if(e.indexOf("@import",t)===t){s="importRule-begin",t+=6,i+="@import";break}else if(e.indexOf("@font-face",t)===t){s="fontFaceRule-begin",t+=9,d=new A.CSSFontFaceRule,d.__starts=t,i="";break}else{Je.lastIndex=t;var He=Je.exec(e);if(He&&He.index===t){s="keyframesRule-begin",W=new A.CSSKeyframesRule,W.__starts=t,W._vendorPrefix=He[1],t+=He[0].length-1,i="";break}else s==="selector"&&(s="atRule")}i+=V;break;case"{":s==="selector"||s==="atRule"?(b.selectorText=i.trim(),b.style.__starts=t,i="",s="before-name"):s==="atBlock"?(w.media.mediaText=i.trim(),p&&S.push(p),h=p=w,w.parentStyleSheet=u,i="",s="before-selector"):s==="conditionBlock"?(L.conditionText=i.trim(),p&&S.push(p),h=p=L,L.parentStyleSheet=u,i="",s="before-selector"):s==="hostRule-begin"?(p&&S.push(p),h=p=de,de.parentStyleSheet=u,i="",s="before-selector"):s==="fontFaceRule-begin"?(p&&(d.parentRule=p),d.parentStyleSheet=u,b=d,i="",s="before-name"):s==="keyframesRule-begin"?(W.name=i.trim(),p&&(S.push(p),W.parentRule=p),W.parentStyleSheet=u,h=p=W,i="",s="keyframeRule-begin"):s==="keyframeRule-begin"?(b=new A.CSSKeyframeRule,b.keyText=i.trim(),b.__starts=t,i="",s="before-name"):s==="documentRule-begin"&&(T.matcher.matcherText=i.trim(),p&&(S.push(p),T.parentRule=p),h=p=T,T.parentStyleSheet=u,i="",s="before-selector");break;case":":s==="name"?(I=i.trim(),i="",s="before-value"):i+=V;break;case"(":if(s==="value")if(i.trim()==="expression"){var Ge=new A.CSSValueExpression(e,t).parse();Ge.error?Re(Ge.error):(i+=Ge.expression,t=Ge.idx)}else s="value-parenthesis",o=1,i+=V;else s==="value-parenthesis"&&o++,i+=V;break;case")":s==="value-parenthesis"&&(o--,o===0&&(s="value")),i+=V;break;case"!":s==="value"&&e.indexOf("!important",t)===t?(O="important",t+=9):i+=V;break;case";":switch(s){case"value":b.style.setProperty(I,i.trim(),O),O="",i="",s="before-name";break;case"atRule":i="",s="before-selector";break;case"importRule":re=new A.CSSImportRule,re.parentStyleSheet=re.styleSheet.parentStyleSheet=u,re.cssText=i+V,u.cssRules.push(re),i="",s="before-selector";break;default:i+=V;break}break;case"}":switch(s){case"value":b.style.setProperty(I,i.trim(),O),O="";case"before-name":case"name":b.__ends=t+1,p&&(b.parentRule=p),b.parentStyleSheet=u,h.cssRules.push(b),i="",h.constructor===A.CSSKeyframesRule?s="keyframeRule-begin":s="before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":for(p||Re("Unexpected }"),y=S.length>0;S.length>0;){if(p=S.pop(),p.constructor.name==="CSSMediaRule"||p.constructor.name==="CSSSupportsRule"){v=h,h=p,h.cssRules.push(v);break}S.length===0&&(y=!1)}y||(h.__ends=t+1,u.cssRules.push(h),h=u,p=null),i="",s="before-selector";break}break;default:switch(s){case"before-selector":s="selector",b=new A.CSSStyleRule,b.__starts=t;break;case"before-name":s="name";break;case"before-value":s="value";break;case"importRule-begin":s="importRule";break}i+=V;break}return u};fo.parse=A.parse;A.CSSStyleSheet=Wt().CSSStyleSheet;A.CSSStyleRule=$t().CSSStyleRule;A.CSSImportRule=Oi().CSSImportRule;A.CSSGroupingRule=it().CSSGroupingRule;A.CSSMediaRule=Fr().CSSMediaRule;A.CSSConditionRule=Et().CSSConditionRule;A.CSSSupportsRule=qr().CSSSupportsRule;A.CSSFontFaceRule=Li().CSSFontFaceRule;A.CSSHostRule=Ii().CSSHostRule;A.CSSStyleDeclaration=st().CSSStyleDeclaration;A.CSSKeyframeRule=$r().CSSKeyframeRule;A.CSSKeyframesRule=Wr().CSSKeyframesRule;A.CSSValueExpression=Pi().CSSValueExpression;A.CSSDocumentRule=Hi().CSSDocumentRule});var st=R(So=>{var yt={};yt.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}};yt.CSSStyleDeclaration.prototype={constructor:yt.CSSStyleDeclaration,getPropertyValue:function(r){return this[r]||""},setProperty:function(r,e,t){if(this[r]){var s=Array.prototype.indexOf.call(this,r);s<0&&(this[this.length]=r,this.length++)}else this[this.length]=r,this.length++;this[r]=e+"",this._importants[r]=t},removeProperty:function(r){if(!(r in this))return"";var e=Array.prototype.indexOf.call(this,r);if(e<0)return"";var t=this[r];return this[r]="",Array.prototype.splice.call(this,e,1),t},getPropertyCSSValue:function(){},getPropertyPriority:function(r){return this._importants[r]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var r=[],e=0,t=this.length;e<t;++e){var s=this[e],n=this.getPropertyValue(s),i=this.getPropertyPriority(s);i&&(i=" !"+i),r[e]=s+": "+n+i+";"}return r.join(" ")},set cssText(r){var e,t;for(e=this.length;e--;)t=this[e],this[t]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var s=yt.parse("#bogus{"+r+"}").cssRules[0].style,n=s.length;for(e=0;e<n;++e)t=s[e],this.setProperty(s[e],s.getPropertyValue(t),s.getPropertyPriority(t))}};So.CSSStyleDeclaration=yt.CSSStyleDeclaration;yt.parse=Ur().parse});var yo=R(Eo=>{var Kr={CSSStyleSheet:Wt().CSSStyleSheet,CSSRule:te().CSSRule,CSSStyleRule:$t().CSSStyleRule,CSSGroupingRule:it().CSSGroupingRule,CSSConditionRule:Et().CSSConditionRule,CSSMediaRule:Fr().CSSMediaRule,CSSSupportsRule:qr().CSSSupportsRule,CSSStyleDeclaration:st().CSSStyleDeclaration,CSSKeyframeRule:$r().CSSKeyframeRule,CSSKeyframesRule:Wr().CSSKeyframesRule};Kr.clone=function r(e){var t=new Kr.CSSStyleSheet,s=e.cssRules;if(!s)return t;for(var n=0,i=s.length;n<i;n++){var o=s[n],l=t.cssRules[n]=new o.constructor,u=o.style;if(u){for(var h=l.style=new Kr.CSSStyleDeclaration,p=0,S=u.length;p<S;p++){var y=h[p]=u[p];h[y]=u[y],h._importants[y]=u.getPropertyPriority(y)}h.length=u.length}o.hasOwnProperty("keyText")&&(l.keyText=o.keyText),o.hasOwnProperty("selectorText")&&(l.selectorText=o.selectorText),o.hasOwnProperty("mediaText")&&(l.mediaText=o.mediaText),o.hasOwnProperty("conditionText")&&(l.conditionText=o.conditionText),o.hasOwnProperty("cssRules")&&(l.cssRules=r(o).cssRules)}return t};Eo.clone=Kr.clone});var To=R(P=>{"use strict";P.CSSStyleDeclaration=st().CSSStyleDeclaration;P.CSSRule=te().CSSRule;P.CSSGroupingRule=it().CSSGroupingRule;P.CSSConditionRule=Et().CSSConditionRule;P.CSSStyleRule=$t().CSSStyleRule;P.MediaList=Vr().MediaList;P.CSSMediaRule=Fr().CSSMediaRule;P.CSSSupportsRule=qr().CSSSupportsRule;P.CSSImportRule=Oi().CSSImportRule;P.CSSFontFaceRule=Li().CSSFontFaceRule;P.CSSHostRule=Ii().CSSHostRule;P.StyleSheet=Mi().StyleSheet;P.CSSStyleSheet=Wt().CSSStyleSheet;P.CSSKeyframesRule=Wr().CSSKeyframesRule;P.CSSKeyframeRule=$r().CSSKeyframeRule;P.MatcherList=ki().MatcherList;P.CSSDocumentRule=Hi().CSSDocumentRule;P.CSSValue=Di().CSSValue;P.CSSValueExpression=Pi().CSSValueExpression;P.parse=Ur().parse;P.clone=yo().clone});var _o=R((Fp,xo)=>{var Gi=class{constructor(e,t){this.width=e,this.height=t}getContext(){return null}toDataURL(){return""}};xo.exports={createCanvas:(r,e)=>new Gi(r,e)}});var Ro=R((qp,Ui)=>{try{Ui.exports=Ji("canvas")}catch{Ui.exports=_o()}});var Ko=Rt(mn());var lt=Symbol("changed"),Ve=Symbol("classList"),K=Symbol("CustomElements"),At=Symbol("content"),pr=Symbol("dataset"),Fe=Symbol("doctype"),wt=Symbol("DOMParser"),f=Symbol("end"),ct=Symbol("EventTarget"),ut=Symbol("globals"),se=Symbol("image"),ce=Symbol("mime"),Se=Symbol("MutationObserver"),g=Symbol("next"),ei=Symbol("ownerElement"),_=Symbol("prev"),H=Symbol("private"),ze=Symbol("sheet"),q=Symbol("start"),mr=Symbol("style"),qe=Symbol("upgrade"),N=Symbol("value");var gn=new Set(["ARTICLE","ASIDE","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","COL","COLGROUP","DD","DIV","DL","DT","EMBED","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","LI","UL","OL","P"]),ti=-1,ri=1,si=4,ii=128,fn=1,ni=2,oi=4,dn=8,Sn=16,En=32,Qe="http://www.w3.org/2000/svg";var{assign:yn,create:Tn,defineProperties:Cn,entries:bn,getOwnPropertyDescriptors:Qa,keys:vn,setPrototypeOf:U}=Object;var Ze=String;var $=r=>r.nodeType===1?r[f]:r,$e=({ownerDocument:r})=>r[ce].ignoreCase,Y=(r,e)=>{r[g]=e,e[_]=r},Mt=(r,e,t)=>{Y(r,e),Y($(e),t)},Nn=(r,e,t,s)=>{Y(r,e),Y($(t),s)},we=(r,e,t)=>{Y(r,e),Y(e,t)},Ot=({localName:r,ownerDocument:e})=>e[ce].ignoreCase?r.toUpperCase():r,gr=(r,e)=>{r&&(r[g]=e),e&&(e[_]=r)};var Ee=new WeakMap;var dr=!1,Lt=new WeakMap,Me=new WeakMap,et=(r,e,t,s)=>{dr&&Me.has(r)&&r.attributeChangedCallback&&r.constructor.observedAttributes.includes(e)&&r.attributeChangedCallback(e,t,s)},Rn=(r,e)=>t=>{if(Me.has(t)){let s=Me.get(t);s.connected!==e&&t.isConnected===e&&(s.connected=e,r in t&&t[r]())}},xn=Rn("connectedCallback",!0),It=r=>{if(dr){xn(r),Ee.has(r)&&(r=Ee.get(r).shadowRoot);let{[g]:e,[f]:t}=r;for(;e!==t;)e.nodeType===1&&xn(e),e=e[g]}},_n=Rn("disconnectedCallback",!1),An=r=>{if(dr){_n(r),Ee.has(r)&&(r=Ee.get(r).shadowRoot);let{[g]:e,[f]:t}=r;for(;e!==t;)e.nodeType===1&&_n(e),e=e[g]}},fr=class{constructor(e){this.ownerDocument=e,this.registry=new Map,this.waiting=new Map,this.active=!1}define(e,t,s={}){let{ownerDocument:n,registry:i,waiting:o}=this;if(i.has(e))throw new Error("unable to redefine "+e);if(Lt.has(t))throw new Error("unable to redefine the same class: "+t);this.active=dr=!0;let{extends:l}=s;Lt.set(t,{ownerDocument:n,options:{is:l?e:""},localName:l||e});let u=l?h=>h.localName===l&&h.getAttribute("is")===e:h=>h.localName===e;if(i.set(e,{Class:t,check:u}),o.has(e)){for(let h of o.get(e))h(t);o.delete(e)}n.querySelectorAll(l?`${l}[is="${e}"]`:e).forEach(this.upgrade,this)}upgrade(e){if(Me.has(e))return;let{ownerDocument:t,registry:s}=this,n=e.getAttribute("is")||e.localName;if(s.has(n)){let{Class:i,check:o}=s.get(n);if(o(e)){let{attributes:l,isConnected:u}=e;for(let p of l)e.removeAttributeNode(p);let h=bn(e);for(let[p]of h)delete e[p];U(e,i.prototype),t[qe]={element:e,values:h},new i(t,n),Me.set(e,{connected:u});for(let p of l)e.setAttributeNode(p);u&&e.connectedCallback&&e.connectedCallback()}}}whenDefined(e){let{registry:t,waiting:s}=this;return new Promise(n=>{t.has(e)?n(t.get(e).Class):(s.has(e)||s.set(e,[]),s.get(e).push(n))})}get(e){let t=this.registry.get(e);return t&&t.Class}};var{Parser:pa}=tn,wn=!0,ht=(r,e,t)=>{let s=r[f];return e.parentNode=r,Mt(s[_],e,s),t&&e.nodeType===1&&It(e),e},ma=(r,e,t,s,n)=>{t[N]=s,t.ownerElement=r,we(e[_],t,e),t.name==="class"&&(r.className=s),n&&et(r,t.name,null,s)};var Sr=(r,e,t)=>{let{active:s,registry:n}=r[K],i=r,o=null;wn=!1;let l=new pa({onprocessinginstruction(u,h){u.toLowerCase()==="!doctype"&&(r.doctype=h.slice(u.length).trim())},onopentag(u,h){let p=!0;if(e){if(o)i=ht(i,r.createElementNS(Qe,u),s),i.ownerSVGElement=o,p=!1;else if(u==="svg"||u==="SVG")o=r.createElementNS(Qe,u),i=ht(i,o,s),p=!1;else if(s){let y=u.includes("-")?u:h.is||"";if(y&&n.has(y)){let{Class:v}=n.get(y);i=ht(i,new v,s),delete h.is,p=!1}}}p&&(i=ht(i,r.createElement(u),!1));let S=i[f];for(let y of vn(h))ma(i,S,r.createAttribute(y),h[y],s)},oncomment(u){ht(i,r.createComment(u),s)},ontext(u){ht(i,r.createTextNode(u),s)},onclosetag(){e&&i===o&&(o=null),i=i.parentNode}},{lowerCaseAttributeNames:!1,decodeEntities:!0,xmlMode:!e});return l.write(t),l.end(),wn=!0,r};var pt=new Map,x=(r,e)=>{for(let t of[].concat(r))pt.set(t,e),pt.set(t.toUpperCase(),e)};var Wo=Rt(Mn(),1);var On=({[g]:r,[f]:e},t)=>{for(;r!==e;){switch(r.nodeType){case 2:li(r,t);break;case 3:case 8:ci(r,t);break;case 1:hi(r,t),r=$(r);break;case 10:ui(r,t);break}r=r[g]}let s=t.length-1,n=t[s];typeof n=="number"&&n<0?t[s]+=-1:t.push(-1)},li=(r,e)=>{e.push(2,r.name);let t=r[N].trim();t&&e.push(t)},ci=(r,e)=>{let t=r[N];t.trim()&&e.push(r.nodeType,t)},Ln=(r,e)=>{e.push(r.nodeType),On(r,e)},ui=({name:r,publicId:e,systemId:t},s)=>{s.push(10,r),e&&s.push(e),t&&s.push(t)},hi=(r,e)=>{e.push(1,r.localName),On(r,e)};var Dn=(r,e,t,s,n,i)=>({type:r,target:e,addedNodes:t,removedNodes:s,attributeName:n,oldValue:i}),In=(r,e,t,s,n,i)=>{if(!s||s.includes(t)){let{callback:o,records:l,scheduled:u}=r;l.push(Dn("attributes",e,[],[],t,n?i:void 0)),u||(r.scheduled=!0,Promise.resolve().then(()=>{r.scheduled=!1,o(l.splice(0),r)}))}},Dt=(r,e,t)=>{let{ownerDocument:s}=r,{active:n,observers:i}=s[Se];if(n){for(let o of i)for(let[l,{childList:u,subtree:h,attributes:p,attributeFilter:S,attributeOldValue:y}]of o.nodes)if(u){if(h&&(l===s||l.contains(r))||!h&&l.children.includes(r)){In(o,r,e,S,y,t);break}}else if(p&&l===r){In(o,r,e,S,y,t);break}}},We=(r,e)=>{let{ownerDocument:t}=r,{active:s,observers:n}=t[Se];if(s){for(let i of n)for(let[o,{subtree:l,childList:u,characterData:h}]of i.nodes)if(u&&(e&&(o===e||l&&o.contains(e))||!e&&(l&&(o===t||o.contains(r))||!l&&o[h?"childNodes":"children"].includes(r)))){let{callback:p,records:S,scheduled:y}=i;S.push(Dn("childList",o,e?[]:[r],e?[r]:[])),y||(i.scheduled=!0,Promise.resolve().then(()=>{i.scheduled=!1,p(S.splice(0),i)}));break}}},Er=class{constructor(e){let t=new Set;this.observers=t,this.active=!1,this.class=class{constructor(n){this.callback=n,this.nodes=new Map,this.records=[],this.scheduled=!1}disconnect(){this.records.splice(0),this.nodes.clear(),t.delete(this),e[Se].active=!!t.size}observe(n,i={subtree:!1,childList:!1,attributes:!1,attributeFilter:null,attributeOldValue:!1,characterData:!1}){("attributeOldValue"in i||"attributeFilter"in i)&&(i.attributes=!0),i.childList=!!i.childList,i.subtree=!!i.subtree,this.nodes.set(n,i),t.add(this),e[Se].active=!0}takeRecords(){return this.records.splice(0)}}}};var Pn=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","class","contenteditable","controls","default","defer","disabled","draggable","formnovalidate","hidden","id","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","style","truespeed"]),Pt=(r,e)=>{let{[N]:t,name:s}=e;e.ownerElement=r,we(r,e,r[g]),s==="class"&&(r.className=t),Dt(r,s,null),et(r,s,null,t)},pi=(r,e)=>{let{[N]:t,name:s}=e;Y(e[_],e[g]),e.ownerElement=e[_]=e[g]=null,s==="class"&&(r[Ve]=null),Dt(r,s,t),et(r,s,t,null)},C={get(r,e){return r.hasAttribute(e)},set(r,e,t){t?r.setAttribute(e,""):r.removeAttribute(e)}},ue={get(r,e){return parseFloat(r.getAttribute(e)||0)},set(r,e,t){r.setAttribute(e,t)}},m={get(r,e){return r.getAttribute(e)||""},set(r,e,t){r.setAttribute(e,t)}};var yr=new WeakMap;function ga(r,e){return typeof e=="function"?e.call(r.target,r):e.handleEvent(r),r._stopImmediatePropagationFlag}function fa({currentTarget:r,target:e}){let t=yr.get(r);if(t&&t.has(this.type)){let s=t.get(this.type);r===e?this.eventPhase=this.AT_TARGET:this.eventPhase=this.BUBBLING_PHASE,this.currentTarget=r,this.target=e;for(let[n,i]of s)if(i&&i.once&&s.delete(n),ga(this,n))break;return delete this.currentTarget,delete this.target,this.cancelBubble}}var je=class{constructor(){yr.set(this,new Map)}_getParent(){return null}addEventListener(e,t,s){let n=yr.get(this);n.has(e)||n.set(e,new Map),n.get(e).set(t,s)}removeEventListener(e,t){let s=yr.get(this);if(s.has(e)){let n=s.get(e);n.delete(t)&&!n.size&&s.delete(e)}}dispatchEvent(e){let t=this;for(e.eventPhase=e.CAPTURING_PHASE;t;)t.dispatchEvent&&e._path.push({currentTarget:t,target:this}),t=e.bubbles&&t._getParent&&t._getParent();return e._path.some(fa,e),e._path=[],e.eventPhase=e.NONE,!e.defaultPrevented}};var B=class extends Array{item(e){return e<this.length?this[e]:null}};var kn=({parentNode:r})=>{let e=0;for(;r;)e++,r=r.parentNode;return e},z=class extends je{static get ELEMENT_NODE(){return 1}static get ATTRIBUTE_NODE(){return 2}static get TEXT_NODE(){return 3}static get COMMENT_NODE(){return 8}static get DOCUMENT_NODE(){return 9}static get DOCUMENT_FRAGMENT_NODE(){return 11}static get DOCUMENT_TYPE_NODE(){return 10}constructor(e,t,s){super(),this.ownerDocument=e,this.localName=t,this.nodeType=s,this.parentNode=null,this[g]=null,this[_]=null}get ELEMENT_NODE(){return 1}get ATTRIBUTE_NODE(){return 2}get TEXT_NODE(){return 3}get COMMENT_NODE(){return 8}get DOCUMENT_NODE(){return 9}get DOCUMENT_FRAGMENT_NODE(){return 11}get DOCUMENT_TYPE_NODE(){return 10}get baseURI(){let e=this.nodeType===9?this:this.ownerDocument;if(e){let t=e.querySelector("base");if(t)return t.getAttribute("href");let{location:s}=e.defaultView;if(s)return s.href}return null}get isConnected(){return!1}get nodeName(){return this.localName}get parentElement(){return null}get previousSibling(){return null}get previousElementSibling(){return null}get nextSibling(){return null}get nextElementSibling(){return null}get childNodes(){return new B}get firstChild(){return null}get lastChild(){return null}get nodeValue(){return null}set nodeValue(e){}get textContent(){return null}set textContent(e){}normalize(){}cloneNode(){return null}contains(){return!1}insertBefore(e,t){return e}appendChild(e){return e}replaceChild(e,t){return t}removeChild(e){return e}toString(){return""}hasChildNodes(){return!!this.lastChild}isSameNode(e){return this===e}compareDocumentPosition(e){let t=0;if(this!==e){let s=kn(this),n=kn(e);if(s<n)t+=oi,this.contains(e)&&(t+=Sn);else if(n<s)t+=ni,e.contains(this)&&(t+=dn);else if(s&&n){let{childNodes:i}=this.parentNode;i.indexOf(this)<i.indexOf(e)?t+=oi:t+=ni}(!s||!n)&&(t+=En,t+=fn)}return t}isEqualNode(e){if(this===e)return!0;if(this.nodeType===e.nodeType){switch(this.nodeType){case 9:case 11:{let t=this.childNodes,s=e.childNodes;return t.length===s.length&&t.every((n,i)=>n.isEqualNode(s[i]))}}return this.toString()===e.toString()}return!1}_getParent(){return this.parentNode}getRootNode(){let e=this;for(;e.parentNode;)e=e.parentNode;return e.nodeType===9?e.documentElement:e}};var da=/"/g,Q=class extends z{constructor(e,t,s=""){super(e,"#attribute",2),this.ownerElement=null,this.name=Ze(t),this[N]=Ze(s),this[lt]=!1}get value(){return this[N]}set value(e){let{[N]:t,name:s,ownerElement:n}=this;this[N]=Ze(e),this[lt]=!0,n&&(Dt(n,s,t),et(n,s,t,this[N]))}cloneNode(){let{ownerDocument:e,name:t,[N]:s}=this;return new Q(e,t,s)}toString(){let{name:e,[N]:t}=this;return Pn.has(e)&&!t?e:`${e}="${t.replace(da,"&quot;")}"`}toJSON(){let e=[];return li(this,e),e}};var Tr=({ownerDocument:r,parentNode:e})=>{for(;e;){if(e===r)return!0;e=e.parentNode||e.host}return!1},Cr=({parentNode:r})=>{if(r)switch(r.nodeType){case 9:case 11:return null}return r},Oe=({[_]:r})=>{switch(r?r.nodeType:0){case-1:return r[q];case 3:case 8:return r}return null},he=r=>{let e=$(r)[g];return e&&(e.nodeType===-1?null:e)};var mt=r=>{let e=he(r);for(;e&&e.nodeType!==1;)e=he(e);return e},br=r=>{let e=Oe(r);for(;e&&e.nodeType!==1;)e=Oe(e);return e};var mi=(r,e)=>{let t=r.createDocumentFragment();return t.append(...e),t},vr=(r,e)=>{let{ownerDocument:t,parentNode:s}=r;s&&s.insertBefore(mi(t,e),r)},Nr=(r,e)=>{let{ownerDocument:t,parentNode:s}=r;s&&s.insertBefore(mi(t,e),$(r)[g])},xr=(r,e)=>{let{ownerDocument:t,parentNode:s}=r;s&&(s.insertBefore(mi(t,e),r),r.remove())},_r=(r,e,t)=>{let{parentNode:s,nodeType:n}=e;(r||t)&&(gr(r,t),e[_]=null,$(e)[g]=null),s&&(e.parentNode=null,We(e,s),n===1&&An(e))};var Le=class extends z{constructor(e,t,s,n){super(e,t,s),this[N]=Ze(n)}get isConnected(){return Tr(this)}get parentElement(){return Cr(this)}get previousSibling(){return Oe(this)}get nextSibling(){return he(this)}get previousElementSibling(){return br(this)}get nextElementSibling(){return mt(this)}before(...e){vr(this,e)}after(...e){Nr(this,e)}replaceWith(...e){xr(this,e)}remove(){_r(this[_],this,this[g])}get data(){return this[N]}set data(e){this[N]=Ze(e),We(this,this.parentNode)}get nodeValue(){return this.data}set nodeValue(e){this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}get length(){return this.data.length}substringData(e,t){return this.data.substr(e,t)}appendData(e){this.data+=e}insertData(e,t){let{data:s}=this;this.data=s.slice(0,e)+t+s.slice(e)}deleteData(e,t){let{data:s}=this;this.data=s.slice(0,e)+s.slice(e+t)}replaceData(e,t,s){let{data:n}=this;this.data=n.slice(0,e)+s+n.slice(e+t)}toJSON(){let e=[];return ci(this,e),e}};var Te=class extends Le{constructor(e,t=""){super(e,"#comment",8,t)}cloneNode(){let{ownerDocument:e,[N]:t}=this;return new Te(e,t)}toString(){return`<!--${this[N]}-->`}};var{isArray:Sa}=Array,Rr=({nodeType:r})=>r===1,Hn=(r,e)=>e.some(t=>Rr(t)&&(r(t)||Hn(r,gt(t)))),Ea=(r,e)=>e==="class"?r.classList.value:r.getAttribute(e),gt=({childNodes:r})=>r,ya=r=>{let{localName:e}=r;return $e(r)?e.toLowerCase():e},Ta=({parentNode:r})=>r,Ca=r=>{let{parentNode:e}=r;return e?gt(e):r},gi=r=>Sa(r)?r.map(gi).join(""):Rr(r)?gi(gt(r)):r.nodeType===3?r.data:"",ba=(r,e)=>r.hasAttribute(e),va=r=>{let{length:e}=r;for(;e--;){let t=r[e];if(e&&-1<r.lastIndexOf(t,e-1)){r.splice(e,1);continue}for(let{parentNode:s}=t;s;s=s.parentNode)if(r.includes(s)){r.splice(e,1);break}}return r},Gn=(r,e)=>{let t=[];for(let s of e)Rr(s)&&(r(s)&&t.push(s),t.push(...Gn(r,gt(s))));return t},Un=(r,e)=>{for(let t of e)if(r(t)||(t=Un(r,gt(t))))return t;return null},Bn={isTag:Rr,existsOne:Hn,getAttributeValue:Ea,getChildren:gt,getName:ya,getParent:Ta,getSiblings:Ca,getText:gi,hasAttrib:ba,removeSubsets:va,findAll:Gn,findOne:Un},kt=(r,e)=>rn(e,{context:e.includes(":scope")?r:void 0,xmlMode:!$e(r),adapter:Bn}),Vn=(r,e)=>sn(r,e,{strict:!0,context:e.includes(":scope")?r:void 0,xmlMode:!$e(r),adapter:Bn});var{replace:Na}="",xa=/[<>&\xA0]/g,_a={"\xA0":"&nbsp;","&":"&amp;","<":"&lt;",">":"&gt;"},Ra=r=>_a[r],Fn=r=>Na.call(r,xa,Ra);var Z=class extends Le{constructor(e,t=""){super(e,"#text",3,t)}get wholeText(){let e=[],{previousSibling:t,nextSibling:s}=this;for(;t&&t.nodeType===3;){e.unshift(t[N]);t=t.previousSibling}for(e.push(this[N]);s&&s.nodeType===3;){e.push(s[N]);s=s.nextSibling}return e.join("")}cloneNode(){let{ownerDocument:e,[N]:t}=this;return new Z(e,t)}toString(){return Fn(this[N])}};var Aa=r=>r instanceof z,fi=(r,e,t)=>{let{ownerDocument:s}=r;for(let n of t)r.insertBefore(Aa(n)?n:new Z(s,n),e)},ft=class extends z{constructor(e,t,s){super(e,t,s),this[H]=null,this[g]=this[f]={[g]:null,[_]:this,[q]:this,nodeType:-1,ownerDocument:this.ownerDocument,parentNode:null}}get childNodes(){let e=new B,{firstChild:t}=this;for(;t;)e.push(t),t=he(t);return e}get children(){let e=new B,{firstElementChild:t}=this;for(;t;)e.push(t),t=mt(t);return e}get firstChild(){let{[g]:e,[f]:t}=this;for(;e.nodeType===2;)e=e[g];return e===t?null:e}get firstElementChild(){let{firstChild:e}=this;for(;e;){if(e.nodeType===1)return e;e=he(e)}return null}get lastChild(){let e=this[f][_];switch(e.nodeType){case-1:return e[q];case 2:return null}return e===this?null:e}get lastElementChild(){let{lastChild:e}=this;for(;e;){if(e.nodeType===1)return e;e=Oe(e)}return null}get childElementCount(){return this.children.length}prepend(...e){fi(this,this.firstChild,e)}append(...e){fi(this,this[f],e)}replaceChildren(...e){let{[g]:t,[f]:s}=this;for(;t!==s&&t.nodeType===2;)t=t[g];for(;t!==s;){let n=$(t)[g];t.remove(),t=n}e.length&&fi(this,s,e)}getElementsByClassName(e){let t=new B,{[g]:s,[f]:n}=this;for(;s!==n;)s.nodeType===1&&s.hasAttribute("class")&&s.classList.has(e)&&t.push(s),s=s[g];return t}getElementsByTagName(e){let t=new B,{[g]:s,[f]:n}=this;for(;s!==n;)s.nodeType===1&&(s.localName===e||Ot(s)===e)&&t.push(s),s=s[g];return t}querySelector(e){let t=kt(this,e),{[g]:s,[f]:n}=this;for(;s!==n;){if(s.nodeType===1&&t(s))return s;s=s.localName==="template"?s[f]:s[g]}return null}querySelectorAll(e){let t=kt(this,e),s=new B,{[g]:n,[f]:i}=this;for(;n!==i;)n.nodeType===1&&t(n)&&s.push(n),n=n.localName==="template"?n[f]:n[g];return s}appendChild(e){return this.insertBefore(e,this[f])}contains(e){let t=e;for(;t&&t!==this;)t=t.parentNode;return t===this}insertBefore(e,t=null){if(e===t)return e;if(e===this)throw new Error("unable to append a node to itself");let s=t||this[f];switch(e.nodeType){case 1:e.remove(),e.parentNode=this,Mt(s[_],e,s),We(e,null),It(e);break;case 11:{let{[H]:n,firstChild:i,lastChild:o}=e;if(i){Nn(s[_],i,o,s),Y(e,e[f]),n&&n.replaceChildren();do i.parentNode=this,We(i,null),i.nodeType===1&&It(i);while(i!==o&&(i=he(i)))}break}case 3:case 8:e.remove();default:e.parentNode=this,we(s[_],e,s),We(e,null);break}return e}normalize(){let{[g]:e,[f]:t}=this;for(;e!==t;){let{[g]:s,[_]:n,nodeType:i}=e;i===3&&(e[N]?n&&n.nodeType===3&&(n.textContent+=e.textContent,e.remove()):e.remove()),e=s}}removeChild(e){if(e.parentNode!==this)throw new Error("node is not a child");return e.remove(),e}replaceChild(e,t){let s=$(t)[g];return t.remove(),this.insertBefore(e,s),t}};var Xe=class extends ft{getElementById(e){let{[g]:t,[f]:s}=this;for(;t!==s;){if(t.nodeType===1&&t.id===e)return t;t=t[g]}return null}cloneNode(e){let{ownerDocument:t,constructor:s}=this,n=new s(t);if(e){let{[f]:i}=n;for(let o of this.childNodes)n.insertBefore(o.cloneNode(e),i)}return n}toString(){let{childNodes:e,localName:t}=this;return`<${t}>${e.join("")}</${t}>`}toJSON(){let e=[];return Ln(this,e),e}};var tt=class extends Xe{constructor(e){super(e,"#document-fragment",11)}};var pe=class extends z{constructor(e,t,s="",n=""){super(e,"#document-type",10),this.name=t,this.publicId=s,this.systemId=n}cloneNode(){let{ownerDocument:e,name:t,publicId:s,systemId:n}=this;return new pe(e,t,s,n)}toString(){let{name:e,publicId:t,systemId:s}=this,n=0<t.length,i=[e];return n&&i.push("PUBLIC",`"${t}"`),s.length&&(n||i.push("SYSTEM"),i.push(`"${s}"`)),`<!DOCTYPE ${i.join(" ")}>`}toJSON(){let e=[];return ui(this,e),e}};var Ar=r=>r.childNodes.join(""),wr=(r,e)=>{let{ownerDocument:t}=r,{constructor:s}=t,n=new s;n[K]=t[K];let{childNodes:i}=Sr(n,$e(r),e);r.replaceChildren(...i.map(qn,t))};function qn(r){switch(r.ownerDocument=this,r.nodeType){case 1:case 11:r.childNodes.forEach(qn,this);break}return r}var dt=r=>r.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z0-9]+)([A-Z]))/g,"$2$5-$3$6").toLowerCase();var Mr=new WeakMap,di=r=>`data-${dt(r)}`,wa=r=>r.slice(5).replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),Ma={get(r,e){if(e in r)return Mr.get(r).getAttribute(di(e))},set(r,e,t){return r[e]=t,Mr.get(r).setAttribute(di(e),t),!0},deleteProperty(r,e){return e in r&&Mr.get(r).removeAttribute(di(e)),delete r[e]}},Ht=class{constructor(e){for(let{name:t,value:s}of e.attributes)/^data-/.test(t)&&(this[wa(t)]=s);return Mr.set(this,e),new Proxy(this,Ma)}};U(Ht.prototype,null);var{add:Oa}=Set.prototype,$n=(r,e)=>{for(let t of e)t&&Oa.call(r,t)},Gt=({[ei]:r,value:e})=>{let t=r.getAttributeNode("class");t?t.value=e:Pt(r,new Q(r.ownerDocument,"class",e))},Or=class extends Set{constructor(e){super(),this[ei]=e;let t=e.getAttributeNode("class");t&&$n(this,t.value.split(/\s+/))}get length(){return this.size}get value(){return[...this].join(" ")}add(...e){$n(this,e),Gt(this)}contains(e){return this.has(e)}remove(...e){for(let t of e)this.delete(t);Gt(this)}toggle(e,t){if(this.has(e)){if(t)return!0;this.delete(e),Gt(this)}else if(t||arguments.length===1)return super.add(e),Gt(this),!0;return!1}replace(e,t){return this.has(e)?(this.delete(e),super.add(t),Gt(this),!0):!1}supports(){return!0}};var Ir=new WeakMap,Si=r=>[...r.keys()].filter(e=>e!==H),Ei=r=>{let e=Ir.get(r).getAttributeNode("style");if((!e||e[lt]||r.get(H)!==e)&&(r.clear(),e)){r.set(H,e);for(let t of e[N].split(/\s*;\s*/)){let[s,...n]=t.split(":");if(n.length>0){s=s.trim();let i=n.join(":").trim();s&&i&&r.set(s,i)}}}return e},Lr={get(r,e){return e in La?r[e]:(Ei(r),e==="length"?Si(r).length:/^\d+$/.test(e)?Si(r)[e]:r.get(dt(e)))},set(r,e,t){if(e==="cssText")r[e]=t;else{let s=Ei(r);if(t==null?r.delete(dt(e)):r.set(dt(e),t),!s){let n=Ir.get(r);s=n.ownerDocument.createAttribute("style"),n.setAttributeNode(s),r.set(H,s)}s[lt]=!1,s[N]=r.toString()}return!0}},Ut=class extends Map{constructor(e){return super(),Ir.set(this,e),new Proxy(this,Lr)}get cssText(){return this.toString()}set cssText(e){Ir.get(this).setAttribute("style",e)}getPropertyValue(e){let t=this[H];return Lr.get(t,e)}setProperty(e,t){let s=this[H];Lr.set(s,e,t)}removeProperty(e){let t=this[H];Lr.set(t,e,null)}[Symbol.iterator](){let e=Si(this[H]),{length:t}=e,s=0;return{next(){let n=s===t;return{done:n,value:n?null:e[s++]}}}}get[H](){return this}toString(){let e=this[H];Ei(e);let t=[];return e.forEach(Ia,t),t.join(";")}},{prototype:La}=Ut;function Ia(r,e){e!==H&&this.push(`${e}:${r}`)}var J=class{static get BUBBLING_PHASE(){return 3}static get AT_TARGET(){return 2}static get CAPTURING_PHASE(){return 1}static get NONE(){return 0}constructor(e,t={}){this.type=e,this.bubbles=!!t.bubbles,this.cancelBubble=!1,this._stopImmediatePropagationFlag=!1,this.cancelable=!!t.cancelable,this.eventPhase=this.NONE,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.originalTarget=null,this.returnValue=null,this.srcElement=null,this.target=null,this._path=[]}get BUBBLING_PHASE(){return 3}get AT_TARGET(){return 2}get CAPTURING_PHASE(){return 1}get NONE(){return 0}preventDefault(){this.defaultPrevented=!0}composedPath(){return this._path}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.stopPropagation(),this._stopImmediatePropagationFlag=!0}};var St=class extends Array{constructor(e){super(),this.ownerElement=e}getNamedItem(e){return this.ownerElement.getAttributeNode(e)}setNamedItem(e){this.ownerElement.setAttributeNode(e),this.unshift(e)}removeNamedItem(e){let t=this.getNamedItem(e);this.ownerElement.removeAttribute(e),this.splice(this.indexOf(t),1)}item(e){return e<this.length?this[e]:null}getNamedItemNS(e,t){return this.getNamedItem(t)}setNamedItemNS(e,t){return this.setNamedItem(t)}removeNamedItemNS(e,t){return this.removeNamedItem(t)}};var rt=class extends Xe{constructor(e){super(e.ownerDocument,"#shadow-root",11),this.host=e}get innerHTML(){return Ar(this)}set innerHTML(e){wr(this,e)}};var Da={get(r,e){return e in r?r[e]:r.find(({name:t})=>t===e)}},Wn=(r,e,t)=>{if("ownerSVGElement"in e){let s=r.createElementNS(Qe,t);return s.ownerSVGElement=e.ownerSVGElement,s}return r.createElement(t)},Pa=({localName:r,ownerDocument:e})=>e[ce].voidElements.test(r),me=class extends ft{constructor(e,t){super(e,t,1),this[Ve]=null,this[pr]=null,this[mr]=null}get isConnected(){return Tr(this)}get parentElement(){return Cr(this)}get previousSibling(){return Oe(this)}get nextSibling(){return he(this)}get namespaceURI(){return"http://www.w3.org/1999/xhtml"}get previousElementSibling(){return br(this)}get nextElementSibling(){return mt(this)}before(...e){vr(this,e)}after(...e){Nr(this,e)}replaceWith(...e){xr(this,e)}remove(){_r(this[_],this,this[f][g])}get id(){return m.get(this,"id")}set id(e){m.set(this,"id",e)}get className(){return this.classList.value}set className(e){let{classList:t}=this;t.clear(),t.add(...e.split(/\s+/))}get nodeName(){return Ot(this)}get tagName(){return Ot(this)}get classList(){return this[Ve]||(this[Ve]=new Or(this))}get dataset(){return this[pr]||(this[pr]=new Ht(this))}get nonce(){return m.get(this,"nonce")}set nonce(e){m.set(this,"nonce",e)}get style(){return this[mr]||(this[mr]=new Ut(this))}get tabIndex(){return ue.get(this,"tabindex")||-1}set tabIndex(e){ue.set(this,"tabindex",e)}get innerText(){let e=[],{[g]:t,[f]:s}=this;for(;t!==s;)t.nodeType===3?e.push(t.textContent.replace(/\s+/g," ")):e.length&&t[g]!=s&&gn.has(t.tagName)&&e.push(`
`),t=t[g];return e.join("")}get textContent(){let e=[],{[g]:t,[f]:s}=this;for(;t!==s;)t.nodeType===3&&e.push(t.textContent),t=t[g];return e.join("")}set textContent(e){this.replaceChildren(),e&&this.appendChild(new Z(this.ownerDocument,e))}get innerHTML(){return Ar(this)}set innerHTML(e){wr(this,e)}get outerHTML(){return this.toString()}set outerHTML(e){let t=this.ownerDocument.createElement("");t.innerHTML=e,this.replaceWith(...t.childNodes)}get attributes(){let e=new St(this),t=this[g];for(;t.nodeType===2;)e.push(t),t=t[g];return new Proxy(e,Da)}focus(){this.dispatchEvent(new J("focus"))}getAttribute(e){if(e==="class")return this.className;let t=this.getAttributeNode(e);return t&&t.value}getAttributeNode(e){let t=this[g];for(;t.nodeType===2;){if(t.name===e)return t;t=t[g]}return null}getAttributeNames(){let e=new B,t=this[g];for(;t.nodeType===2;)e.push(t.name),t=t[g];return e}hasAttribute(e){return!!this.getAttributeNode(e)}hasAttributes(){return this[g].nodeType===2}removeAttribute(e){e==="class"&&this[Ve]&&this[Ve].clear();let t=this[g];for(;t.nodeType===2;){if(t.name===e){pi(this,t);return}t=t[g]}}removeAttributeNode(e){let t=this[g];for(;t.nodeType===2;){if(t===e){pi(this,t);return}t=t[g]}}setAttribute(e,t){if(e==="class")this.className=t;else{let s=this.getAttributeNode(e);s?s.value=t:Pt(this,new Q(this.ownerDocument,e,t))}}setAttributeNode(e){let{name:t}=e,s=this.getAttributeNode(t);if(s!==e){s&&this.removeAttributeNode(s);let{ownerElement:n}=e;n&&n.removeAttributeNode(e),Pt(this,e)}return s}toggleAttribute(e,t){return this.hasAttribute(e)?t?!0:(this.removeAttribute(e),!1):t||arguments.length===1?(this.setAttribute(e,""),!0):!1}get shadowRoot(){if(Ee.has(this)){let{mode:e,shadowRoot:t}=Ee.get(this);if(e==="open")return t}return null}attachShadow(e){if(Ee.has(this))throw new Error("operation not supported");let t=new rt(this);return t.append(...this.childNodes),Ee.set(this,{mode:e.mode,shadowRoot:t}),t}matches(e){return Vn(this,e)}closest(e){let t=this,s=kt(t,e);for(;t&&!s(t);)t=t.parentElement;return t}insertAdjacentElement(e,t){let{parentElement:s}=this;switch(e){case"beforebegin":if(s){s.insertBefore(t,this);break}return null;case"afterbegin":this.insertBefore(t,this.firstChild);break;case"beforeend":this.insertBefore(t,null);break;case"afterend":if(s){s.insertBefore(t,this.nextSibling);break}return null}return t}insertAdjacentHTML(e,t){let s=this.ownerDocument.createElement("template");s.innerHTML=t,this.insertAdjacentElement(e,s.content)}insertAdjacentText(e,t){let s=this.ownerDocument.createTextNode(t);this.insertAdjacentElement(e,s)}cloneNode(e=!1){let{ownerDocument:t,localName:s}=this,n=p=>{p.parentNode=o,Y(l,p),l=p},i=Wn(t,this,s),o=i,l=i,{[g]:u,[f]:h}=this;for(;u!==h&&(e||u.nodeType===2);){switch(u.nodeType){case-1:Y(l,o[f]),l=o[f],o=o.parentNode;break;case 1:{let p=Wn(t,u,u.localName);n(p),o=p;break}case 2:{let p=u.cloneNode(e);p.ownerElement=o,n(p);break}case 3:case 8:n(u.cloneNode(e));break}u=u[g]}return Y(l,i[f]),i}toString(){let e=[],{[f]:t}=this,s={[g]:this},n=!1;do switch(s=s[g],s.nodeType){case 2:{let i=" "+s;switch(i){case" id":case" class":case" style":break;default:e.push(i)}break}case-1:{let i=s[q];n?("ownerSVGElement"in i?e.push(" />"):Pa(i)?e.push($e(i)?">":" />"):e.push(`></${i.localName}>`),n=!1):e.push(`</${i.localName}>`);break}case 1:n&&e.push(">"),s.toString!==this.toString?(e.push(s.toString()),s=s[f],n=!1):(e.push(`<${s.localName}`),n=!0);break;case 3:case 8:e.push((n?">":"")+s),n=!1;break}while(s!==t);return e.join("")}toJSON(){let e=[];return hi(this,e),e}getAttributeNS(e,t){return this.getAttribute(t)}getElementsByTagNameNS(e,t){return this.getElementsByTagName(t)}hasAttributeNS(e,t){return this.hasAttribute(t)}removeAttributeNS(e,t){this.removeAttribute(t)}setAttributeNS(e,t,s){this.setAttribute(t,s)}setAttributeNodeNS(e){return this.setAttributeNode(e)}};var yi=new WeakMap,ka={get(r,e){return r[e]},set(r,e,t){return r[e]=t,!0}},Ke=class extends me{constructor(e,t,s=null){super(e,t),this.ownerSVGElement=s}get className(){return yi.has(this)||yi.set(this,new Proxy({baseVal:"",animVal:""},ka)),yi.get(this)}set className(e){let{classList:t}=this;t.clear(),t.add(...e.split(/\s+/))}get namespaceURI(){return"http://www.w3.org/2000/svg"}getAttribute(e){return e==="class"?[...this.classList].join(" "):super.getAttribute(e)}setAttribute(e,t){if(e==="class")this.className=t;else if(e==="style"){let{className:s}=this;s.baseVal=s.animVal=t}super.setAttribute(e,t)}};var ee=()=>{throw new TypeError("Illegal constructor")};function Ti(){ee()}U(Ti,Q);Ti.prototype=Q.prototype;function Ci(){ee()}U(Ci,Le);Ci.prototype=Le.prototype;function bi(){ee()}U(bi,Te);bi.prototype=Te.prototype;function vi(){ee()}U(vi,tt);vi.prototype=tt.prototype;function Ni(){ee()}U(Ni,pe);Ni.prototype=pe.prototype;function xi(){ee()}U(xi,me);xi.prototype=me.prototype;function _i(){ee()}U(_i,z);_i.prototype=z.prototype;function Ri(){ee()}U(Ri,rt);Ri.prototype=rt.prototype;function Ai(){ee()}U(Ai,Z);Ai.prototype=Z.prototype;function wi(){ee()}U(wi,Ke);wi.prototype=Ke.prototype;var jn={Attr:Ti,CharacterData:Ci,Comment:bi,DocumentFragment:vi,DocumentType:Ni,Element:xi,Node:_i,ShadowRoot:Ri,Text:Ai,SVGElement:wi};var Bt=new WeakMap,a={get(r,e){return Bt.has(r)&&Bt.get(r)[e]||null},set(r,e,t){Bt.has(r)||Bt.set(r,{});let s=Bt.get(r),n=e.slice(2);s[e]&&r.removeEventListener(n,s[e],!1),(s[e]=t)&&r.addEventListener(n,t,!1)}},c=class extends me{static get observedAttributes(){return[]}constructor(e=null,t=""){super(e,t);let s=!e,n;if(s){let{constructor:i}=this;if(!Lt.has(i))throw new Error("unable to initialize this Custom Element");({ownerDocument:e,localName:t,options:n}=Lt.get(i))}if(e[qe]){let{element:i,values:o}=e[qe];e[qe]=null;for(let[l,u]of o)i[l]=u;return i}s&&(this.ownerDocument=this[f].ownerDocument=e,this.localName=t,Me.set(this,{connected:!1}),n.is&&this.setAttribute("is",n.is))}blur(){this.dispatchEvent(new J("blur"))}click(){this.dispatchEvent(new J("click"))}get accessKeyLabel(){let{accessKey:e}=this;return e&&`Alt+Shift+${e}`}get isContentEditable(){return this.hasAttribute("contenteditable")}get contentEditable(){return C.get(this,"contenteditable")}set contentEditable(e){C.set(this,"contenteditable",e)}get draggable(){return C.get(this,"draggable")}set draggable(e){C.set(this,"draggable",e)}get hidden(){return C.get(this,"hidden")}set hidden(e){C.set(this,"hidden",e)}get spellcheck(){return C.get(this,"spellcheck")}set spellcheck(e){C.set(this,"spellcheck",e)}get accessKey(){return m.get(this,"accesskey")}set accessKey(e){m.set(this,"accesskey",e)}get dir(){return m.get(this,"dir")}set dir(e){m.set(this,"dir",e)}get lang(){return m.get(this,"lang")}set lang(e){m.set(this,"lang",e)}get title(){return m.get(this,"title")}set title(e){m.set(this,"title",e)}get onabort(){return a.get(this,"onabort")}set onabort(e){a.set(this,"onabort",e)}get onblur(){return a.get(this,"onblur")}set onblur(e){a.set(this,"onblur",e)}get oncancel(){return a.get(this,"oncancel")}set oncancel(e){a.set(this,"oncancel",e)}get oncanplay(){return a.get(this,"oncanplay")}set oncanplay(e){a.set(this,"oncanplay",e)}get oncanplaythrough(){return a.get(this,"oncanplaythrough")}set oncanplaythrough(e){a.set(this,"oncanplaythrough",e)}get onchange(){return a.get(this,"onchange")}set onchange(e){a.set(this,"onchange",e)}get onclick(){return a.get(this,"onclick")}set onclick(e){a.set(this,"onclick",e)}get onclose(){return a.get(this,"onclose")}set onclose(e){a.set(this,"onclose",e)}get oncontextmenu(){return a.get(this,"oncontextmenu")}set oncontextmenu(e){a.set(this,"oncontextmenu",e)}get oncuechange(){return a.get(this,"oncuechange")}set oncuechange(e){a.set(this,"oncuechange",e)}get ondblclick(){return a.get(this,"ondblclick")}set ondblclick(e){a.set(this,"ondblclick",e)}get ondrag(){return a.get(this,"ondrag")}set ondrag(e){a.set(this,"ondrag",e)}get ondragend(){return a.get(this,"ondragend")}set ondragend(e){a.set(this,"ondragend",e)}get ondragenter(){return a.get(this,"ondragenter")}set ondragenter(e){a.set(this,"ondragenter",e)}get ondragleave(){return a.get(this,"ondragleave")}set ondragleave(e){a.set(this,"ondragleave",e)}get ondragover(){return a.get(this,"ondragover")}set ondragover(e){a.set(this,"ondragover",e)}get ondragstart(){return a.get(this,"ondragstart")}set ondragstart(e){a.set(this,"ondragstart",e)}get ondrop(){return a.get(this,"ondrop")}set ondrop(e){a.set(this,"ondrop",e)}get ondurationchange(){return a.get(this,"ondurationchange")}set ondurationchange(e){a.set(this,"ondurationchange",e)}get onemptied(){return a.get(this,"onemptied")}set onemptied(e){a.set(this,"onemptied",e)}get onended(){return a.get(this,"onended")}set onended(e){a.set(this,"onended",e)}get onerror(){return a.get(this,"onerror")}set onerror(e){a.set(this,"onerror",e)}get onfocus(){return a.get(this,"onfocus")}set onfocus(e){a.set(this,"onfocus",e)}get oninput(){return a.get(this,"oninput")}set oninput(e){a.set(this,"oninput",e)}get oninvalid(){return a.get(this,"oninvalid")}set oninvalid(e){a.set(this,"oninvalid",e)}get onkeydown(){return a.get(this,"onkeydown")}set onkeydown(e){a.set(this,"onkeydown",e)}get onkeypress(){return a.get(this,"onkeypress")}set onkeypress(e){a.set(this,"onkeypress",e)}get onkeyup(){return a.get(this,"onkeyup")}set onkeyup(e){a.set(this,"onkeyup",e)}get onload(){return a.get(this,"onload")}set onload(e){a.set(this,"onload",e)}get onloadeddata(){return a.get(this,"onloadeddata")}set onloadeddata(e){a.set(this,"onloadeddata",e)}get onloadedmetadata(){return a.get(this,"onloadedmetadata")}set onloadedmetadata(e){a.set(this,"onloadedmetadata",e)}get onloadstart(){return a.get(this,"onloadstart")}set onloadstart(e){a.set(this,"onloadstart",e)}get onmousedown(){return a.get(this,"onmousedown")}set onmousedown(e){a.set(this,"onmousedown",e)}get onmouseenter(){return a.get(this,"onmouseenter")}set onmouseenter(e){a.set(this,"onmouseenter",e)}get onmouseleave(){return a.get(this,"onmouseleave")}set onmouseleave(e){a.set(this,"onmouseleave",e)}get onmousemove(){return a.get(this,"onmousemove")}set onmousemove(e){a.set(this,"onmousemove",e)}get onmouseout(){return a.get(this,"onmouseout")}set onmouseout(e){a.set(this,"onmouseout",e)}get onmouseover(){return a.get(this,"onmouseover")}set onmouseover(e){a.set(this,"onmouseover",e)}get onmouseup(){return a.get(this,"onmouseup")}set onmouseup(e){a.set(this,"onmouseup",e)}get onmousewheel(){return a.get(this,"onmousewheel")}set onmousewheel(e){a.set(this,"onmousewheel",e)}get onpause(){return a.get(this,"onpause")}set onpause(e){a.set(this,"onpause",e)}get onplay(){return a.get(this,"onplay")}set onplay(e){a.set(this,"onplay",e)}get onplaying(){return a.get(this,"onplaying")}set onplaying(e){a.set(this,"onplaying",e)}get onprogress(){return a.get(this,"onprogress")}set onprogress(e){a.set(this,"onprogress",e)}get onratechange(){return a.get(this,"onratechange")}set onratechange(e){a.set(this,"onratechange",e)}get onreset(){return a.get(this,"onreset")}set onreset(e){a.set(this,"onreset",e)}get onresize(){return a.get(this,"onresize")}set onresize(e){a.set(this,"onresize",e)}get onscroll(){return a.get(this,"onscroll")}set onscroll(e){a.set(this,"onscroll",e)}get onseeked(){return a.get(this,"onseeked")}set onseeked(e){a.set(this,"onseeked",e)}get onseeking(){return a.get(this,"onseeking")}set onseeking(e){a.set(this,"onseeking",e)}get onselect(){return a.get(this,"onselect")}set onselect(e){a.set(this,"onselect",e)}get onshow(){return a.get(this,"onshow")}set onshow(e){a.set(this,"onshow",e)}get onstalled(){return a.get(this,"onstalled")}set onstalled(e){a.set(this,"onstalled",e)}get onsubmit(){return a.get(this,"onsubmit")}set onsubmit(e){a.set(this,"onsubmit",e)}get onsuspend(){return a.get(this,"onsuspend")}set onsuspend(e){a.set(this,"onsuspend",e)}get ontimeupdate(){return a.get(this,"ontimeupdate")}set ontimeupdate(e){a.set(this,"ontimeupdate",e)}get ontoggle(){return a.get(this,"ontoggle")}set ontoggle(e){a.set(this,"ontoggle",e)}get onvolumechange(){return a.get(this,"onvolumechange")}set onvolumechange(e){a.set(this,"onvolumechange",e)}get onwaiting(){return a.get(this,"onwaiting")}set onwaiting(e){a.set(this,"onwaiting",e)}get onauxclick(){return a.get(this,"onauxclick")}set onauxclick(e){a.set(this,"onauxclick",e)}get ongotpointercapture(){return a.get(this,"ongotpointercapture")}set ongotpointercapture(e){a.set(this,"ongotpointercapture",e)}get onlostpointercapture(){return a.get(this,"onlostpointercapture")}set onlostpointercapture(e){a.set(this,"onlostpointercapture",e)}get onpointercancel(){return a.get(this,"onpointercancel")}set onpointercancel(e){a.set(this,"onpointercancel",e)}get onpointerdown(){return a.get(this,"onpointerdown")}set onpointerdown(e){a.set(this,"onpointerdown",e)}get onpointerenter(){return a.get(this,"onpointerenter")}set onpointerenter(e){a.set(this,"onpointerenter",e)}get onpointerleave(){return a.get(this,"onpointerleave")}set onpointerleave(e){a.set(this,"onpointerleave",e)}get onpointermove(){return a.get(this,"onpointermove")}set onpointermove(e){a.set(this,"onpointermove",e)}get onpointerout(){return a.get(this,"onpointerout")}set onpointerout(e){a.set(this,"onpointerout",e)}get onpointerover(){return a.get(this,"onpointerover")}set onpointerover(e){a.set(this,"onpointerover",e)}get onpointerup(){return a.get(this,"onpointerup")}set onpointerup(e){a.set(this,"onpointerup",e)}};var Xn="template",Vt=class extends c{constructor(e){super(e,Xn);let t=this.ownerDocument.createDocumentFragment();(this[At]=t)[H]=this}get content(){if(this.hasChildNodes()&&!this[At].hasChildNodes())for(let e of this.childNodes)this[At].appendChild(e.cloneNode(!0));return this[At]}};x(Xn,Vt);var Dr=class extends c{constructor(e,t="html"){super(e,t)}};var{toString:Ha}=c.prototype,Ce=class extends c{get innerHTML(){return this.textContent}set innerHTML(e){this.textContent=e}toString(){return Ha.call(this.cloneNode()).replace(/></,`>${this.textContent}<`)}};var Kn="script",Ft=class extends Ce{constructor(e,t=Kn){super(e,t)}get type(){return m.get(this,"type")}set type(e){m.set(this,"type",e)}get src(){return m.get(this,"src")}set src(e){m.set(this,"src",e)}get defer(){return C.get(this,"defer")}set defer(e){C.set(this,"defer",e)}get crossOrigin(){return m.get(this,"crossorigin")}set crossOrigin(e){m.set(this,"crossorigin",e)}get nomodule(){return C.get(this,"nomodule")}set nomodule(e){C.set(this,"nomodule",e)}get referrerPolicy(){return m.get(this,"referrerpolicy")}set referrerPolicy(e){m.set(this,"referrerpolicy",e)}get nonce(){return m.get(this,"nonce")}set nonce(e){m.set(this,"nonce",e)}get async(){return C.get(this,"async")}set async(e){C.set(this,"async",e)}get text(){return this.textContent}set text(e){this.textContent=e}};x(Kn,Ft);var Pr=class extends c{constructor(e,t="frame"){super(e,t)}};var Jn="iframe",qt=class extends c{constructor(e,t=Jn){super(e,t)}get src(){return m.get(this,"src")}set src(e){m.set(this,"src",e)}get srcdoc(){return m.get(this,"srcdoc")}set srcdoc(e){m.set(this,"srcdoc",e)}get name(){return m.get(this,"name")}set name(e){m.set(this,"name",e)}get allow(){return m.get(this,"allow")}set allow(e){m.set(this,"allow",e)}get allowFullscreen(){return C.get(this,"allowfullscreen")}set allowFullscreen(e){C.set(this,"allowfullscreen",e)}get referrerPolicy(){return m.get(this,"referrerpolicy")}set referrerPolicy(e){m.set(this,"referrerpolicy",e)}get loading(){return m.get(this,"loading")}set loading(e){m.set(this,"loading",e)}};x(Jn,qt);var kr=class extends c{constructor(e,t="object"){super(e,t)}};var Hr=class extends c{constructor(e,t="head"){super(e,t)}};var Gr=class extends c{constructor(e,t="body"){super(e,t)}};var Co=Rt(To(),1);var bo="style",jt=class extends Ce{constructor(e,t=bo){super(e,t),this[ze]=null}get sheet(){let e=this[ze];return e!==null?e:this[ze]=(0,Co.parse)(this.textContent)}get innerHTML(){return super.innerHTML||""}set innerHTML(e){super.textContent=e,this[ze]=null}get innerText(){return super.innerText||""}set innerText(e){super.textContent=e,this[ze]=null}get textContent(){return super.textContent||""}set textContent(e){super.textContent=e,this[ze]=null}};x(bo,jt);var Jr=class extends c{constructor(e,t="time"){super(e,t)}};var Yr=class extends c{constructor(e,t="fieldset"){super(e,t)}};var zr=class extends c{constructor(e,t="embed"){super(e,t)}};var Qr=class extends c{constructor(e,t="hr"){super(e,t)}};var Zr=class extends c{constructor(e,t="progress"){super(e,t)}};var es=class extends c{constructor(e,t="p"){super(e,t)}};var ts=class extends c{constructor(e,t="table"){super(e,t)}};var rs=class extends c{constructor(e,t="frameset"){super(e,t)}};var ss=class extends c{constructor(e,t="li"){super(e,t)}};var is=class extends c{constructor(e,t="base"){super(e,t)}};var ns=class extends c{constructor(e,t="datalist"){super(e,t)}};var vo="input",Xt=class extends c{constructor(e,t=vo){super(e,t)}get autofocus(){return C.get(this,"autofocus")||-1}set autofocus(e){C.set(this,"autofocus",e)}get disabled(){return C.get(this,"disabled")}set disabled(e){C.set(this,"disabled",e)}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){this.setAttribute("placeholder",e)}get type(){return this.getAttribute("type")}set type(e){this.setAttribute("type",e)}get value(){return m.get(this,"value")}set value(e){m.set(this,"value",e)}};x(vo,Xt);var os=class extends c{constructor(e,t="param"){super(e,t)}};var as=class extends c{constructor(e,t="media"){super(e,t)}};var ls=class extends c{constructor(e,t="audio"){super(e,t)}};var No="h1",Kt=class extends c{constructor(e,t=No){super(e,t)}};x([No,"h2","h3","h4","h5","h6"],Kt);var cs=class extends c{constructor(e,t="dir"){super(e,t)}};var us=class extends c{constructor(e,t="quote"){super(e,t)}};var Ao=Rt(Ro(),1);var{createCanvas:Ga}=Ao.default,wo="canvas",Jt=class extends c{constructor(e,t=wo){super(e,t),this[se]=Ga(300,150)}get width(){return this[se].width}set width(e){ue.set(this,"width",e),this[se].width=e}get height(){return this[se].height}set height(e){ue.set(this,"height",e),this[se].height=e}getContext(e){return this[se].getContext(e)}toDataURL(...e){return this[se].toDataURL(...e)}};x(wo,Jt);var hs=class extends c{constructor(e,t="legend"){super(e,t)}};var Mo="option",Yt=class extends c{constructor(e,t=Mo){super(e,t)}get value(){return m.get(this,"value")}set value(e){m.set(this,"value",e)}get selected(){return C.get(this,"selected")}set selected(e){let t=this.parentElement?.querySelector("option[selected]");t&&t!==this&&(t.selected=!1),C.set(this,"selected",e)}};x(Mo,Yt);var ps=class extends c{constructor(e,t="span"){super(e,t)}};var ms=class extends c{constructor(e,t="meter"){super(e,t)}};var gs=class extends c{constructor(e,t="video"){super(e,t)}};var fs=class extends c{constructor(e,t="td"){super(e,t)}};var Oo="title",zt=class extends Ce{constructor(e,t=Oo){super(e,t)}};x(Oo,zt);var ds=class extends c{constructor(e,t="output"){super(e,t)}};var Ss=class extends c{constructor(e,t="tr"){super(e,t)}};var Es=class extends c{constructor(e,t="data"){super(e,t)}};var ys=class extends c{constructor(e,t="menu"){super(e,t)}};var Lo="select",Qt=class extends c{constructor(e,t=Lo){super(e,t)}get options(){let e=new B,{firstElementChild:t}=this;for(;t;)t.tagName==="OPTGROUP"?e.push(...t.children):e.push(t),t=t.nextElementSibling;return e}get disabled(){return C.get(this,"disabled")}set disabled(e){C.set(this,"disabled",e)}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get value(){return this.querySelector("option[selected]")?.value}};x(Lo,Qt);var Ts=class extends c{constructor(e,t="br"){super(e,t)}};var Io="button",Zt=class extends c{constructor(e,t=Io){super(e,t)}get disabled(){return C.get(this,"disabled")}set disabled(e){C.set(this,"disabled",e)}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get type(){return this.getAttribute("type")}set type(e){this.setAttribute("type",e)}};x(Io,Zt);var Cs=class extends c{constructor(e,t="map"){super(e,t)}};var bs=class extends c{constructor(e,t="optgroup"){super(e,t)}};var vs=class extends c{constructor(e,t="dl"){super(e,t)}};var Do="textarea",er=class extends Ce{constructor(e,t=Do){super(e,t)}get disabled(){return C.get(this,"disabled")}set disabled(e){C.set(this,"disabled",e)}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){this.setAttribute("placeholder",e)}get type(){return this.getAttribute("type")}set type(e){this.setAttribute("type",e)}get value(){return this.textContent}set value(e){this.textContent=e}};x(Do,er);var Ns=class extends c{constructor(e,t="font"){super(e,t)}};var xs=class extends c{constructor(e,t="div"){super(e,t)}};var Po="link",tr=class extends c{constructor(e,t=Po){super(e,t)}get disabled(){return C.get(this,"disabled")}set disabled(e){C.set(this,"disabled",e)}get href(){return m.get(this,"href")}set href(e){m.set(this,"href",e)}get hreflang(){return m.get(this,"hreflang")}set hreflang(e){m.set(this,"hreflang",e)}get media(){return m.get(this,"media")}set media(e){m.set(this,"media",e)}get rel(){return m.get(this,"rel")}set rel(e){m.set(this,"rel",e)}get type(){return m.get(this,"type")}set type(e){m.set(this,"type",e)}};x(Po,tr);var _s=class extends c{constructor(e,t="slot"){super(e,t)}};var Rs=class extends c{constructor(e,t="form"){super(e,t)}};var ko="img",nt=class extends c{constructor(e,t=ko){super(e,t)}get alt(){return m.get(this,"alt")}set alt(e){m.set(this,"alt",e)}get sizes(){return m.get(this,"sizes")}set sizes(e){m.set(this,"sizes",e)}get src(){return m.get(this,"src")}set src(e){m.set(this,"src",e)}get srcset(){return m.get(this,"srcset")}set srcset(e){m.set(this,"srcset",e)}get title(){return m.get(this,"title")}set title(e){m.set(this,"title",e)}get width(){return ue.get(this,"width")}set width(e){ue.set(this,"width",e)}get height(){return ue.get(this,"height")}set height(e){ue.set(this,"height",e)}};x(ko,nt);var As=class extends c{constructor(e,t="pre"){super(e,t)}};var ws=class extends c{constructor(e,t="ul"){super(e,t)}};var Ho="meta",rr=class extends c{constructor(e,t=Ho){super(e,t)}get name(){return m.get(this,"name")}set name(e){m.set(this,"name",e)}get httpEquiv(){return m.get(this,"http-equiv")}set httpEquiv(e){m.set(this,"http-equiv",e)}get content(){return m.get(this,"content")}set content(e){m.set(this,"content",e)}get charset(){return m.get(this,"charset")}set charset(e){m.set(this,"charset",e)}get media(){return m.get(this,"media")}set media(e){m.set(this,"media",e)}};x(Ho,rr);var Ms=class extends c{constructor(e,t="picture"){super(e,t)}};var Os=class extends c{constructor(e,t="area"){super(e,t)}};var Ls=class extends c{constructor(e,t="ol"){super(e,t)}};var Is=class extends c{constructor(e,t="caption"){super(e,t)}};var Go="a",sr=class extends c{constructor(e,t=Go){super(e,t)}get href(){return encodeURI(m.get(this,"href"))}set href(e){m.set(this,"href",decodeURI(e))}get download(){return encodeURI(m.get(this,"download"))}set download(e){m.set(this,"download",decodeURI(e))}get target(){return m.get(this,"target")}set target(e){m.set(this,"target",e)}get type(){return m.get(this,"type")}set type(e){m.set(this,"type",e)}};x(Go,sr);var Ds=class extends c{constructor(e,t="label"){super(e,t)}};var Ps=class extends c{constructor(e,t="unknown"){super(e,t)}};var ks=class extends c{constructor(e,t="mod"){super(e,t)}};var Hs=class extends c{constructor(e,t="details"){super(e,t)}};var Uo="source",ir=class extends c{constructor(e,t=Uo){super(e,t)}get src(){return m.get(this,"src")}set src(e){m.set(this,"src",e)}get srcset(){return m.get(this,"srcset")}set srcset(e){m.set(this,"srcset",e)}get sizes(){return m.get(this,"sizes")}set sizes(e){m.set(this,"sizes",e)}get type(){return m.get(this,"type")}set type(e){m.set(this,"type",e)}};x(Uo,ir);var Gs=class extends c{constructor(e,t="track"){super(e,t)}};var Us=class extends c{constructor(e,t="marquee"){super(e,t)}};var Bo={HTMLElement:c,HTMLTemplateElement:Vt,HTMLHtmlElement:Dr,HTMLScriptElement:Ft,HTMLFrameElement:Pr,HTMLIFrameElement:qt,HTMLObjectElement:kr,HTMLHeadElement:Hr,HTMLBodyElement:Gr,HTMLStyleElement:jt,HTMLTimeElement:Jr,HTMLFieldSetElement:Yr,HTMLEmbedElement:zr,HTMLHRElement:Qr,HTMLProgressElement:Zr,HTMLParagraphElement:es,HTMLTableElement:ts,HTMLFrameSetElement:rs,HTMLLIElement:ss,HTMLBaseElement:is,HTMLDataListElement:ns,HTMLInputElement:Xt,HTMLParamElement:os,HTMLMediaElement:as,HTMLAudioElement:ls,HTMLHeadingElement:Kt,HTMLDirectoryElement:cs,HTMLQuoteElement:us,HTMLCanvasElement:Jt,HTMLLegendElement:hs,HTMLOptionElement:Yt,HTMLSpanElement:ps,HTMLMeterElement:ms,HTMLVideoElement:gs,HTMLTableCellElement:fs,HTMLTitleElement:zt,HTMLOutputElement:ds,HTMLTableRowElement:Ss,HTMLDataElement:Es,HTMLMenuElement:ys,HTMLSelectElement:Qt,HTMLBRElement:Ts,HTMLButtonElement:Zt,HTMLMapElement:Cs,HTMLOptGroupElement:bs,HTMLDListElement:vs,HTMLTextAreaElement:er,HTMLFontElement:Ns,HTMLDivElement:xs,HTMLLinkElement:tr,HTMLSlotElement:_s,HTMLFormElement:Rs,HTMLImageElement:nt,HTMLPreElement:As,HTMLUListElement:ws,HTMLMetaElement:rr,HTMLPictureElement:Ms,HTMLAreaElement:Os,HTMLOListElement:Ls,HTMLTableCaptionElement:Is,HTMLAnchorElement:sr,HTMLLabelElement:Ds,HTMLUnknownElement:Ps,HTMLModElement:ks,HTMLDetailsElement:Hs,HTMLSourceElement:ir,HTMLTrackElement:Gs,HTMLMarqueeElement:Us};var Bs={test:()=>!0},Vo={"text/html":{docType:"<!DOCTYPE html>",ignoreCase:!0,voidElements:/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i},"image/svg+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:Bs},"text/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:Bs},"application/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:Bs},"application/xhtml+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:Bs}};var Tt=class extends J{constructor(e,t={}){super(e,t),this.detail=t.detail}};var nr=class extends J{constructor(e,t={}){super(e,t),this.inputType=t.inputType,this.data=t.data,this.dataTransfer=t.dataTransfer,this.isComposing=t.isComposing||!1,this.ranges=t.ranges}};var Fo=r=>class extends nt{constructor(t,s){switch(super(r),arguments.length){case 1:this.height=t,this.width=t;break;case 2:this.height=s,this.width=t;break}}};var qo=({[q]:r,[f]:e},t=null)=>{gr(r[_],e[g]);do{let s=$(r),n=s===e?s:s[g];t?t.insertBefore(r,t[f]):r.remove(),r=n}while(r!==e)},Ct=class{constructor(){this[q]=null,this[f]=null,this.commonAncestorContainer=null}insertNode(e){this[f].parentNode.insertBefore(e,this[q])}selectNode(e){this[q]=e,this[f]=$(e)}surroundContents(e){e.replaceChildren(this.extractContents())}setStartBefore(e){this[q]=e}setStartAfter(e){this[q]=e.nextSibling}setEndBefore(e){this[f]=$(e.previousSibling)}setEndAfter(e){this[f]=$(e)}cloneContents(){let{[q]:e,[f]:t}=this,s=e.ownerDocument.createDocumentFragment();for(;e!==t;)s.insertBefore(e.cloneNode(!0),s[f]),e=$(e),e!==t&&(e=e[g]);return s}deleteContents(){qo(this)}extractContents(){let e=this[q].ownerDocument.createDocumentFragment();return qo(this,e),e}createContextualFragment(e){let t=this.commonAncestorContainer.createElement("template");return t.innerHTML=e,this.selectNode(t.content),t.content}cloneRange(){let e=new Ct;return e[q]=this[q],e[f]=this[f],e}};var Ua=({nodeType:r},e)=>{switch(r){case 1:return e&ri;case 3:return e&si;case 8:return e&ii}return 0},Vs=class{constructor(e,t=ti){this.root=e,this.currentNode=e,this.whatToShow=t;let{[g]:s,[f]:n}=e;if(e.nodeType===9){let{documentElement:o}=e;s=o,n=o[f]}let i=[];for(;s!==n;)Ua(s,t)&&i.push(s),s=s[g];this[H]={i:0,nodes:i}}nextNode(){let e=this[H];return this.currentNode=e.i<e.nodes.length?e.nodes[e.i++]:null,this.currentNode}};var $o=(r,e,t)=>{let{[g]:s,[f]:n}=e;return r.call({ownerDocument:e,[g]:s,[f]:n},t)},jo=yn({},jn,Bo,{CustomEvent:Tt,Event:J,EventTarget:je,InputEvent:nr,NamedNodeMap:St,NodeList:B}),Fs=new WeakMap,ne=class extends Xe{constructor(e){super(null,"#document",9),this[K]={active:!1,registry:null},this[Se]={active:!1,class:null},this[ce]=Vo[e],this[Fe]=null,this[wt]=null,this[ut]=null,this[se]=null,this[qe]=null}get defaultView(){return Fs.has(this)||Fs.set(this,new Proxy(globalThis,{set:(e,t,s)=>{switch(t){case"addEventListener":case"removeEventListener":case"dispatchEvent":this[ct][t]=s;break;default:e[t]=s;break}return!0},get:(e,t)=>{switch(t){case"addEventListener":case"removeEventListener":case"dispatchEvent":if(!this[ct]){let s=this[ct]=new je;s.dispatchEvent=s.dispatchEvent.bind(s),s.addEventListener=s.addEventListener.bind(s),s.removeEventListener=s.removeEventListener.bind(s)}return this[ct][t];case"document":return this;case"navigator":return{userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36"};case"window":return Fs.get(this);case"customElements":return this[K].registry||(this[K]=new fr(this)),this[K];case"performance":return Wo.performance;case"DOMParser":return this[wt];case"Image":return this[se]||(this[se]=Fo(this)),this[se];case"MutationObserver":return this[Se].class||(this[Se]=new Er(this)),this[Se].class}return this[ut]&&this[ut][t]||jo[t]||e[t]}})),Fs.get(this)}get doctype(){let e=this[Fe];if(e)return e;let{firstChild:t}=this;return t&&t.nodeType===10?this[Fe]=t:null}set doctype(e){if(/^([a-z:]+)(\s+system|\s+public(\s+"([^"]+)")?)?(\s+"([^"]+)")?/i.test(e)){let{$1:t,$4:s,$6:n}=RegExp;this[Fe]=new pe(this,t,s,n),we(this,this[Fe],this[g])}}get documentElement(){return this.firstElementChild}get isConnected(){return!0}_getParent(){return this[ct]}createAttribute(e){return new Q(this,e)}createComment(e){return new Te(this,e)}createDocumentFragment(){return new tt(this)}createDocumentType(e,t,s){return new pe(this,e,t,s)}createElement(e){return new me(this,e)}createRange(){let e=new Ct;return e.commonAncestorContainer=this,e}createTextNode(e){return new Z(this,e)}createTreeWalker(e,t=-1){return new Vs(e,t)}createNodeIterator(e,t=-1){return this.createTreeWalker(e,t)}createEvent(e){let t=Tn(e==="Event"?new J(""):new Tt(""));return t.initEvent=t.initCustomEvent=(s,n=!1,i=!1,o)=>{Cn(t,{type:{value:s},canBubble:{value:n},cancelable:{value:i},detail:{value:o}})},t}cloneNode(e=!1){let{constructor:t,[K]:s,[Fe]:n}=this,i=new t;if(i[K]=s,e){let o=i[f],{childNodes:l}=this;for(let{length:u}=l,h=0;h<u;h++)i.insertBefore(l[h].cloneNode(!0),o);n&&(i[Fe]=l[0])}return i}importNode(e){let t=1<arguments.length&&!!arguments[1],s=e.cloneNode(t),{[K]:n}=this,{active:i}=n,o=l=>{let{ownerDocument:u,nodeType:h}=l;l.ownerDocument=this,i&&u!==this&&h===1&&n.upgrade(l)};if(o(s),t)switch(s.nodeType){case 1:case 11:{let{[g]:l,[f]:u}=s;for(;l!==u;)l.nodeType===1&&o(l),l=l[g];break}}return s}toString(){return this.childNodes.join("")}querySelector(e){return $o(super.querySelector,this,e)}querySelectorAll(e){return $o(super.querySelectorAll,this,e)}getElementsByTagNameNS(e,t){return this.getElementsByTagName(t)}createAttributeNS(e,t){return this.createAttribute(t)}createElementNS(e,t,s){return e===Qe?new Ke(this,t,null):this.createElement(t,s)}};U(jo.Document=function(){ee()},ne).prototype=ne.prototype;var Ba=(r,e,t,s)=>{if(!e&&pt.has(t)){let o=pt.get(t);return new o(r,t)}let{[K]:{active:n,registry:i}}=r;if(n){let o=e?s.is:t;if(i.has(o)){let{Class:l}=i.get(o),u=new l(r,t);return Me.set(u,{connected:!1}),u}}return new c(r,t)},or=class extends ne{constructor(){super("text/html")}get all(){let e=new B,{[g]:t,[f]:s}=this;for(;t!==s;){switch(t.nodeType){case 1:e.push(t);break}t=t[g]}return e}get head(){let{documentElement:e}=this,{firstElementChild:t}=e;return(!t||t.tagName!=="HEAD")&&(t=this.createElement("head"),e.prepend(t)),t}get body(){let{head:e}=this,{nextElementSibling:t}=e;return(!t||t.tagName!=="BODY")&&(t=this.createElement("body"),e.after(t)),t}get title(){let{head:e}=this,t=e.getElementsByTagName("title").shift();return t?t.textContent:""}set title(e){let{head:t}=this,s=t.getElementsByTagName("title").shift();s?s.textContent=e:t.insertBefore(this.createElement("title"),t.firstChild).textContent=e}createElement(e,t){let s=!!(t&&t.is),n=Ba(this,s,e,t);return s&&n.setAttribute("is",t.is),n}};var qs=class extends ne{constructor(){super("image/svg+xml")}toString(){return this[ce].docType+super.toString()}};var $s=class extends ne{constructor(){super("text/xml")}toString(){return this[ce].docType+super.toString()}};var bt=class{parseFromString(e,t,s=null){let n=!1,i;return t==="text/html"?(n=!0,i=new or):t==="image/svg+xml"?i=new qs:i=new $s,i[wt]=bt,s&&(i[ut]=s),n&&e==="..."&&(e="<!doctype html><html><head></head><body></body></html>"),e?Sr(i,n,e):i}};var{parse:yS}=JSON;var Xo=(r,e=null)=>new bt().parseFromString(r,"text/html",e).defaultView;function Va(){ee()}U(Va,ne).prototype=ne.prototype;var Jo=r=>r.trim().replace(/(\n){4,}/g,`


`).replace(/ {3,}/g,"  ").replace(/\t/g,"").replace(/\n+(\s*\n)*/g,`
`),Fa=r=>{if(!r)return{title:"Could not parse the page.",body:"Could not parse the page.",success:!1};let e=new Ko.Readability(r).parse();if(!e||!e.textContent)return{title:"Could not parse the page.",body:"Could not parse the page.",success:!1};let t=Jo(nn(e.textContent));return{title:e.title,body:t,success:!0}};async function qS(r,e="",t=!1){let s=e;if(!s){let o=await qa(r,t);if(o.success)s=o.html;else return{title:"Could not fetch the page.",body:o.html||"Could not fetch the page: Make sure the URL is correct.",url:r,success:!1}}let n=Xo(s).document,i=Fa(n);return{url:r,...i}}async function qa(r,e=!1){let t="",s=r.startsWith("http")?r:`https://${r}`;if(e){let i=await $a(s);if(i.success)return t=i.content,{html:t,success:!0}}let n;try{n=await fetch(s,{redirect:"error"})}catch(i){return{html:`Could not fetch the page: ${i}.
Make sure the URL is correct.`,success:!1}}return n.ok?(t=await n.text(),{html:t,success:!0}):{html:`Could not fetch the page: ${n.status} ${n.statusText}`,success:!1}}async function $a(r){try{let e=new URL(r).host;if(e.includes("youtube")||e.includes("facebook")||e.includes("instagram"))return{success:!1,content:"Unable to request the snapshot of this url"};let t="https://webcache.googleusercontent.com/search?&strip=1&vwsrc=0&q=cache:"+encodeURIComponent(r),s=await fetch(t,{redirect:"error"});return s.ok&&s.status===200?{success:!0,content:await s.text()}:{success:!1,content:"Unable to request the snapshot of this url"}}catch{return{success:!1,content:"Unable to request the snapshot of this url"}}}var $S=async(r,e=!0)=>{try{if(e){let t=await en(r,{redirect:"follow"},{responseType:"text",proxyTargetHost:r.includes("bing.com")?"https://bing.com":void 0}),s=t.responseInfo||{};if(!s.ok){let n=s.type==="opaqueredirect"?301:s.status;throw{status:n,statusText:`Failed to fetch: ${n} ${s.statusText}`}}return{status:s.status,html:t.data,url:s.url||r,success:!0}}else{let t=await fetch(r,{redirect:"follow"});if(!t.ok){let s=t.type==="opaqueredirect"?301:t.status;throw{status:s,statusText:`Failed to fetch: ${s} ${t.statusText}`}}return{status:t.status,html:await t.text(),url:t.url,success:!0}}}catch(t){return t.status===301||t.status===429?{status:301,html:"",url:r,success:!1}:{status:404,html:`Could not fetch the page: ${t.message}.
Make sure the URL is correct.`,url:r,success:!1}}};async function WS(r,e=""){let t=e;if(!t){let s;try{s=await fetch(r.startsWith("http")?r:`https://${r}`)}catch{return{html:"Could not fetch the page.",url:r,success:!1}}if(!s.ok)return{html:"Could not fetch the page.",url:r,success:!1};t=await s.text(),t=Jo(t),t.length>8e3&&(t=t.slice(0,8e3))}return{url:r,html:t,success:!0}}var Yo=Rt(aa());var YS=async r=>{let{featureId:e,promptId:t,promptName:s,metaData:n={}}=r,i=Qi();new ot({runtime:"client"}).postMessage({event:"Client_logCallApiRequest",data:{email:i,action:"USE",feature_id:e,domain:location.host,prompt_id:t,prompt_name:s,meta_data:n,model_name:zi()}})},zS=async r=>{try{let e=Yo.default.encrypt(JSON.stringify(r),"MaxAI").toString();return await(await fetch(`${hr}/user/vote`,{method:"POST",body:JSON.stringify({info_object:e}),headers:{"Content-Type":"application/json"}})).json()}catch{return null}};function zo(r){let e,t,s,n,i,o,l;return u(),{feed:h,reset:u};function u(){e=!0,t="",s=0,n=-1,i=void 0,o=void 0,l=""}function h(S){t=t?t+S:S,e&&Wa(t)&&(t=t.slice(Qo.length)),e=!1;let y=t.length,v=0,I=!1;for(;v<y;){I&&(t[v]===`
`&&++v,I=!1);let O=-1,b=n,w;for(let L=s;O<0&&L<y;++L)w=t[L],w===":"&&b<0?b=L-v:w==="\r"?(I=!0,O=L-v):w===`
`&&(O=L-v);if(O<0){s=y-v,n=b;break}else s=0,n=-1;p(t,v,b,O),v+=O+1}v===y?t="":v>0&&(t=t.slice(v))}function p(S,y,v,I){if(I===0){l.length>0&&(r({type:"event",id:i,event:o||void 0,data:l.slice(0,-1)}),l="",i=void 0),o=void 0;return}let O=v<0,b=S.slice(y,y+(O?I:v)),w=0;O?w=I:S[y+v+1]===" "?w=v+2:w=v+1;let L=y+w,re=I-w,d=S.slice(L,L+re).toString();if(b==="data")l+=d?"".concat(d,`
`):`
`;else if(b==="event")o=d;else if(b==="id"&&!d.includes("\0"))i=d;else if(b==="retry"){let W=parseInt(d,10);Number.isNaN(W)||r({type:"reconnect-interval",value:W})}}}var Qo=[239,187,191];function Wa(r){return Qo.every((e,t)=>r.charCodeAt(t)===e)}async function*Zo(r){let e=r.getReader();try{for(;;){let{done:t,value:s}=await e.read();if(t)return;yield s}}finally{e.releaseLock()}}var ea=async(r,e)=>{let{onMessage:t,...s}=e,n=await fetch(r,s);if(!n.ok){let o=await n.json().catch(()=>({}));throw new Error(JSON.stringify(on(o)?{message:`${n.status} ${n.statusText}`,detail:""}:o))}if(s.body&&JSON.parse(s.body).streaming===!1)return await n.json();let i=zo(o=>{o.type==="event"&&t(o.data)});for await(let o of Zo(n.body)){let l=new TextDecoder().decode(o);i.feed(l)}};var ta=(r,e="",t)=>fetch(hr+"/app/send_notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({env:Yi?"prod":"dev",title:`WebChatGPT: ${r}`,message:e,...t})}).then().catch();var hE=(r,e="",t)=>new ot({runtime:"client"}).postMessage({event:"LarkBot_sendMessage",data:{title:r,message:e,attr:t}}),pE=(r,e="",t)=>ta(r,e,t);var ra=(r,e)=>{let t=[],s=r;for(;e[s];){let n=e[s];if(!n.message)break;let i=n.message.content.parts.join("");if(!i)break;t.push({messageId:n.id,parentMessageId:n.parent,text:i}),s=n.parent}return t};var na="https://chat.openai.com",Ws="WebChatGPT",vt=(r,e,t,s)=>fetch(`${na}${t}`,{method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:s===void 0?void 0:JSON.stringify(s)}),ja=async r=>{try{let{token:e,offset:t=0,limit:s=100,order:n="updated"}=r;return(await(await vt(e,"GET",`/backend-api/conversations?offset=${t}&limit=${s}&order=${n}`)).json())?.items||[]}catch{return[]}},sa=async({token:r,conversationId:e,messageId:t,input:s})=>{try{await vt(r,"POST","/backend-api/moderations",{conversation_id:e,message_id:t,input:s,model:"text-moderation-playground"})}catch{}},Bi=async(r,e,t)=>{await vt(r,"PATCH",`/backend-api/conversation/${e}`,t)},Vi=async(r=!1)=>{let e=await fetch("https://chat.openai.com/api/auth/session");if(e.status===403&&!r)throw new Error("CLOUDFLARE");let t=await e.json().catch(()=>({}));if(!t.accessToken&&!r)throw new Error("UNAUTHORIZED");return t?.accessToken||""},Fi=class{id;token;model;conversationId;lastChatGPTAnswerMessageId;conversationInfo;isCleaningCache=!1;constructor(e){this.token=e.token,this.model=e.model,this.lastChatGPTAnswerMessageId=at(),this.id=at(),this.conversationId=e.conversationId||void 0,this.conversationInfo={title:"",messages:[]}}async updateTitle(e){!this.conversationId||this.conversationInfo.title===e||(await Bi(this.token,this.conversationId,{title:e}),this.conversationInfo.title=e)}async fetchHistoryAndConfig(){if(this.conversationId)try{let t=await(await vt(this.token,"GET",`/backend-api/conversation/${this.conversationId}`)).json();this.conversationInfo={title:t.title,messages:ra(t.current_node,t.mapping),raw:t},t.title!==Ws&&await this.updateTitle(Ws),this.lastChatGPTAnswerMessageId=t.current_node}catch{this.lastChatGPTAnswerMessageId=at(),this.conversationId=void 0,this.conversationInfo={title:"",messages:[]}}}async generateAnswer(e,t=!1){let s=e.messageId||at(),n=e.parentMessageId||this.lastChatGPTAnswerMessageId||at(),i=!1,o="",l="",u={action:t?"variant":"next",messages:[{id:s,author:{role:"user"},content:{content_type:"text",parts:[e.prompt]}}],model:this.model,parent_message_id:n,timezone_offset_min:new Date().getTimezoneOffset(),history_and_training_disabled:!1};this.conversationId&&(u.conversation_id=this.conversationId),e.meta&&(u.messages[0].metadata=e.meta),await ea(`${na}/backend-api/conversation`,{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify(Object.assign(u)),onMessage:h=>{if(h==="[DONE]"){o&&this.conversationId&&l&&(this.updateTitle(Ws),sa({token:this.token,conversationId:this.conversationId,messageId:l,input:o})),e.onEvent({type:"done"});return}let p;try{p=JSON.parse(h)}catch{return}let S=p.message?.content?.parts?.[0]||p.message?.content?.text;S&&(o=S,l=p.message.id,this.conversationId=p.conversation_id,this.lastChatGPTAnswerMessageId=p.message.id,this.conversationId&&!i&&(i=!0,sa({token:this.token,conversationId:this.conversationId,messageId:s,input:e.prompt})),e.onEvent({type:"answer",data:{text:S,messageId:p.message.id,conversationId:p.conversation_id,parentMessageId:s}}))}}).then().catch(h=>{try{if(h?.message==="The user aborted a request."||h?.message==="BodyStreamBuffer was aborted"){e.onEvent({type:"error",data:{message:"manual aborted request.",detail:""}});return}let p=JSON.parse(h.message||h);e.onEvent({type:"error",data:{message:p.message,detail:p.detail}})}catch{e.onEvent({type:"error",data:{message:"Network error.",detail:""}})}})}async close(){this.conversationId&&(await Bi(this.token,this.conversationId,{is_visible:!1}),this.conversationInfo={title:"",messages:[]})}async removeCacheConversation(){if(!this.isCleaningCache&&this.token){let t=(await ja({token:this.token})).filter(n=>n.title===Ws&&n.id!==this.conversationId);if(t.length===0)return;this.isCleaningCache=!0;let s=n=>new Promise(i=>setTimeout(i,n));for(let n=0;n<t.length;n++)try{await Bi(this.token,t[n].id,{is_visible:!1}),await s(3e3)}catch{}this.isCleaningCache=!1}}},ia=class{token;conversations;abortFunctions;models;plugins;constructor(){this.conversations=[],this.abortFunctions={},this.plugins=[],this.token=void 0,this.models=[]}async fetchModels(e){if(this.models.length>0)return this.models;let t=await vt(e,"GET","/backend-api/models").then(s=>s.json());return t?.models&&t.models.length>0&&(this.models=t.models),t.models}async fetchPlugins(e){if(this.plugins.length>0)return this.plugins;let t=await vt(e,"GET","/backend-api/aip/p?offset=0&limit=100&statuses=approved").then(s=>s.json());return t?.items&&t.items.length>0&&(this.plugins=t.items),t.items}async getModelName(e,t){try{let s=await this.fetchModels(e);if(s?.length>0){if(t){let n=s.find(i=>i.slug===t);if(n)return n.slug}return s[0].slug}return zs}catch{return zs}}async getAllModels(){if(this.models.length>0)return this.models;try{let e=this.token||await Vi();return e&&(this.token=e),await this.fetchModels(e)}catch{return[]}}async getAllPlugins(){if(this.plugins.length>0)return this.plugins;try{let e=this.token||await Vi();return e&&(this.token=e),await this.fetchPlugins(e)}catch{return[]}}async createConversation(e,t,s=!0){if(this.conversations.length>0)return this.conversations[0];try{let n=this.token||await Vi();n&&(this.token=n);let i=await this.getModelName(n,t),o=new Fi({token:n,model:i,conversationId:e});return this.conversations=[o],s&&o.removeCacheConversation(),await o.fetchHistoryAndConfig(),o}catch{return}}getConversation(e){return this.conversations.find(t=>t.id===e||t.conversationId===e)}getConversations(){return this.conversations}async closeConversation(e){try{let t=this.getConversation(e);return t&&(this.conversations=this.conversations.filter(s=>s.conversationId!==e&&s.id!==e),await t.close()),!0}catch{return!1}}addAbortWithMessageId(e,t){this.abortFunctions[e]=t}removeAbortWithMessageId(e){delete this.abortFunctions[e]}abortWithMessageId(e){try{this.abortFunctions[e]&&(this.abortFunctions[e](),delete this.abortFunctions[e])}catch{}}removeCacheConversation(){return this.conversations?.[0]?.removeCacheConversation()}removeConversationWithId(e){let t=this.conversations.find(s=>s.conversationId===e);t&&t.close()}};var NE=async r=>{try{let t=(await an()).thirdProviderSettings;return t&&t[r]?t[r]:void 0}catch{return}};var xE=async(r,e,t,{onMessage:s,onError:n})=>{let i=new ot({runtime:"client"});return new Promise(o=>{let l=e.messageId,u=Zi(async(h,p)=>{if(h==="Client_askChatGPTQuestionResponse"&&p.taskId===l)return p.error?n?.(p.error):p?.data?.text&&s?.(p.data),p.done?(o(!0),i.postMessage({event:"Client_askChatGPTQuestionWithProviderDone",data:{}}),u(),{success:!0,message:"ok",data:{}}):{success:!0,message:"ok",data:{}}});i.postMessage({event:"Client_askChatGPTQuestionWithProvider",data:{provider:r,taskId:l,question:e,options:t}})})};export{Xo as a,Fa as b,qS as c,$S as d,WS as e,YS as f,zS as g,ea as h,hE as i,pE as j,NE as k,xE as l,ia as m};
