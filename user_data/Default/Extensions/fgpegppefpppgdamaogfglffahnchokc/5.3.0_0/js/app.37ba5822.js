!function(t){function e(e){for(var r,o,i=e[0],u=e[1],s=e[2],f=0,p=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&p.push(c[o][0]),c[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(d&&d(e);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},c={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[];o[t]?e.push(o[t]):0!==o[t]&&{"chunk-f993a800":1,"chunk-0b97e38a":1,"chunk-34994e89":1}[t]&&e.push(o[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-0ffaf1ce":"31d6cfe0","chunk-2d0b2928":"31d6cfe0","chunk-5669dbb8":"31d6cfe0","chunk-f993a800":"f2e720f4","chunk-0b97e38a":"1e87ec08","chunk-34994e89":"c2b43413"}[t]+".css",c=i.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=(f=a[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===c))return e()}var f,d=document.getElementsByTagName("style");for(u=0;u<d.length;u++)if((s=(f=d[u]).getAttribute("data-href"))===r||s===c)return e();var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||c;e=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");e.code="CSS_CHUNK_LOAD_FAILED",e.request=r,delete o[t],p.parentNode.removeChild(p),n(e)},p.href=c,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){o[t]=0})));var n,r,a,u,s,f=c[t];return 0!==f&&(f?e.push(f[2]):(s=new Promise((function(e,n){f=c[t]=[e,n]})),e.push(f[2]=s),(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.src=i.p+"js/"+({}[s=t]||s)+"."+{"chunk-0ffaf1ce":"89ed0d3a","chunk-2d0b2928":"560c5d6e","chunk-5669dbb8":"b1f75527","chunk-f993a800":"7d555652","chunk-0b97e38a":"57829aaf","chunk-34994e89":"5b5bd846"}[s]+".js",r=new Error,a=function(e){n.onerror=n.onload=null,clearTimeout(u);var o,a=c[t];0!==a&&(a&&(o=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,r.message="Loading chunk "+t+" failed.\n("+o+": "+e+")",r.name="ChunkLoadError",r.type=o,r.request=e,a[1](r)),c[t]=void 0)},u=setTimeout((function(){a({type:"timeout",target:n})}),12e4),n.onerror=n.onload=a,document.head.appendChild(n))),Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw t};var u=(s=window.webpackJsonp=window.webpackJsonp||[]).push.bind(s);s.push=e;for(var s=s.slice(),f=0;f<s.length;f++)e(s[f]);var d=u;a.push([0,"chunk-vendors"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0f9a":function(t,e,n){"use strict";n.r(e),n("b0c0"),n("d3b7"),n("498a");var r=n("b775"),o=n("4328"),c=n("f121"),a=n("5f87");n={Login:function(t,e){var n=t.commit,c=e.email.trim(),i=e.password;return new Promise((function(t,e){var u,s;u=c,s=i,Object(r.a)({url:"/auth/login",method:"post",data:Object(o.stringify)({email:u,password:s})}).then((function(e){Object(a.f)(e.token),n("SET_TOKEN",e.token),t()})).catch((function(t){e(t)}))}))},GetUserInfo:function(t){var e=t.dispatch;return new Promise((function(t,n){Object(r.a)({url:"/user/info",method:"get"}).then((function(n){e("SetUserData",n),t()})).catch((function(t){n(t)}))}))},LogOut:function(t){var e=t.commit,n=t.state;return new Promise((function(t,o){n.token,Object(r.a)({url:"/user/".concat(c.version,"/auth/logout"),method:"post"}).then((function(){e("SET_TOKEN",""),Object(a.d)(),t()})).catch((function(t){o(t)}))}))},FedLogOut:function(t){var e=t.dispatch;return new Promise((function(t){e("InitializationUserInfo"),t()}))},SetUserData:function(t,e){t=t.commit,localStorage.setItem("Magnetar_User",JSON.stringify(e)),t("SET_NAME",e.username),t("SET_EMAIL",e.email),t("SET_AVATAR",e.avatar),t("SET_LEAVE",e.is_admin),t("SET_CREDITS",e.credits)},InitializationUserInfo:function(t){var e=t.commit;t=t.dispatch;Object(a.f)(""),Object(a.d)(),e("SET_TOKEN",null),e("proxy/SET_PROXYNODELIST",[],{root:!0}),e("proxy/SET_PACSCRIPT","",{root:!0}),e("proxy/SET_PROXYVERSION","",{root:!0}),t("proxy/ProxyLogOut",{},{root:!0}),t("proxy/SetStateToChromeStorage",{},{root:!0})}};e.default={namespaced:!0,state:function(){return{name:"null",email:"",avatar:"",leave:"",token:Object(a.b)(),credits:0}},getters:{name:function(t){return t.name},email:function(t){return t.email},avatar:function(t){return t.avatar},leave:function(t){return t.leave},token:function(t){return t.token},credits:function(t){return t.credits}},actions:n,mutations:{SET_TOKEN:function(t,e){t.token=e},SET_NAME:function(t,e){t.name=e},SET_EMAIL:function(t,e){t.email=e},SET_AVATAR:function(t,e){t.avatar=e},SET_LEAVE:function(t,e){t.leave=e},SET_CREDITS:function(t,e){t.credits=e}}}},4360:function(t,e,n){"use strict";var r=n("d3b7"),o=n("ac1f"),c=(r=n("5319"),o=n("159b"),r=n("ddb0"),n("5530"));o=n("2b0e"),r=n("2f62");o.default.use(r.a);var a={},i=n("d307");i.keys().forEach((function(t){a[t.replace(/(modules|\/|\.|js)/g,"")]=Object(c.a)(Object(c.a)({},i(t).default),{},{namespaced:!0})})),r=new r.a.Store({modules:a}),e.a=r},"56d7":function(t,e,n){"use strict";n.r(e),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=(n("96cf"),n("1da1")),c=n("5530"),a=n("2f62"),i={name:"app",components:{},data:function(){return{}},computed:Object(c.a)({},Object(a.c)({initconfig:"app/initconfig"})),methods:{},created:function(){}},u=(n("708b"),n("2877")),s=(e=Object(u.a)(i,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",{attrs:{id:"indexfooter"}},[e("Footer",{staticClass:"footers"},[e("span",{attrs:{id:"footerBox"}},[e("a",{staticClass:"links",attrs:{title:"Magnetar"}},[t._v("© 2019-2022 Magnetar-Extension "+t._s(t.initconfig.version))])]),e("br"),e("span",{attrs:{id:"footerBox"}},[e("a",{staticClass:"links"},[t._v("联系邮箱:"+t._s(t.initconfig.email))])])])],1)}),[],!1,null,null,null).exports,n("5f87")),f=n("a6b9"),d=(i={components:{Footers:e},data:function(){return{}},computed:Object(c.a)(Object(c.a)({},Object(a.c)({proxySwitch:"proxy/proxySwitch",proxyVersion:"proxy/proxyVersion",initconfig:"app/initconfig"})),{},{key:function(){return this.$router.path+Math.random()}}),created:function(){this.init()},methods:Object(c.a)(Object(c.a)(Object(c.a)({},Object(a.b)({GetUserInfo:"user/GetUserInfo",GetConfig:"app/GetConfig",GetProxyList:"proxy/GetProxyList",SetProxySwitch:"proxy/SetProxySwitch",SetStateToChromeStorage:"proxy/SetStateToChromeStorage"})),Object(a.d)({SET_PACSCRIPT:"proxy/SET_PACSCRIPT",SET_PROXYSWITCH:"proxy/SET_PROXYSWITCH",SET_PROXYVERSION:"proxy/SET_PROXYVERSION",SET_PROXYNODELIST:"proxy/SET_PROXYNODELIST",SET_PROXYCHECKEDNODEID:"proxy/SET_PROXYCHECKEDNODEID"})),{},{init:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(f.b)().then((function(e){e.proxyCheckedNodeId&&t.SET_PROXYCHECKEDNODEID(e.proxyCheckedNodeId),e.proxyNodeList&&t.SET_PROXYNODELIST(e.proxyNodeList),e.pacScript&&t.SET_PACSCRIPT(e.pacScript),e.proxyVersion&&t.SET_PROXYVERSION(e.proxyVersion),e.proxySwitch&&t.SET_PROXYSWITCH(e.proxySwitch)})).catch((function(){})),e.next=4,t.GetConfig();case 4:case"end":return e.stop()}}),e)})))()}}),mounted:function(){}},n("034f"),Object(u.a)(i,(function(){var t=this.$createElement;t=this._self._c||t;return t("div",{attrs:{id:"app"}},[t("router-view",{key:this.key}),t("Footers")],1)}),[],!1,null,null,null).exports);e=n("f825"),c=n.n(e);n("f8ce"),r.default.use(c.a);a=n("4eb5"),u=n.n(a),n("d3b7"),i=n("8c4f");var p=i.a.prototype.push;i.a.prototype.push=function(t){return p.call(this,t).catch((function(t){return t}))},r.default.use(i.a),e=[{path:"/",name:"Home",meta:{requireAuth:!1,title:"Magnetar"},component:function(){return Promise.all([n.e("chunk-f993a800"),n.e("chunk-34994e89")]).then(n.bind(null,"bb51"))}},{path:"/user/index",name:"User_index",meta:{requireAuth:!0,title:"User"},component:function(){return Promise.all([n.e("chunk-f993a800"),n.e("chunk-0b97e38a")]).then(n.bind(null,"dab6"))}},{path:"/user/login",name:"User_login",meta:{requireAuth:!1,islogin:!0,title:"Login"},component:function(){return n.e("chunk-0ffaf1ce").then(n.bind(null,"ac2a"))}},{path:"/user/edituser",name:"User_login",meta:{requireAuth:!0,title:"修改信息"},component:function(){return n.e("chunk-2d0b2928").then(n.bind(null,"254c"))}},{path:"/user/register",name:"User_registe",meta:{requireAuth:!1,islogin:!0,title:"用户注册"},component:function(){return n.e("chunk-5669dbb8").then(n.bind(null,"1348"))}}],c=new i.a({mode:"hash",routes:e}),c.beforeEach((function(t,e,n){t.meta.title&&(document.title=t.meta.title);var r=Object(s.b)();return 1==t.meta.islogin&&r&&"null"!=r&&n({path:"/"}),1!=t.meta.requireAuth||r?n():void n({path:"/user/login",query:{redirect:t.fullPath}})})),a=c,i=n("4360"),e=n("8237"),c=n.n(e),e=n("7e79"),e=n.n(e),n("4da9"),r.default.use(u.a),r.default.use(e.a),r.default.config.productionTip=!1,r.default.prototype.$md5=c.a,new r.default({router:a,store:i.a,render:function(t){return t(d)}}).$mount("#app")},"5f87":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return f}));var r="Magnetar-Token",o="Magnetar-Remember";function c(){return localStorage.getItem(r)}function a(t){return localStorage.setItem(r,t)}function i(){return localStorage.removeItem(r)}function u(){var t=localStorage.getItem(o);return JSON.parse(t||"null")}function s(t){return localStorage.setItem(o,JSON.stringify(t))}function f(){return localStorage.removeItem(o)}},"693d":function(t,e,n){},"708b":function(t,e,n){"use strict";n("693d")},"7e33":function(t,e,n){"use strict";n.r(e),n("7db0"),n("b0c0"),n("d3b7"),n("ac1f"),n("5319");var r=n("a6b9"),o=n("b775"),c={SET_PROXYNODELIST:function(t,e){t.proxyNodeList=e,""===t.proxyCheckedNodeId&&0<e.length&&(t.proxyCheckedNodeId=e[0].id)},SET_PACSCRIPT:function(t,e){t.pacScript=e},SET_PROXYCHECKEDNODEID:function(t,e){t.proxyCheckedNodeId=e},SET_PROXYSWITCH:function(t,e){t.proxySwitch=e},SET_PROXYVERSION:function(t,e){t.proxyVersion=e}};n={GetProxyList:function(t){var e=t.commit,n=t.dispatch,r=t.state;return new Promise((function(t,c){Object(o.a)({url:"/extension/proxyList",method:"get"}).then((function(o){e("SET_PROXYCHECKEDNODEID",""),e("SET_PROXYNODELIST",o),r.proxySwitch?(e("SET_PROXYSWITCH",!1),n("proxy/CloseProxy",{},{root:!0}).then((function(){n("proxy/SetStateToChromeStorage",{},{root:!0}),t()})).catch((function(){c("关闭代理出了点小问题")}))):(t(),n("proxy/SetStateToChromeStorage",{},{root:!0}))})).catch((function(t){c(t)}))}))},SetProxyCheckedNodeId:function(t,e){var n=t.commit,o=t.dispatch,c=t.state;return new Promise((function(t,a){c.proxySwitch?o("OpenProxy",e).then((function(){n("SET_PROXYCHECKEDNODEID",e),Object(r.d)(c),t("已切换节点")})).catch((function(){a("切换节点出了点小问题")})):(n("SET_PROXYCHECKEDNODEID",e),Object(r.d)(c),t("已切换节点"))}))},SetProxySwitch:function(t,e){var n=t.dispatch,o=t.commit,c=t.state;return new Promise((function(t,a){e?n("OpenProxy",c.proxyCheckedNodeId).then((function(){o("SET_PROXYSWITCH",!0),Object(r.d)(c),t("已开启代理")})).catch((function(t){a("开启代理出了点小问题")})):n("CloseProxy").then((function(){o("SET_PROXYSWITCH",!1),Object(r.d)(c),t("已关闭代理")})).catch((function(){a("关闭代理出了点小问题")}))}))},OpenProxy:function(t,e){var n=t.state;return new Promise((function(t,o){var c=n.proxyNodeList.find((function(t){return t.id==e}));void 0===c&&o("节点信息错误，请更新配置后重新选择代理节点");var a=c.pac_script,i=c.domain,u=c.color,s=c.name,f=c.account,d=c.password;i=a.replace("*proxy*",i);Object(r.c)(i,c.block,{account:f,password:d},u,s).then((function(){t()})).catch((function(){o("开启失败")}))}))},CloseProxy:function(){return new Promise((function(t,e){Object(r.a)().then((function(){t()})).catch((function(){e("关闭失败")}))}))},ProxyLogOut:function(t){var e=t.state,n=t.dispatch,o=t.commit;e.proxySwitch&&n("CloseProxy").then((function(){o("SET_PROXYSWITCH",!1),Object(r.d)(e)})).catch((function(t){}))},SetStateToChromeStorage:function(t){t=t.state,Object(r.d)(t)}};e.default={namespaced:!0,state:function(){return{pacScript:"",proxyNodeList:[],proxyCheckedNodeId:"",proxySwitch:!1,proxyVersion:""}},getters:{proxyNodeList:function(t){return t.proxyNodeList},proxyCheckedNodeId:function(t){return t.proxyCheckedNodeId},proxySwitch:function(t){return t.proxySwitch},proxyVersion:function(t){return t.proxyVersion}},actions:n,mutations:c}},"85ec":function(t,e,n){},a6b9:function(t,e,n){"use strict";function r(t,e,n,r,o){return new Promise((function(c,a){chrome.runtime.sendMessage({action:"updateProxy",switch:"on",value:{mode:"pac_script",pacScript:{data:t}},accessInfo:n,color:r,name:o,block:e},(function(t){(t?c:a)()}))}))}function o(){return new Promise((function(t,e){chrome.runtime.sendMessage({action:"updateProxy",switch:"off",value:{mode:"system"}},(function(n){(n?t:e)()}))}))}function c(t){t.author="Magnetar",chrome.storage.local.set(t)}function a(){return new Promise((function(t,e){chrome.storage.local.get(null,(function(n){n.hasOwnProperty("author")?t(n):e()}))}))}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return a})),e=n("d3b7")},b775:function(t,e,n){"use strict";var r=n("d3b7"),o=n("bc3a"),c=(r=n.n(o),n("f825")),a=n("4360"),i=n("5f87");o=n("f121"),o=r.a.create({baseURL:o.baseURL+o.version,timeout:2e4});o.interceptors.request.use((function(t){return Object(i.b)()&&(t.headers.authorization="Bearer "+Object(i.b)()),t}),(function(t){Promise.reject(t)})),o.interceptors.response.use((function(t){return t=t.data,200===t.code||0===t.code?t.data:(c.Spin.hide(),c.Message.destroy(),Promise.reject(t))}),(function(t){return c.Spin.hide(),c.Message.destroy(),t.response&&403==t.response.status?c.Message.error({content:"请求参数含非法字符"}):t.response&&401==t.response.status?10005!==t.response.data.code?c.Message.error({content:t.response.data.msg||"请求失败"}):(c.Message.warning({content:"登录状态已过期"}),a.a.dispatch("user/FedLogOut").then((function(){location.reload()}))):c.Message.error({content:t.response.data.msg||"接口异常"}),Promise.reject(t)})),e.a=o},d307:function(t,e,n){var r={"./app.js":"d9cd","./proxy.js":"7e33","./user.js":"0f9a"};function o(t){return t=c(t),n(t)}function c(t){if(n.o(r,t))return r[t];throw t=new Error("Cannot find module '"+t+"'"),t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(r)},o.resolve=c,(t.exports=o).id="d307"},d4a5:function(t,e){t.exports={version:"v1",titleSeparator:" - ",copyright:"磁星",logo:"",messageDuration:3e3,baseURL:"https://api.cixing.io/"}},d9cd:function(t,e,n){"use strict";n.r(e),n("b0c0"),n("d3b7"),n("159b");var r=n("b775"),o=n("a6b9"),c={SET_INITCONFIG:function(t,e){t.initconfig=e}};n={GetConfig:function(t){var e=t.commit;return new Promise((function(t,n){Object(r.a)({url:"/extension/config",method:"get"}).then((function(n){var r={};n.forEach((function(t){r[t.name]=t.value})),n="search_path_",localStorage.setItem("SearchDomain",r.search_domain),localStorage.setItem(n+"bt",r.search_path_bt),localStorage.setItem(n+"netdisk",r.search_path_netdisk),localStorage.setItem(n+"jav",r.search_path_jav),localStorage.setItem(n+"javActress",r.search_path_javActress),e("SET_INITCONFIG",r),e("proxy/SET_PACSCRIPT",r.proxy_pac,{root:!0}),Object(o.d)({config:r}),t()})).catch((function(t){n(t)}))}))}};e.default={namespaced:!0,state:function(){return{initconfig:{search_domain:"",email:"",notic:"",search_path:"",version:"",proxy_version:"",proxy_cmd:""}}},getters:{initconfig:function(t){return t.initconfig}},actions:n,mutations:c}},f121:function(t,e,n){var r=n("ded3");n=n("d4a5");t.exports=r({},n)}});