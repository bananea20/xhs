(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0b2928"],{"254c":function(e,t,r){"use strict";r.r(t),r("b0c0");var s=r("5530"),n=r("2f62");n={name:"Edituser",components:{},data:function(){return{userinfoItem:{username:this.name,email:this.email},pwdItem:{oldpwd:"",newpwd:""},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{type:"string",max:18,message:"？？？",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],oldpwd:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,max:18,message:"密码6~18位",trigger:"blur"}],newpwd:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,max:18,message:"密码6~18位",trigger:"blur"}]}}},computed:Object(s.a)({},Object(n.c)({name:"user/name",email:"user/email"})),methods:Object(s.a)(Object(s.a)({},Object(n.b)({GetInfo:"user/GetInfo",SaveUser:"user/SaveUser",SetPassword:"user/SetPassword"})),{},{goback:function(){this.$router.go(-1)},edituserinfoSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.SaveUser(t.userinfoItem).then((function(){t.$Message.success({background:!0,content:"修改成功"});var e=t.$Message.loading({content:"拉取用户信息",duration:0});t.GetInfo().then((function(){e(),t.$Message.success("同步数据成功"),t.$router.push({path:"/"})})).catch((function(r){e(),t.$Message.error(r)}))})).catch((function(e){t.$Message.error({content:e,background:!0})})):t.$Message.error({background:!0,content:"表单验证失败"})}))},pwdSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?t.SetPassword(t.pwdItem).then((function(){t.$Message.success({background:!0,content:"修改成功"}),t.$router.push({path:"/"})})).catch((function(e){t.$Message.error({content:e,background:!0})})):t.$Message.error({background:!0,content:"表单验证失败"})}))}})},r=r("2877"),n=Object(r.a)(n,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("Row",{staticClass:"code-row-bg mt-md sts",attrs:{type:"flex",justify:"center",align:"middle"}},[t("i-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[t("Card",[t("Icon",{attrs:{slot:"title",size:"20",type:"md-arrow-back"},on:{click:e.goback},slot:"title"}),t("span",{attrs:{slot:"extra"},slot:"extra"},[t("router-link",{attrs:{to:{path:"/"}}},[e._v(" 首页 ")])],1),t("Tabs",{attrs:{animated:!1}},[t("TabPane",{attrs:{label:"资料设置"}},[t("div",[t("Form",{ref:"userinfoItem",attrs:{model:e.userinfoItem,"label-position":"top",rules:e.rules}},[t("FormItem",{attrs:{label:"用户名",prop:"username"}},[t("i-input",{attrs:{prefix:"ios-contact-outline"},model:{value:e.userinfoItem.username,callback:function(t){e.$set(e.userinfoItem,"username",t)},expression:"userinfoItem.username"}})],1),t("FormItem",{attrs:{label:"邮  箱",prop:"email"}},[t("i-input",{attrs:{prefix:"ios-mail-outline"},model:{value:e.userinfoItem.email,callback:function(t){e.$set(e.userinfoItem,"email",t)},expression:"userinfoItem.email"}})],1),t("FormItem",{staticStyle:{"text-align":"center","margin-left":"0px"}},[t("Button",{attrs:{type:"success",long:""},on:{click:function(t){return e.edituserinfoSubmit("userinfoItem")}}},[e._v("提交")])],1)],1)],1)]),t("TabPane",{attrs:{label:"修改密码"}},[t("div",[t("Form",{ref:"pwdItem",attrs:{model:e.pwdItem,"label-position":"top",rules:e.rules}},[t("FormItem",{attrs:{label:"原密码",prop:"oldpwd"}},[t("i-input",{attrs:{prefix:"ios-lock-outline",type:"password",password:""},model:{value:e.pwdItem.oldpwd,callback:function(t){e.$set(e.pwdItem,"oldpwd",t)},expression:"pwdItem.oldpwd"}})],1),t("FormItem",{attrs:{label:"密  码",prop:"newpwd"}},[t("i-input",{attrs:{prefix:"ios-lock-outline",type:"password",password:""},model:{value:e.pwdItem.newpwd,callback:function(t){e.$set(e.pwdItem,"newpwd",t)},expression:"pwdItem.newpwd"}})],1),t("FormItem",{staticStyle:{"text-align":"center","margin-left":"0px"}},[t("Button",{attrs:{type:"success",long:""},on:{click:function(t){return e.pwdSubmit("pwdItem")}}},[e._v("提交")])],1)],1)],1)])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);