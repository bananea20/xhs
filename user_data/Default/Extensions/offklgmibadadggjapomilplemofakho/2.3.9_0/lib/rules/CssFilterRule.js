!function(t,e){"use strict";var n,c,_,S,u;t.CssFilterRule=(n=e,c=t.BaseFilterRule,_=n.StringUtils,S=[":active",":checked",":contains",":disabled",":empty",":enabled",":first-child",":first-of-type",":focus",":has",":has-text",":hover",":if",":if-not",":in-range",":invalid",":lang",":last-child",":last-of-type",":link",":matches-css",":matches-css-before",":matches-css-after",":not",":nth-child",":nth-last-child",":nth-last-of-type",":nth-of-type",":only-child",":only-of-type",":optional",":out-of-range",":properties",":read-only",":read-write",":required",":root",":target",":valid",":visited",":-abp-has",":-abp-contains",":-abp-properties"],u=[":has(",":contains(",":matches-css(",":matches-css-before(",":matches-css-after(",":-abp-has(",":-abp-contains(",":if(",":if-not(",":properties(",":-abp-properties("],function(t,e){c.call(this,t,e);var n,s=_.contains(t,c.MASK_CSS_INJECT_RULE)||_.contains(t,c.MASK_CSS_EXCEPTION_INJECT_RULE)||_.contains(t,c.MASK_CSS_INJECT_RULE_ABP);s&&(this.isInjectRule=s),n=s?(this.whiteListRule=_.contains(t,c.MASK_CSS_EXCEPTION_INJECT_RULE),this.whiteListRule?c.MASK_CSS_EXCEPTION_INJECT_RULE:c.MASK_CSS_INJECT_RULE):(this.whiteListRule=_.contains(t,c.MASK_CSS_EXCEPTION_RULE),this.whiteListRule?c.MASK_CSS_EXCEPTION_RULE:c.MASK_CSS_RULE);var i=t.indexOf(n),r=null;0<i?(r=t.substring(0,i),this.loadDomains(r)):0<t.indexOf(c.MASK_CSS_INJECT_RULE_ABP)&&(n=c.MASK_CSS_INJECT_RULE_ABP,i=t.indexOf(c.MASK_CSS_INJECT_RULE_ABP),r=t.substring(0,i),this.loadDomains(r));var a=!1,l=t.substring(i+n.length);if(!s){var o=function(t){var e=t.indexOf(":");if(e<0)return null;if(0<e&&"\\"==t.charAt(e-1))return null;var n=t.indexOf("[");if(0<=n&&n<e)return null;var s=_.indexOfAny(t,e+1,[" ","\t",">","(","[",".","#",":"]);s<0&&(s=t.length);var i=t.substring(e,s);return i.length<=1?null:{name:i,nameStartIndex:e,nameEndIndex:s}}(l);if(null!=o&&":style"==o.name)s=!0,l=function(t,e){var n=e.substring(0,t.nameStartIndex),s=t.nameStartIndex+t.name.length+1,i=e.length-1;if(i<=s)throw new Error("Empty :style pseudo class: "+e);var r=e.substring(s,i);if(_.isEmpty(n)||_.isEmpty(r))throw new Error("Wrong :style pseudo-element syntax: "+e);return n+" { "+r+" }"}(o,l);else if(null!==o&&S.indexOf(o.name)<0)throw new Error("Unknown pseudo class: "+l)}for(var h=0;h<u.length;h++)0<=l.indexOf(u[h])&&(a=!0);this.isInjectRule=s,this.cssSelector=l,this.extendedCss=a}),t.CssFilterRule.prototype=Object.create(t.BaseFilterRule.prototype)}(yiclearAPI,vAPI);