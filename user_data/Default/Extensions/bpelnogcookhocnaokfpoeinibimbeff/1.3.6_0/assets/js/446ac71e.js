"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[3980,1261,96],{51753:(e,l,t)=>{t.d(l,{Z:()=>n});var a=t(79282),o=t(57268),s=t(94209);const i=(0,o._)("i",{class:"iconfont icon-checked_icon rounded-full text-[14px] text-color-white"},null,-1),n=(0,o.aZ)({__name:"hi-checkbox",props:{value:{type:Boolean}},setup(e){const l=e;return(e,t)=>{const n=a.Z;return(0,o.wg)(),(0,o.iD)("button",{class:(0,s.normalizeClass)(["hi-checkbox block h-[16px] w-[16px] overflow-hidden rounded-[4px]",l.value?"border-[1px] border-color-blue bg-color-blue":"border-[3px] border-color-t4"])},[(0,o.Wm)(n,{show:l.value,ani:"scale"},{default:(0,o.w5)((()=>[i])),_:1},8,["show"])],2)}}})},31261:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});var a=t(35427),o=t(57268),s=t(94209);const i=(0,o.aZ)({__name:"userinfo-dialog-cancel-button",setup(e){const l=(0,o.f3)("changeShow"),t=()=>{l(!1)};return(e,l)=>{const i=a.Z;return(0,o.wg)(),(0,o.j4)(i,{type:"main",class:"bg-color-white dark:bg-opacity-20",onClick:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.toDisplayString)("取消"),1)])),_:1})}}})},60096:(e,l,t)=>{t.r(l),t.d(l,{default:()=>p});var a=t(57268),o=t(94209),s=t(29445);const i={class:"h-full pb-[24px]"},n={class:"flex h-full flex-col"},r={class:"mb-[24px] h-[44px] flex-shrink-0 border-b-[1px] border-color-m2 border-opacity-[0.06] px-[24px] text-center text-[16px] leading-[44px] text-color-t1"},c={class:"flex-1 overflow-hidden px-[24px]"},u={key:0,class:"mt-[24px] flex-shrink-0 px-[24px]"},p=(0,a.aZ)({__name:"userinfo-dialog-template",props:{title:null,isScroll:{type:Boolean,default:!0}},setup(e){const l=e,t=(0,a.Rr)();return(e,p)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",n,[(0,a._)("div",r,(0,o.toDisplayString)(l.title),1),(0,a._)("div",c,[(0,a._)("div",{class:(0,o.normalizeClass)(["h-full",{"hi-scroll":l.isScroll}])},[(0,a.WI)(e.$slots,"default")],2)]),(0,s.SU)(t).footer?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.WI)(e.$slots,"footer")])):(0,a.kq)("",!0)])]))}})},53980:(e,l,t)=>{t.r(l),t.d(l,{default:()=>w});var a=t(35427),o=t(51753),s=t(81198),i=t(57268),n=t(94209),r=t(29445),c=t(60096),u=t(31261),p=t(83078),d=t(95329),x=t(9057);const v={class:""},f={class:"text-[14px] text-color-t3"},h={class:"text-color-red"},b={class:"mx-auto my-[16px] h-[42px] px-[24px]"},_={class:"pl-[9px] text-color-t2"},g={class:"flex justify-end"},m={key:0},w=(0,i.aZ)({__name:"delete-account",setup(e){const l=(0,d.useUserStore)(),t=(0,r.iH)("main"),w=(0,r.iH)(!0),k=(0,r.iH)(!1),y=(0,r.iH)(!1),S=()=>{y.value=!y.value},D=(0,r.iH)(9);let Z=0;const U=()=>{Z=(0,p.Z)((()=>{D.value--,D.value>0?U():(t.value="danger",w.value=!1)}),1e3)};U();const C=(0,r.iH)(""),W=(0,i.Fl)((()=>l.user.email)),H=(0,i.Fl)((()=>w.value||C.value!==W.value)),T=(0,i.f3)("changeShow"),j=()=>{x.u.open({title:"提醒",message:`是否确定删除账号：<span class="text-color-t2">${W.value}</span>`,okText:"删除",onOk:()=>{$()}})},$=async()=>{k.value=!0,await l.delete(y.value),T(!1)};return(0,i.Ah)((()=>{clearTimeout(Z)})),(e,l)=>{const p=s.Z,d=o.Z,x=a.Z;return(0,i.wg)(),(0,i.j4)(c.default,{title:"删除账号？"},{default:(0,i.w5)((()=>[(0,i._)("div",v,[(0,i._)("span",f,(0,n.toDisplayString)("删除账号之后，此账号下的所有信息（包括已上传的图片）均会被清除，是否确认删除此账号？如果确认删除，请在输入框内输入："),1),(0,i._)("span",h,(0,n.toDisplayString)((0,r.SU)(W)),1)]),(0,i._)("div",b,[(0,i.Wm)(p,{value:C.value,"onUpdate:value":l[0]||(l[0]=e=>C.value=e),placeholder:"输入要删除的账号"},null,8,["value","placeholder"])]),(0,i._)("button",{class:"mt-[18px] flex items-center",onClick:S},[(0,i.Wm)(d,{value:y.value,"onUpdate:value":l[1]||(l[1]=e=>y.value=e)},null,8,["value"]),(0,i._)("span",_,(0,n.toDisplayString)("清除本地数据"),1)])])),footer:(0,i.w5)((()=>[(0,i._)("div",g,[(0,i.Wm)(x,{type:t.value,disabled:(0,r.SU)(H),loading:k.value,class:"mr-[12px]",onClick:j},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.toDisplayString)("删除")+" ",1),D.value?((0,i.wg)(),(0,i.iD)("span",m,"("+(0,n.toDisplayString)(D.value)+")",1)):(0,i.kq)("",!0)])),_:1},8,["type","disabled","loading"]),(0,i.Wm)(u.default)])])),_:1},8,["title"])}}})}}]);